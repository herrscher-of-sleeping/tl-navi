(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function go(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Me={},or=[],Xt=()=>{},Lu=()=>!1,Gi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),mo=e=>e.startsWith("onUpdate:"),lt=Object.assign,yo=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Bu=Object.prototype.hasOwnProperty,De=(e,t)=>Bu.call(e,t),fe=Array.isArray,lr=e=>Qr(e)==="[object Map]",pr=e=>Qr(e)==="[object Set]",hl=e=>Qr(e)==="[object Date]",pe=e=>typeof e=="function",Je=e=>typeof e=="string",Vt=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",na=e=>(Le(e)||pe(e))&&pe(e.then)&&pe(e.catch),ra=Object.prototype.toString,Qr=e=>ra.call(e),$u=e=>Qr(e).slice(8,-1),ia=e=>Qr(e)==="[object Object]",vo=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,jr=go(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zi=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Nu=/-(\w)/g,Bt=zi(e=>e.replace(Nu,(t,r)=>r?r.toUpperCase():"")),Fu=/\B([A-Z])/g,An=zi(e=>e.replace(Fu,"-$1").toLowerCase()),Yi=zi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ls=zi(e=>e?`on${Yi(e)}`:""),kn=(e,t)=>!Object.is(e,t),Ai=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Js=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},Mi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Vu=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let pl;const Qi=()=>pl||(pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Un(e){if(fe(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],l=Je(s)?Wu(s):Un(s);if(l)for(const a in l)t[a]=l[a]}return t}else if(Je(e)||Le(e))return e}const qu=/;(?![^(]*\))/g,Hu=/:([^]+)/,Uu=/\/\*[^]*?\*\//g;function Wu(e){const t={};return e.replace(Uu,"").split(qu).forEach(r=>{if(r){const s=r.split(Hu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Nt(e){let t="";if(Je(e))t=e;else if(fe(e))for(let r=0;r<e.length;r++){const s=Nt(e[r]);s&&(t+=s+" ")}else if(Le(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Gu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zu=go(Gu);function sa(e){return!!e||e===""}function Yu(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=Jr(e[s],t[s]);return r}function Jr(e,t){if(e===t)return!0;let r=hl(e),s=hl(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=Vt(e),s=Vt(t),r||s)return e===t;if(r=fe(e),s=fe(t),r||s)return r&&s?Yu(e,t):!1;if(r=Le(e),s=Le(t),r||s){if(!r||!s)return!1;const l=Object.keys(e).length,a=Object.keys(t).length;if(l!==a)return!1;for(const c in e){const h=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(h&&!p||!h&&p||!Jr(e[c],t[c]))return!1}}return String(e)===String(t)}function bo(e,t){return e.findIndex(r=>Jr(r,t))}const oa=e=>!!(e&&e.__v_isRef===!0),xt=e=>Je(e)?e:e==null?"":fe(e)||Le(e)&&(e.toString===ra||!pe(e.toString))?oa(e)?xt(e.value):JSON.stringify(e,la,2):String(e),la=(e,t)=>oa(t)?la(e,t.value):lr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,l],a)=>(r[Bs(s,a)+" =>"]=l,r),{})}:pr(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Bs(r))}:Vt(t)?Bs(t):Le(t)&&!fe(t)&&!ia(t)?String(t):t,Bs=(e,t="")=>{var r;return Vt(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Qu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!t&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Ct;try{return Ct=this,t()}finally{Ct=r}}}on(){++this._on===1&&(this.prevScope=Ct,Ct=this)}off(){this._on>0&&--this._on===0&&(Ct=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function Ju(){return Ct}let $e;const $s=new WeakSet;class aa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$s.has(this)&&($s.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ca(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gl(this),fa(this);const t=$e,r=Ft;$e=this,Ft=!0;try{return this.fn()}finally{da(this),$e=t,Ft=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)xo(t);this.deps=this.depsTail=void 0,gl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$s.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xs(this)&&this.run()}get dirty(){return Xs(this)}}let ua=0,Dr,Rr;function ca(e,t=!1){if(e.flags|=8,t){e.next=Rr,Rr=e;return}e.next=Dr,Dr=e}function wo(){ua++}function _o(){if(--ua>0)return;if(Rr){let t=Rr;for(Rr=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Dr;){let t=Dr;for(Dr=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function fa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function da(e){let t,r=e.depsTail,s=r;for(;s;){const l=s.prevDep;s.version===-1?(s===r&&(r=l),xo(s),Xu(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=l}e.deps=t,e.depsTail=r}function Xs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ha(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ha(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Nr)||(e.globalVersion=Nr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Xs(e))))return;e.flags|=2;const t=e.dep,r=$e,s=Ft;$e=e,Ft=!0;try{fa(e);const l=e.fn(e._value);(t.version===0||kn(l,e._value))&&(e.flags|=128,e._value=l,t.version++)}catch(l){throw t.version++,l}finally{$e=r,Ft=s,da(e),e.flags&=-3}}function xo(e,t=!1){const{dep:r,prevSub:s,nextSub:l}=e;if(s&&(s.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)xo(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Xu(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Ft=!0;const pa=[];function cn(){pa.push(Ft),Ft=!1}function fn(){const e=pa.pop();Ft=e===void 0?!0:e}function gl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=$e;$e=void 0;try{t()}finally{$e=r}}}let Nr=0;class Zu{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class So{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!$e||!Ft||$e===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==$e)r=this.activeLink=new Zu($e,this),$e.deps?(r.prevDep=$e.depsTail,$e.depsTail.nextDep=r,$e.depsTail=r):$e.deps=$e.depsTail=r,ga(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=$e.depsTail,r.nextDep=void 0,$e.depsTail.nextDep=r,$e.depsTail=r,$e.deps===r&&($e.deps=s)}return r}trigger(t){this.version++,Nr++,this.notify(t)}notify(t){wo();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{_o()}}}function ga(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)ga(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Zs=new WeakMap,Wn=Symbol(""),eo=Symbol(""),Fr=Symbol("");function gt(e,t,r){if(Ft&&$e){let s=Zs.get(e);s||Zs.set(e,s=new Map);let l=s.get(r);l||(s.set(r,l=new So),l.map=s,l.key=r),l.track()}}function on(e,t,r,s,l,a){const c=Zs.get(e);if(!c){Nr++;return}const h=p=>{p&&p.trigger()};if(wo(),t==="clear")c.forEach(h);else{const p=fe(e),k=p&&vo(r);if(p&&r==="length"){const b=Number(s);c.forEach((T,B)=>{(B==="length"||B===Fr||!Vt(B)&&B>=b)&&h(T)})}else switch((r!==void 0||c.has(void 0))&&h(c.get(r)),k&&h(c.get(Fr)),t){case"add":p?k&&h(c.get("length")):(h(c.get(Wn)),lr(e)&&h(c.get(eo)));break;case"delete":p||(h(c.get(Wn)),lr(e)&&h(c.get(eo)));break;case"set":lr(e)&&h(c.get(Wn));break}}_o()}function rr(e){const t=je(e);return t===e?t:(gt(t,"iterate",Fr),Lt(e)?t:t.map(ct))}function Ji(e){return gt(e=je(e),"iterate",Fr),e}const ec={__proto__:null,[Symbol.iterator](){return Ns(this,Symbol.iterator,ct)},concat(...e){return rr(this).concat(...e.map(t=>fe(t)?rr(t):t))},entries(){return Ns(this,"entries",e=>(e[1]=ct(e[1]),e))},every(e,t){return nn(this,"every",e,t,void 0,arguments)},filter(e,t){return nn(this,"filter",e,t,r=>r.map(ct),arguments)},find(e,t){return nn(this,"find",e,t,ct,arguments)},findIndex(e,t){return nn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return nn(this,"findLast",e,t,ct,arguments)},findLastIndex(e,t){return nn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return nn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Fs(this,"includes",e)},indexOf(...e){return Fs(this,"indexOf",e)},join(e){return rr(this).join(e)},lastIndexOf(...e){return Fs(this,"lastIndexOf",e)},map(e,t){return nn(this,"map",e,t,void 0,arguments)},pop(){return kr(this,"pop")},push(...e){return kr(this,"push",e)},reduce(e,...t){return ml(this,"reduce",e,t)},reduceRight(e,...t){return ml(this,"reduceRight",e,t)},shift(){return kr(this,"shift")},some(e,t){return nn(this,"some",e,t,void 0,arguments)},splice(...e){return kr(this,"splice",e)},toReversed(){return rr(this).toReversed()},toSorted(e){return rr(this).toSorted(e)},toSpliced(...e){return rr(this).toSpliced(...e)},unshift(...e){return kr(this,"unshift",e)},values(){return Ns(this,"values",ct)}};function Ns(e,t,r){const s=Ji(e),l=s[t]();return s!==e&&!Lt(e)&&(l._next=l.next,l.next=()=>{const a=l._next();return a.value&&(a.value=r(a.value)),a}),l}const tc=Array.prototype;function nn(e,t,r,s,l,a){const c=Ji(e),h=c!==e&&!Lt(e),p=c[t];if(p!==tc[t]){const T=p.apply(e,a);return h?ct(T):T}let k=r;c!==e&&(h?k=function(T,B){return r.call(this,ct(T),B,e)}:r.length>2&&(k=function(T,B){return r.call(this,T,B,e)}));const b=p.call(c,k,s);return h&&l?l(b):b}function ml(e,t,r,s){const l=Ji(e);let a=r;return l!==e&&(Lt(e)?r.length>3&&(a=function(c,h,p){return r.call(this,c,h,p,e)}):a=function(c,h,p){return r.call(this,c,ct(h),p,e)}),l[t](a,...s)}function Fs(e,t,r){const s=je(e);gt(s,"iterate",Fr);const l=s[t](...r);return(l===-1||l===!1)&&Co(r[0])?(r[0]=je(r[0]),s[t](...r)):l}function kr(e,t,r=[]){cn(),wo();const s=je(e)[t].apply(e,r);return _o(),fn(),s}const nc=go("__proto__,__v_isRef,__isVue"),ma=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vt));function rc(e){Vt(e)||(e=String(e));const t=je(this);return gt(t,"has",e),t.hasOwnProperty(e)}class ya{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const l=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!l;if(r==="__v_isReadonly")return l;if(r==="__v_isShallow")return a;if(r==="__v_raw")return s===(l?a?hc:_a:a?wa:ba).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const c=fe(t);if(!l){let p;if(c&&(p=ec[r]))return p;if(r==="hasOwnProperty")return rc}const h=Reflect.get(t,r,yt(t)?t:s);return(Vt(r)?ma.has(r):nc(r))||(l||gt(t,"get",r),a)?h:yt(h)?c&&vo(r)?h:h.value:Le(h)?l?xa(h):Xi(h):h}}class va extends ya{constructor(t=!1){super(!1,t)}set(t,r,s,l){let a=t[r];if(!this._isShallow){const p=Tn(a);if(!Lt(s)&&!Tn(s)&&(a=je(a),s=je(s)),!fe(t)&&yt(a)&&!yt(s))return p?!1:(a.value=s,!0)}const c=fe(t)&&vo(r)?Number(r)<t.length:De(t,r),h=Reflect.set(t,r,s,yt(t)?t:l);return t===je(l)&&(c?kn(s,a)&&on(t,"set",r,s):on(t,"add",r,s)),h}deleteProperty(t,r){const s=De(t,r);t[r];const l=Reflect.deleteProperty(t,r);return l&&s&&on(t,"delete",r,void 0),l}has(t,r){const s=Reflect.has(t,r);return(!Vt(r)||!ma.has(r))&&gt(t,"has",r),s}ownKeys(t){return gt(t,"iterate",fe(t)?"length":Wn),Reflect.ownKeys(t)}}class ic extends ya{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const sc=new va,oc=new ic,lc=new va(!0);const to=e=>e,Ci=e=>Reflect.getPrototypeOf(e);function ac(e,t,r){return function(...s){const l=this.__v_raw,a=je(l),c=lr(a),h=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,k=l[e](...s),b=r?to:t?Li:ct;return!t&&gt(a,"iterate",p?eo:Wn),{next(){const{value:T,done:B}=k.next();return B?{value:T,done:B}:{value:h?[b(T[0]),b(T[1])]:b(T),done:B}},[Symbol.iterator](){return this}}}}function ki(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function uc(e,t){const r={get(l){const a=this.__v_raw,c=je(a),h=je(l);e||(kn(l,h)&&gt(c,"get",l),gt(c,"get",h));const{has:p}=Ci(c),k=t?to:e?Li:ct;if(p.call(c,l))return k(a.get(l));if(p.call(c,h))return k(a.get(h));a!==c&&a.get(l)},get size(){const l=this.__v_raw;return!e&&gt(je(l),"iterate",Wn),Reflect.get(l,"size",l)},has(l){const a=this.__v_raw,c=je(a),h=je(l);return e||(kn(l,h)&&gt(c,"has",l),gt(c,"has",h)),l===h?a.has(l):a.has(l)||a.has(h)},forEach(l,a){const c=this,h=c.__v_raw,p=je(h),k=t?to:e?Li:ct;return!e&&gt(p,"iterate",Wn),h.forEach((b,T)=>l.call(a,k(b),k(T),c))}};return lt(r,e?{add:ki("add"),set:ki("set"),delete:ki("delete"),clear:ki("clear")}:{add(l){!t&&!Lt(l)&&!Tn(l)&&(l=je(l));const a=je(this);return Ci(a).has.call(a,l)||(a.add(l),on(a,"add",l,l)),this},set(l,a){!t&&!Lt(a)&&!Tn(a)&&(a=je(a));const c=je(this),{has:h,get:p}=Ci(c);let k=h.call(c,l);k||(l=je(l),k=h.call(c,l));const b=p.call(c,l);return c.set(l,a),k?kn(a,b)&&on(c,"set",l,a):on(c,"add",l,a),this},delete(l){const a=je(this),{has:c,get:h}=Ci(a);let p=c.call(a,l);p||(l=je(l),p=c.call(a,l)),h&&h.call(a,l);const k=a.delete(l);return p&&on(a,"delete",l,void 0),k},clear(){const l=je(this),a=l.size!==0,c=l.clear();return a&&on(l,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(l=>{r[l]=ac(l,e,t)}),r}function Oo(e,t){const r=uc(e,t);return(s,l,a)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?s:Reflect.get(De(r,l)&&l in s?r:s,l,a)}const cc={get:Oo(!1,!1)},fc={get:Oo(!1,!0)},dc={get:Oo(!0,!1)};const ba=new WeakMap,wa=new WeakMap,_a=new WeakMap,hc=new WeakMap;function pc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gc(e){return e.__v_skip||!Object.isExtensible(e)?0:pc($u(e))}function Xi(e){return Tn(e)?e:Eo(e,!1,sc,cc,ba)}function mc(e){return Eo(e,!1,lc,fc,wa)}function xa(e){return Eo(e,!0,oc,dc,_a)}function Eo(e,t,r,s,l){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=gc(e);if(a===0)return e;const c=l.get(e);if(c)return c;const h=new Proxy(e,a===2?s:r);return l.set(e,h),h}function ar(e){return Tn(e)?ar(e.__v_raw):!!(e&&e.__v_isReactive)}function Tn(e){return!!(e&&e.__v_isReadonly)}function Lt(e){return!!(e&&e.__v_isShallow)}function Co(e){return e?!!e.__v_raw:!1}function je(e){const t=e&&e.__v_raw;return t?je(t):e}function yc(e){return!De(e,"__v_skip")&&Object.isExtensible(e)&&Js(e,"__v_skip",!0),e}const ct=e=>Le(e)?Xi(e):e,Li=e=>Le(e)?xa(e):e;function yt(e){return e?e.__v_isRef===!0:!1}function Ue(e){return vc(e,!1)}function vc(e,t){return yt(e)?e:new bc(e,t)}class bc{constructor(t,r){this.dep=new So,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:je(t),this._value=r?t:ct(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||Lt(t)||Tn(t);t=s?t:je(t),kn(t,r)&&(this._rawValue=t,this._value=s?t:ct(t),this.dep.trigger())}}function ut(e){return yt(e)?e.value:e}const wc={get:(e,t,r)=>t==="__v_raw"?e:ut(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const l=e[t];return yt(l)&&!yt(r)?(l.value=r,!0):Reflect.set(e,t,r,s)}};function Sa(e){return ar(e)?e:new Proxy(e,wc)}class _c{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new So(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Nr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return ca(this,!0),!0}get value(){const t=this.dep.track();return ha(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xc(e,t,r=!1){let s,l;return pe(e)?s=e:(s=e.get,l=e.set),new _c(s,l,r)}const Ti={},Bi=new WeakMap;let Vn;function Sc(e,t=!1,r=Vn){if(r){let s=Bi.get(r);s||Bi.set(r,s=[]),s.push(e)}}function Oc(e,t,r=Me){const{immediate:s,deep:l,once:a,scheduler:c,augmentJob:h,call:p}=r,k=le=>l?le:Lt(le)||l===!1||l===0?ln(le,1):ln(le);let b,T,B,H,K=!1,P=!1;if(yt(e)?(T=()=>e.value,K=Lt(e)):ar(e)?(T=()=>k(e),K=!0):fe(e)?(P=!0,K=e.some(le=>ar(le)||Lt(le)),T=()=>e.map(le=>{if(yt(le))return le.value;if(ar(le))return k(le);if(pe(le))return p?p(le,2):le()})):pe(e)?t?T=p?()=>p(e,2):e:T=()=>{if(B){cn();try{B()}finally{fn()}}const le=Vn;Vn=b;try{return p?p(e,3,[H]):e(H)}finally{Vn=le}}:T=Xt,t&&l){const le=T,ve=l===!0?1/0:l;T=()=>ln(le(),ve)}const F=Ju(),X=()=>{b.stop(),F&&F.active&&yo(F.effects,b)};if(a&&t){const le=t;t=(...ve)=>{le(...ve),X()}}let he=P?new Array(e.length).fill(Ti):Ti;const we=le=>{if(!(!(b.flags&1)||!b.dirty&&!le))if(t){const ve=b.run();if(l||K||(P?ve.some((Ae,Re)=>kn(Ae,he[Re])):kn(ve,he))){B&&B();const Ae=Vn;Vn=b;try{const Re=[ve,he===Ti?void 0:P&&he[0]===Ti?[]:he,H];he=ve,p?p(t,3,Re):t(...Re)}finally{Vn=Ae}}}else b.run()};return h&&h(we),b=new aa(T),b.scheduler=c?()=>c(we,!1):we,H=le=>Sc(le,!1,b),B=b.onStop=()=>{const le=Bi.get(b);if(le){if(p)p(le,4);else for(const ve of le)ve();Bi.delete(b)}},t?s?we(!0):he=b.run():c?c(we.bind(null,!0),!0):b.run(),X.pause=b.pause.bind(b),X.resume=b.resume.bind(b),X.stop=X,X}function ln(e,t=1/0,r){if(t<=0||!Le(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,yt(e))ln(e.value,t,r);else if(fe(e))for(let s=0;s<e.length;s++)ln(e[s],t,r);else if(pr(e)||lr(e))e.forEach(s=>{ln(s,t,r)});else if(ia(e)){for(const s in e)ln(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&ln(e[s],t,r)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xr(e,t,r,s){try{return s?e(...s):e()}catch(l){Zi(l,t,r)}}function qt(e,t,r,s){if(pe(e)){const l=Xr(e,t,r,s);return l&&na(l)&&l.catch(a=>{Zi(a,t,r)}),l}if(fe(e)){const l=[];for(let a=0;a<e.length;a++)l.push(qt(e[a],t,r,s));return l}}function Zi(e,t,r,s=!0){const l=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||Me;if(t){let h=t.parent;const p=t.proxy,k=`https://vuejs.org/error-reference/#runtime-${r}`;for(;h;){const b=h.ec;if(b){for(let T=0;T<b.length;T++)if(b[T](e,p,k)===!1)return}h=h.parent}if(a){cn(),Xr(a,null,10,[e,p,k]),fn();return}}Ec(e,r,l,s,c)}function Ec(e,t,r,s=!0,l=!1){if(l)throw e;console.error(e)}const St=[];let Yt=-1;const ur=[];let Sn=null,ir=0;const Oa=Promise.resolve();let $i=null;function ko(e){const t=$i||Oa;return e?t.then(this?e.bind(this):e):t}function Cc(e){let t=Yt+1,r=St.length;for(;t<r;){const s=t+r>>>1,l=St[s],a=Vr(l);a<e||a===e&&l.flags&2?t=s+1:r=s}return t}function To(e){if(!(e.flags&1)){const t=Vr(e),r=St[St.length-1];!r||!(e.flags&2)&&t>=Vr(r)?St.push(e):St.splice(Cc(t),0,e),e.flags|=1,Ea()}}function Ea(){$i||($i=Oa.then(ka))}function kc(e){fe(e)?ur.push(...e):Sn&&e.id===-1?Sn.splice(ir+1,0,e):e.flags&1||(ur.push(e),e.flags|=1),Ea()}function yl(e,t,r=Yt+1){for(;r<St.length;r++){const s=St[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;St.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ca(e){if(ur.length){const t=[...new Set(ur)].sort((r,s)=>Vr(r)-Vr(s));if(ur.length=0,Sn){Sn.push(...t);return}for(Sn=t,ir=0;ir<Sn.length;ir++){const r=Sn[ir];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Sn=null,ir=0}}const Vr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ka(e){try{for(Yt=0;Yt<St.length;Yt++){const t=St[Yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Xr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Yt<St.length;Yt++){const t=St[Yt];t&&(t.flags&=-2)}Yt=-1,St.length=0,Ca(),$i=null,(St.length||ur.length)&&ka()}}let ot=null,Ta=null;function Ni(e){const t=ot;return ot=e,Ta=e&&e.type.__scopeId||null,t}function no(e,t=ot,r){if(!t||e._n)return e;const s=(...l)=>{s._d&&Tl(-1);const a=Ni(t);let c;try{c=e(...l)}finally{Ni(a),s._d&&Tl(1)}return c};return s._n=!0,s._c=!0,s._d=!0,s}function Jt(e,t){if(ot===null)return e;const r=is(ot),s=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[a,c,h,p=Me]=t[l];a&&(pe(a)&&(a={mounted:a,updated:a}),a.deep&&ln(c),s.push({dir:a,instance:r,value:c,oldValue:void 0,arg:h,modifiers:p}))}return e}function Bn(e,t,r,s){const l=e.dirs,a=t&&t.dirs;for(let c=0;c<l.length;c++){const h=l[c];a&&(h.oldValue=a[c].value);let p=h.dir[s];p&&(cn(),qt(p,r,8,[e.el,h,e,t]),fn())}}const Tc=Symbol("_vte"),Pa=e=>e.__isTeleport,On=Symbol("_leaveCb"),Pi=Symbol("_enterCb");function Pc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Po(()=>{e.isMounted=!0}),La(()=>{e.isUnmounting=!0}),e}const Mt=[Function,Array],Aa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mt,onEnter:Mt,onAfterEnter:Mt,onEnterCancelled:Mt,onBeforeLeave:Mt,onLeave:Mt,onAfterLeave:Mt,onLeaveCancelled:Mt,onBeforeAppear:Mt,onAppear:Mt,onAfterAppear:Mt,onAppearCancelled:Mt},Ia=e=>{const t=e.subTree;return t.component?Ia(t.component):t},Ac={name:"BaseTransition",props:Aa,setup(e,{slots:t}){const r=Pf(),s=Pc();return()=>{const l=t.default&&Ra(t.default(),!0);if(!l||!l.length)return;const a=ja(l),c=je(e),{mode:h}=c;if(s.isLeaving)return Vs(a);const p=vl(a);if(!p)return Vs(a);let k=ro(p,c,s,r,T=>k=T);p.type!==mt&&qr(p,k);let b=r.subTree&&vl(r.subTree);if(b&&b.type!==mt&&!qn(p,b)&&Ia(r).type!==mt){let T=ro(b,c,s,r);if(qr(b,T),h==="out-in"&&p.type!==mt)return s.isLeaving=!0,T.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete T.afterLeave,b=void 0},Vs(a);h==="in-out"&&p.type!==mt?T.delayLeave=(B,H,K)=>{const P=Da(s,b);P[String(b.key)]=b,B[On]=()=>{H(),B[On]=void 0,delete k.delayedLeave,b=void 0},k.delayedLeave=()=>{K(),delete k.delayedLeave,b=void 0}}:b=void 0}else b&&(b=void 0);return a}}};function ja(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==mt){t=r;break}}return t}const Ic=Ac;function Da(e,t){const{leavingVNodes:r}=e;let s=r.get(t.type);return s||(s=Object.create(null),r.set(t.type,s)),s}function ro(e,t,r,s,l){const{appear:a,mode:c,persisted:h=!1,onBeforeEnter:p,onEnter:k,onAfterEnter:b,onEnterCancelled:T,onBeforeLeave:B,onLeave:H,onAfterLeave:K,onLeaveCancelled:P,onBeforeAppear:F,onAppear:X,onAfterAppear:he,onAppearCancelled:we}=t,le=String(e.key),ve=Da(r,e),Ae=(_e,Ie)=>{_e&&qt(_e,s,9,Ie)},Re=(_e,Ie)=>{const Be=Ie[1];Ae(_e,Ie),fe(_e)?_e.every(oe=>oe.length<=1)&&Be():_e.length<=1&&Be()},at={mode:c,persisted:h,beforeEnter(_e){let Ie=p;if(!r.isMounted)if(a)Ie=F||p;else return;_e[On]&&_e[On](!0);const Be=ve[le];Be&&qn(e,Be)&&Be.el[On]&&Be.el[On](),Ae(Ie,[_e])},enter(_e){let Ie=k,Be=b,oe=T;if(!r.isMounted)if(a)Ie=X||k,Be=he||b,oe=we||T;else return;let Te=!1;const tt=_e[Pi]=kt=>{Te||(Te=!0,kt?Ae(oe,[_e]):Ae(Be,[_e]),at.delayedLeave&&at.delayedLeave(),_e[Pi]=void 0)};Ie?Re(Ie,[_e,tt]):tt()},leave(_e,Ie){const Be=String(e.key);if(_e[Pi]&&_e[Pi](!0),r.isUnmounting)return Ie();Ae(B,[_e]);let oe=!1;const Te=_e[On]=tt=>{oe||(oe=!0,Ie(),tt?Ae(P,[_e]):Ae(K,[_e]),_e[On]=void 0,ve[Be]===e&&delete ve[Be])};ve[Be]=e,H?Re(H,[_e,Te]):Te()},clone(_e){const Ie=ro(_e,t,r,s,l);return l&&l(Ie),Ie}};return at}function Vs(e){if(es(e))return e=Pn(e),e.children=null,e}function vl(e){if(!es(e))return Pa(e.type)&&e.children?ja(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&pe(r.default))return r.default()}}function qr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,qr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ra(e,t=!1,r){let s=[],l=0;for(let a=0;a<e.length;a++){let c=e[a];const h=r==null?c.key:String(r)+String(c.key!=null?c.key:a);c.type===et?(c.patchFlag&128&&l++,s=s.concat(Ra(c.children,t,h))):(t||c.type!==mt)&&s.push(h!=null?Pn(c,{key:h}):c)}if(l>1)for(let a=0;a<s.length;a++)s[a].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Zr(e,t){return pe(e)?lt({name:e.name},t,{setup:e}):e}function Ka(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Kr(e,t,r,s,l=!1){if(fe(e)){e.forEach((K,P)=>Kr(K,t&&(fe(t)?t[P]:t),r,s,l));return}if(cr(s)&&!l){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Kr(e,t,r,s.component.subTree);return}const a=s.shapeFlag&4?is(s.component):s.el,c=l?null:a,{i:h,r:p}=e,k=t&&t.r,b=h.refs===Me?h.refs={}:h.refs,T=h.setupState,B=je(T),H=T===Me?()=>!1:K=>De(B,K);if(k!=null&&k!==p&&(Je(k)?(b[k]=null,H(k)&&(T[k]=null)):yt(k)&&(k.value=null)),pe(p))Xr(p,h,12,[c,b]);else{const K=Je(p),P=yt(p);if(K||P){const F=()=>{if(e.f){const X=K?H(p)?T[p]:b[p]:p.value;l?fe(X)&&yo(X,a):fe(X)?X.includes(a)||X.push(a):K?(b[p]=[a],H(p)&&(T[p]=b[p])):(p.value=[a],e.k&&(b[e.k]=p.value))}else K?(b[p]=c,H(p)&&(T[p]=c)):P&&(p.value=c,e.k&&(b[e.k]=c))};c?(F.id=-1,At(F,r)):F()}}}Qi().requestIdleCallback;Qi().cancelIdleCallback;const cr=e=>!!e.type.__asyncLoader,es=e=>e.type.__isKeepAlive;function jc(e,t){Ma(e,"a",t)}function Dc(e,t){Ma(e,"da",t)}function Ma(e,t,r=ft){const s=e.__wdc||(e.__wdc=()=>{let l=r;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(ts(t,s,r),r){let l=r.parent;for(;l&&l.parent;)es(l.parent.vnode)&&Rc(s,t,r,l),l=l.parent}}function Rc(e,t,r,s){const l=ts(t,e,s,!0);Ao(()=>{yo(s[t],l)},r)}function ts(e,t,r=ft,s=!1){if(r){const l=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...c)=>{cn();const h=ei(r),p=qt(t,r,e,c);return h(),fn(),p});return s?l.unshift(a):l.push(a),a}}const dn=e=>(t,r=ft)=>{(!Wr||e==="sp")&&ts(e,(...s)=>t(...s),r)},Kc=dn("bm"),Po=dn("m"),Mc=dn("bu"),Lc=dn("u"),La=dn("bum"),Ao=dn("um"),Bc=dn("sp"),$c=dn("rtg"),Nc=dn("rtc");function Fc(e,t=ft){ts("ec",e,t)}const Vc="components";function qc(e,t){return Uc(Vc,e,!0,t)||e}const Hc=Symbol.for("v-ndc");function Uc(e,t,r=!0,s=!1){const l=ot||ft;if(l){const a=l.type;{const h=Rf(a,!1);if(h&&(h===t||h===Bt(t)||h===Yi(Bt(t))))return a}const c=bl(l[e]||a[e],t)||bl(l.appContext[e],t);return!c&&s?a:c}}function bl(e,t){return e&&(e[t]||e[Bt(t)]||e[Yi(Bt(t))])}function Fi(e,t,r,s){let l;const a=r,c=fe(e);if(c||Je(e)){const h=c&&ar(e);let p=!1,k=!1;h&&(p=!Lt(e),k=Tn(e),e=Ji(e)),l=new Array(e.length);for(let b=0,T=e.length;b<T;b++)l[b]=t(p?k?Li(ct(e[b])):ct(e[b]):e[b],b,void 0,a)}else if(typeof e=="number"){l=new Array(e);for(let h=0;h<e;h++)l[h]=t(h+1,h,void 0,a)}else if(Le(e))if(e[Symbol.iterator])l=Array.from(e,(h,p)=>t(h,p,void 0,a));else{const h=Object.keys(e);l=new Array(h.length);for(let p=0,k=h.length;p<k;p++){const b=h[p];l[p]=t(e[b],b,p,a)}}else l=[];return l}function wt(e,t,r={},s,l){if(ot.ce||ot.parent&&cr(ot.parent)&&ot.parent.ce)return t!=="default"&&(r.name=t),Ke(),qi(et,null,[He("slot",r,s&&s())],64);let a=e[t];a&&a._c&&(a._d=!1),Ke();const c=a&&Ba(a(r)),h=r.key||c&&c.key,p=qi(et,{key:(h&&!Vt(h)?h:`_${t}`)+(!c&&s?"_fb":"")},c||(s?s():[]),c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function Ba(e){return e.some(t=>Ur(t)?!(t.type===mt||t.type===et&&!Ba(t.children)):!0)?e:null}const io=e=>e?iu(e)?is(e):io(e.parent):null,Mr=lt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>io(e.parent),$root:e=>io(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Na(e),$forceUpdate:e=>e.f||(e.f=()=>{To(e.update)}),$nextTick:e=>e.n||(e.n=ko.bind(e.proxy)),$watch:e=>pf.bind(e)}),qs=(e,t)=>e!==Me&&!e.__isScriptSetup&&De(e,t),Wc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:l,props:a,accessCache:c,type:h,appContext:p}=e;let k;if(t[0]!=="$"){const H=c[t];if(H!==void 0)switch(H){case 1:return s[t];case 2:return l[t];case 4:return r[t];case 3:return a[t]}else{if(qs(s,t))return c[t]=1,s[t];if(l!==Me&&De(l,t))return c[t]=2,l[t];if((k=e.propsOptions[0])&&De(k,t))return c[t]=3,a[t];if(r!==Me&&De(r,t))return c[t]=4,r[t];so&&(c[t]=0)}}const b=Mr[t];let T,B;if(b)return t==="$attrs"&&gt(e.attrs,"get",""),b(e);if((T=h.__cssModules)&&(T=T[t]))return T;if(r!==Me&&De(r,t))return c[t]=4,r[t];if(B=p.config.globalProperties,De(B,t))return B[t]},set({_:e},t,r){const{data:s,setupState:l,ctx:a}=e;return qs(l,t)?(l[t]=r,!0):s!==Me&&De(s,t)?(s[t]=r,!0):De(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:l,propsOptions:a}},c){let h;return!!r[c]||e!==Me&&De(e,c)||qs(t,c)||(h=a[0])&&De(h,c)||De(s,c)||De(Mr,c)||De(l.config.globalProperties,c)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:De(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function wl(e){return fe(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let so=!0;function Gc(e){const t=Na(e),r=e.proxy,s=e.ctx;so=!1,t.beforeCreate&&_l(t.beforeCreate,e,"bc");const{data:l,computed:a,methods:c,watch:h,provide:p,inject:k,created:b,beforeMount:T,mounted:B,beforeUpdate:H,updated:K,activated:P,deactivated:F,beforeDestroy:X,beforeUnmount:he,destroyed:we,unmounted:le,render:ve,renderTracked:Ae,renderTriggered:Re,errorCaptured:at,serverPrefetch:_e,expose:Ie,inheritAttrs:Be,components:oe,directives:Te,filters:tt}=t;if(k&&zc(k,s,null),c)for(const Ne in c){const Ee=c[Ne];pe(Ee)&&(s[Ne]=Ee.bind(r))}if(l){const Ne=l.call(r,r);Le(Ne)&&(e.data=Xi(Ne))}if(so=!0,a)for(const Ne in a){const Ee=a[Ne],Ot=pe(Ee)?Ee.bind(r,r):pe(Ee.get)?Ee.get.bind(r,r):Xt,Et=!pe(Ee)&&pe(Ee.set)?Ee.set.bind(r):Xt,$t=Gr({get:Ot,set:Et});Object.defineProperty(s,Ne,{enumerable:!0,configurable:!0,get:()=>$t.value,set:Dt=>$t.value=Dt})}if(h)for(const Ne in h)$a(h[Ne],s,r,Ne);if(p){const Ne=pe(p)?p.call(r):p;Reflect.ownKeys(Ne).forEach(Ee=>{ef(Ee,Ne[Ee])})}b&&_l(b,e,"c");function We(Ne,Ee){fe(Ee)?Ee.forEach(Ot=>Ne(Ot.bind(r))):Ee&&Ne(Ee.bind(r))}if(We(Kc,T),We(Po,B),We(Mc,H),We(Lc,K),We(jc,P),We(Dc,F),We(Fc,at),We(Nc,Ae),We($c,Re),We(La,he),We(Ao,le),We(Bc,_e),fe(Ie))if(Ie.length){const Ne=e.exposed||(e.exposed={});Ie.forEach(Ee=>{Object.defineProperty(Ne,Ee,{get:()=>r[Ee],set:Ot=>r[Ee]=Ot})})}else e.exposed||(e.exposed={});ve&&e.render===Xt&&(e.render=ve),Be!=null&&(e.inheritAttrs=Be),oe&&(e.components=oe),Te&&(e.directives=Te),_e&&Ka(e)}function zc(e,t,r=Xt){fe(e)&&(e=oo(e));for(const s in e){const l=e[s];let a;Le(l)?"default"in l?a=Ii(l.from||s,l.default,!0):a=Ii(l.from||s):a=Ii(l),yt(a)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[s]=a}}function _l(e,t,r){qt(fe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function $a(e,t,r,s){let l=s.includes(".")?Za(r,s):()=>r[s];if(Je(e)){const a=t[e];pe(a)&&Lr(l,a)}else if(pe(e))Lr(l,e.bind(r));else if(Le(e))if(fe(e))e.forEach(a=>$a(a,t,r,s));else{const a=pe(e.handler)?e.handler.bind(r):t[e.handler];pe(a)&&Lr(l,a,e)}}function Na(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:l,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,h=a.get(t);let p;return h?p=h:!l.length&&!r&&!s?p=t:(p={},l.length&&l.forEach(k=>Vi(p,k,c,!0)),Vi(p,t,c)),Le(t)&&a.set(t,p),p}function Vi(e,t,r,s=!1){const{mixins:l,extends:a}=t;a&&Vi(e,a,r,!0),l&&l.forEach(c=>Vi(e,c,r,!0));for(const c in t)if(!(s&&c==="expose")){const h=Yc[c]||r&&r[c];e[c]=h?h(e[c],t[c]):t[c]}return e}const Yc={data:xl,props:Sl,emits:Sl,methods:Ir,computed:Ir,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:Ir,directives:Ir,watch:Jc,provide:xl,inject:Qc};function xl(e,t){return t?e?function(){return lt(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function Qc(e,t){return Ir(oo(e),oo(t))}function oo(e){if(fe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function _t(e,t){return e?[...new Set([].concat(e,t))]:t}function Ir(e,t){return e?lt(Object.create(null),e,t):t}function Sl(e,t){return e?fe(e)&&fe(t)?[...new Set([...e,...t])]:lt(Object.create(null),wl(e),wl(t??{})):t}function Jc(e,t){if(!e)return t;if(!t)return e;const r=lt(Object.create(null),e);for(const s in t)r[s]=_t(e[s],t[s]);return r}function Fa(){return{app:null,config:{isNativeTag:Lu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xc=0;function Zc(e,t){return function(s,l=null){pe(s)||(s=lt({},s)),l!=null&&!Le(l)&&(l=null);const a=Fa(),c=new WeakSet,h=[];let p=!1;const k=a.app={_uid:Xc++,_component:s,_props:l,_container:null,_context:a,_instance:null,version:Mf,get config(){return a.config},set config(b){},use(b,...T){return c.has(b)||(b&&pe(b.install)?(c.add(b),b.install(k,...T)):pe(b)&&(c.add(b),b(k,...T))),k},mixin(b){return a.mixins.includes(b)||a.mixins.push(b),k},component(b,T){return T?(a.components[b]=T,k):a.components[b]},directive(b,T){return T?(a.directives[b]=T,k):a.directives[b]},mount(b,T,B){if(!p){const H=k._ceVNode||He(s,l);return H.appContext=a,B===!0?B="svg":B===!1&&(B=void 0),e(H,b,B),p=!0,k._container=b,b.__vue_app__=k,is(H.component)}},onUnmount(b){h.push(b)},unmount(){p&&(qt(h,k._instance,16),e(null,k._container),delete k._container.__vue_app__)},provide(b,T){return a.provides[b]=T,k},runWithContext(b){const T=fr;fr=k;try{return b()}finally{fr=T}}};return k}}let fr=null;function ef(e,t){if(ft){let r=ft.provides;const s=ft.parent&&ft.parent.provides;s===r&&(r=ft.provides=Object.create(s)),r[e]=t}}function Ii(e,t,r=!1){const s=ft||ot;if(s||fr){let l=fr?fr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return r&&pe(t)?t.call(s&&s.proxy):t}}const Va={},qa=()=>Object.create(Va),Ha=e=>Object.getPrototypeOf(e)===Va;function tf(e,t,r,s=!1){const l={},a=qa();e.propsDefaults=Object.create(null),Ua(e,t,l,a);for(const c in e.propsOptions[0])c in l||(l[c]=void 0);r?e.props=s?l:mc(l):e.type.props?e.props=l:e.props=a,e.attrs=a}function nf(e,t,r,s){const{props:l,attrs:a,vnode:{patchFlag:c}}=e,h=je(l),[p]=e.propsOptions;let k=!1;if((s||c>0)&&!(c&16)){if(c&8){const b=e.vnode.dynamicProps;for(let T=0;T<b.length;T++){let B=b[T];if(ns(e.emitsOptions,B))continue;const H=t[B];if(p)if(De(a,B))H!==a[B]&&(a[B]=H,k=!0);else{const K=Bt(B);l[K]=lo(p,h,K,H,e,!1)}else H!==a[B]&&(a[B]=H,k=!0)}}}else{Ua(e,t,l,a)&&(k=!0);let b;for(const T in h)(!t||!De(t,T)&&((b=An(T))===T||!De(t,b)))&&(p?r&&(r[T]!==void 0||r[b]!==void 0)&&(l[T]=lo(p,h,T,void 0,e,!0)):delete l[T]);if(a!==h)for(const T in a)(!t||!De(t,T))&&(delete a[T],k=!0)}k&&on(e.attrs,"set","")}function Ua(e,t,r,s){const[l,a]=e.propsOptions;let c=!1,h;if(t)for(let p in t){if(jr(p))continue;const k=t[p];let b;l&&De(l,b=Bt(p))?!a||!a.includes(b)?r[b]=k:(h||(h={}))[b]=k:ns(e.emitsOptions,p)||(!(p in s)||k!==s[p])&&(s[p]=k,c=!0)}if(a){const p=je(r),k=h||Me;for(let b=0;b<a.length;b++){const T=a[b];r[T]=lo(l,p,T,k[T],e,!De(k,T))}}return c}function lo(e,t,r,s,l,a){const c=e[r];if(c!=null){const h=De(c,"default");if(h&&s===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&pe(p)){const{propsDefaults:k}=l;if(r in k)s=k[r];else{const b=ei(l);s=k[r]=p.call(null,t),b()}}else s=p;l.ce&&l.ce._setProp(r,s)}c[0]&&(a&&!h?s=!1:c[1]&&(s===""||s===An(r))&&(s=!0))}return s}const rf=new WeakMap;function Wa(e,t,r=!1){const s=r?rf:t.propsCache,l=s.get(e);if(l)return l;const a=e.props,c={},h=[];let p=!1;if(!pe(e)){const b=T=>{p=!0;const[B,H]=Wa(T,t,!0);lt(c,B),H&&h.push(...H)};!r&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!a&&!p)return Le(e)&&s.set(e,or),or;if(fe(a))for(let b=0;b<a.length;b++){const T=Bt(a[b]);Ol(T)&&(c[T]=Me)}else if(a)for(const b in a){const T=Bt(b);if(Ol(T)){const B=a[b],H=c[T]=fe(B)||pe(B)?{type:B}:lt({},B),K=H.type;let P=!1,F=!0;if(fe(K))for(let X=0;X<K.length;++X){const he=K[X],we=pe(he)&&he.name;if(we==="Boolean"){P=!0;break}else we==="String"&&(F=!1)}else P=pe(K)&&K.name==="Boolean";H[0]=P,H[1]=F,(P||De(H,"default"))&&h.push(T)}}const k=[c,h];return Le(e)&&s.set(e,k),k}function Ol(e){return e[0]!=="$"&&!jr(e)}const Io=e=>e[0]==="_"||e==="$stable",jo=e=>fe(e)?e.map(Qt):[Qt(e)],sf=(e,t,r)=>{if(t._n)return t;const s=no((...l)=>jo(t(...l)),r);return s._c=!1,s},Ga=(e,t,r)=>{const s=e._ctx;for(const l in e){if(Io(l))continue;const a=e[l];if(pe(a))t[l]=sf(l,a,s);else if(a!=null){const c=jo(a);t[l]=()=>c}}},za=(e,t)=>{const r=jo(t);e.slots.default=()=>r},Ya=(e,t,r)=>{for(const s in t)(r||!Io(s))&&(e[s]=t[s])},of=(e,t,r)=>{const s=e.slots=qa();if(e.vnode.shapeFlag&32){const l=t.__;l&&Js(s,"__",l,!0);const a=t._;a?(Ya(s,t,r),r&&Js(s,"_",a,!0)):Ga(t,s)}else t&&za(e,t)},lf=(e,t,r)=>{const{vnode:s,slots:l}=e;let a=!0,c=Me;if(s.shapeFlag&32){const h=t._;h?r&&h===1?a=!1:Ya(l,t,r):(a=!t.$stable,Ga(t,l)),c=t}else t&&(za(e,t),c={default:1});if(a)for(const h in l)!Io(h)&&c[h]==null&&delete l[h]},At=_f;function af(e){return uf(e)}function uf(e,t){const r=Qi();r.__VUE__=!0;const{insert:s,remove:l,patchProp:a,createElement:c,createText:h,createComment:p,setText:k,setElementText:b,parentNode:T,nextSibling:B,setScopeId:H=Xt,insertStaticContent:K}=e,P=(m,x,M,V=null,N=null,q=null,te=void 0,J=null,z=!!x.dynamicChildren)=>{if(m===x)return;m&&!qn(m,x)&&(V=hn(m),Dt(m,N,q,!0),m=null),x.patchFlag===-2&&(z=!1,x.dynamicChildren=null);const{type:$,ref:ce,shapeFlag:Z}=x;switch($){case rs:F(m,x,M,V);break;case mt:X(m,x,M,V);break;case Us:m==null&&he(x,M,V,te);break;case et:oe(m,x,M,V,N,q,te,J,z);break;default:Z&1?ve(m,x,M,V,N,q,te,J,z):Z&6?Te(m,x,M,V,N,q,te,J,z):(Z&64||Z&128)&&$.process(m,x,M,V,N,q,te,J,z,pn)}ce!=null&&N?Kr(ce,m&&m.ref,q,x||m,!x):ce==null&&m&&m.ref!=null&&Kr(m.ref,null,q,m,!0)},F=(m,x,M,V)=>{if(m==null)s(x.el=h(x.children),M,V);else{const N=x.el=m.el;x.children!==m.children&&k(N,x.children)}},X=(m,x,M,V)=>{m==null?s(x.el=p(x.children||""),M,V):x.el=m.el},he=(m,x,M,V)=>{[m.el,m.anchor]=K(m.children,x,M,V,m.el,m.anchor)},we=({el:m,anchor:x},M,V)=>{let N;for(;m&&m!==x;)N=B(m),s(m,M,V),m=N;s(x,M,V)},le=({el:m,anchor:x})=>{let M;for(;m&&m!==x;)M=B(m),l(m),m=M;l(x)},ve=(m,x,M,V,N,q,te,J,z)=>{x.type==="svg"?te="svg":x.type==="math"&&(te="mathml"),m==null?Ae(x,M,V,N,q,te,J,z):_e(m,x,N,q,te,J,z)},Ae=(m,x,M,V,N,q,te,J)=>{let z,$;const{props:ce,shapeFlag:Z,transition:ae,dirs:de}=m;if(z=m.el=c(m.type,q,ce&&ce.is,ce),Z&8?b(z,m.children):Z&16&&at(m.children,z,null,V,N,Hs(m,q),te,J),de&&Bn(m,null,V,"created"),Re(z,m,m.scopeId,te,V),ce){for(const Ce in ce)Ce!=="value"&&!jr(Ce)&&a(z,Ce,null,ce[Ce],q,V);"value"in ce&&a(z,"value",null,ce.value,q),($=ce.onVnodeBeforeMount)&&Gt($,V,m)}de&&Bn(m,null,V,"beforeMount");const me=cf(N,ae);me&&ae.beforeEnter(z),s(z,x,M),(($=ce&&ce.onVnodeMounted)||me||de)&&At(()=>{$&&Gt($,V,m),me&&ae.enter(z),de&&Bn(m,null,V,"mounted")},N)},Re=(m,x,M,V,N)=>{if(M&&H(m,M),V)for(let q=0;q<V.length;q++)H(m,V[q]);if(N){let q=N.subTree;if(x===q||tu(q.type)&&(q.ssContent===x||q.ssFallback===x)){const te=N.vnode;Re(m,te,te.scopeId,te.slotScopeIds,N.parent)}}},at=(m,x,M,V,N,q,te,J,z=0)=>{for(let $=z;$<m.length;$++){const ce=m[$]=J?En(m[$]):Qt(m[$]);P(null,ce,x,M,V,N,q,te,J)}},_e=(m,x,M,V,N,q,te)=>{const J=x.el=m.el;let{patchFlag:z,dynamicChildren:$,dirs:ce}=x;z|=m.patchFlag&16;const Z=m.props||Me,ae=x.props||Me;let de;if(M&&$n(M,!1),(de=ae.onVnodeBeforeUpdate)&&Gt(de,M,x,m),ce&&Bn(x,m,M,"beforeUpdate"),M&&$n(M,!0),(Z.innerHTML&&ae.innerHTML==null||Z.textContent&&ae.textContent==null)&&b(J,""),$?Ie(m.dynamicChildren,$,J,M,V,Hs(x,N),q):te||Ee(m,x,J,null,M,V,Hs(x,N),q,!1),z>0){if(z&16)Be(J,Z,ae,M,N);else if(z&2&&Z.class!==ae.class&&a(J,"class",null,ae.class,N),z&4&&a(J,"style",Z.style,ae.style,N),z&8){const me=x.dynamicProps;for(let Ce=0;Ce<me.length;Ce++){const ke=me[Ce],Xe=Z[ke],nt=ae[ke];(nt!==Xe||ke==="value")&&a(J,ke,Xe,nt,N,M)}}z&1&&m.children!==x.children&&b(J,x.children)}else!te&&$==null&&Be(J,Z,ae,M,N);((de=ae.onVnodeUpdated)||ce)&&At(()=>{de&&Gt(de,M,x,m),ce&&Bn(x,m,M,"updated")},V)},Ie=(m,x,M,V,N,q,te)=>{for(let J=0;J<x.length;J++){const z=m[J],$=x[J],ce=z.el&&(z.type===et||!qn(z,$)||z.shapeFlag&198)?T(z.el):M;P(z,$,ce,null,V,N,q,te,!0)}},Be=(m,x,M,V,N)=>{if(x!==M){if(x!==Me)for(const q in x)!jr(q)&&!(q in M)&&a(m,q,x[q],null,N,V);for(const q in M){if(jr(q))continue;const te=M[q],J=x[q];te!==J&&q!=="value"&&a(m,q,J,te,N,V)}"value"in M&&a(m,"value",x.value,M.value,N)}},oe=(m,x,M,V,N,q,te,J,z)=>{const $=x.el=m?m.el:h(""),ce=x.anchor=m?m.anchor:h("");let{patchFlag:Z,dynamicChildren:ae,slotScopeIds:de}=x;de&&(J=J?J.concat(de):de),m==null?(s($,M,V),s(ce,M,V),at(x.children||[],M,ce,N,q,te,J,z)):Z>0&&Z&64&&ae&&m.dynamicChildren?(Ie(m.dynamicChildren,ae,M,N,q,te,J),(x.key!=null||N&&x===N.subTree)&&Qa(m,x,!0)):Ee(m,x,M,ce,N,q,te,J,z)},Te=(m,x,M,V,N,q,te,J,z)=>{x.slotScopeIds=J,m==null?x.shapeFlag&512?N.ctx.activate(x,M,V,te,z):tt(x,M,V,N,q,te,z):kt(m,x,z)},tt=(m,x,M,V,N,q,te)=>{const J=m.component=Tf(m,V,N);if(es(m)&&(J.ctx.renderer=pn),Af(J,!1,te),J.asyncDep){if(N&&N.registerDep(J,We,te),!m.el){const z=J.subTree=He(mt);X(null,z,x,M)}}else We(J,m,x,M,N,q,te)},kt=(m,x,M)=>{const V=x.component=m.component;if(bf(m,x,M))if(V.asyncDep&&!V.asyncResolved){Ne(V,x,M);return}else V.next=x,V.update();else x.el=m.el,V.vnode=x},We=(m,x,M,V,N,q,te)=>{const J=()=>{if(m.isMounted){let{next:Z,bu:ae,u:de,parent:me,vnode:Ce}=m;{const rt=Ja(m);if(rt){Z&&(Z.el=Ce.el,Ne(m,Z,te)),rt.asyncDep.then(()=>{m.isUnmounted||J()});return}}let ke=Z,Xe;$n(m,!1),Z?(Z.el=Ce.el,Ne(m,Z,te)):Z=Ce,ae&&Ai(ae),(Xe=Z.props&&Z.props.onVnodeBeforeUpdate)&&Gt(Xe,me,Z,Ce),$n(m,!0);const nt=Cl(m),vt=m.subTree;m.subTree=nt,P(vt,nt,T(vt.el),hn(vt),m,N,q),Z.el=nt.el,ke===null&&wf(m,nt.el),de&&At(de,N),(Xe=Z.props&&Z.props.onVnodeUpdated)&&At(()=>Gt(Xe,me,Z,Ce),N)}else{let Z;const{el:ae,props:de}=x,{bm:me,m:Ce,parent:ke,root:Xe,type:nt}=m,vt=cr(x);$n(m,!1),me&&Ai(me),!vt&&(Z=de&&de.onVnodeBeforeMount)&&Gt(Z,ke,x),$n(m,!0);{Xe.ce&&Xe.ce._def.shadowRoot!==!1&&Xe.ce._injectChildStyle(nt);const rt=m.subTree=Cl(m);P(null,rt,M,V,m,N,q),x.el=rt.el}if(Ce&&At(Ce,N),!vt&&(Z=de&&de.onVnodeMounted)){const rt=x;At(()=>Gt(Z,ke,rt),N)}(x.shapeFlag&256||ke&&cr(ke.vnode)&&ke.vnode.shapeFlag&256)&&m.a&&At(m.a,N),m.isMounted=!0,x=M=V=null}};m.scope.on();const z=m.effect=new aa(J);m.scope.off();const $=m.update=z.run.bind(z),ce=m.job=z.runIfDirty.bind(z);ce.i=m,ce.id=m.uid,z.scheduler=()=>To(ce),$n(m,!0),$()},Ne=(m,x,M)=>{x.component=m;const V=m.vnode.props;m.vnode=x,m.next=null,nf(m,x.props,V,M),lf(m,x.children,M),cn(),yl(m),fn()},Ee=(m,x,M,V,N,q,te,J,z=!1)=>{const $=m&&m.children,ce=m?m.shapeFlag:0,Z=x.children,{patchFlag:ae,shapeFlag:de}=x;if(ae>0){if(ae&128){Et($,Z,M,V,N,q,te,J,z);return}else if(ae&256){Ot($,Z,M,V,N,q,te,J,z);return}}de&8?(ce&16&&Rt($,N,q),Z!==$&&b(M,Z)):ce&16?de&16?Et($,Z,M,V,N,q,te,J,z):Rt($,N,q,!0):(ce&8&&b(M,""),de&16&&at(Z,M,V,N,q,te,J,z))},Ot=(m,x,M,V,N,q,te,J,z)=>{m=m||or,x=x||or;const $=m.length,ce=x.length,Z=Math.min($,ce);let ae;for(ae=0;ae<Z;ae++){const de=x[ae]=z?En(x[ae]):Qt(x[ae]);P(m[ae],de,M,null,N,q,te,J,z)}$>ce?Rt(m,N,q,!0,!1,Z):at(x,M,V,N,q,te,J,z,Z)},Et=(m,x,M,V,N,q,te,J,z)=>{let $=0;const ce=x.length;let Z=m.length-1,ae=ce-1;for(;$<=Z&&$<=ae;){const de=m[$],me=x[$]=z?En(x[$]):Qt(x[$]);if(qn(de,me))P(de,me,M,null,N,q,te,J,z);else break;$++}for(;$<=Z&&$<=ae;){const de=m[Z],me=x[ae]=z?En(x[ae]):Qt(x[ae]);if(qn(de,me))P(de,me,M,null,N,q,te,J,z);else break;Z--,ae--}if($>Z){if($<=ae){const de=ae+1,me=de<ce?x[de].el:V;for(;$<=ae;)P(null,x[$]=z?En(x[$]):Qt(x[$]),M,me,N,q,te,J,z),$++}}else if($>ae)for(;$<=Z;)Dt(m[$],N,q,!0),$++;else{const de=$,me=$,Ce=new Map;for($=me;$<=ae;$++){const Ge=x[$]=z?En(x[$]):Qt(x[$]);Ge.key!=null&&Ce.set(Ge.key,$)}let ke,Xe=0;const nt=ae-me+1;let vt=!1,rt=0;const Ht=new Array(nt);for($=0;$<nt;$++)Ht[$]=0;for($=de;$<=Z;$++){const Ge=m[$];if(Xe>=nt){Dt(Ge,N,q,!0);continue}let ie;if(Ge.key!=null)ie=Ce.get(Ge.key);else for(ke=me;ke<=ae;ke++)if(Ht[ke-me]===0&&qn(Ge,x[ke])){ie=ke;break}ie===void 0?Dt(Ge,N,q,!0):(Ht[ie-me]=$+1,ie>=rt?rt=ie:vt=!0,P(Ge,x[ie],M,null,N,q,te,J,z),Xe++)}const Yn=vt?ff(Ht):or;for(ke=Yn.length-1,$=nt-1;$>=0;$--){const Ge=me+$,ie=x[Ge],gn=Ge+1<ce?x[Ge+1].el:V;Ht[$]===0?P(null,ie,M,gn,N,q,te,J,z):vt&&(ke<0||$!==Yn[ke]?$t(ie,M,gn,2):ke--)}}},$t=(m,x,M,V,N=null)=>{const{el:q,type:te,transition:J,children:z,shapeFlag:$}=m;if($&6){$t(m.component.subTree,x,M,V);return}if($&128){m.suspense.move(x,M,V);return}if($&64){te.move(m,x,M,pn);return}if(te===et){s(q,x,M);for(let Z=0;Z<z.length;Z++)$t(z[Z],x,M,V);s(m.anchor,x,M);return}if(te===Us){we(m,x,M);return}if(V!==2&&$&1&&J)if(V===0)J.beforeEnter(q),s(q,x,M),At(()=>J.enter(q),N);else{const{leave:Z,delayLeave:ae,afterLeave:de}=J,me=()=>{m.ctx.isUnmounted?l(q):s(q,x,M)},Ce=()=>{Z(q,()=>{me(),de&&de()})};ae?ae(q,me,Ce):Ce()}else s(q,x,M)},Dt=(m,x,M,V=!1,N=!1)=>{const{type:q,props:te,ref:J,children:z,dynamicChildren:$,shapeFlag:ce,patchFlag:Z,dirs:ae,cacheIndex:de}=m;if(Z===-2&&(N=!1),J!=null&&(cn(),Kr(J,null,M,m,!0),fn()),de!=null&&(x.renderCache[de]=void 0),ce&256){x.ctx.deactivate(m);return}const me=ce&1&&ae,Ce=!cr(m);let ke;if(Ce&&(ke=te&&te.onVnodeBeforeUnmount)&&Gt(ke,x,m),ce&6)zn(m.component,M,V);else{if(ce&128){m.suspense.unmount(M,V);return}me&&Bn(m,null,x,"beforeUnmount"),ce&64?m.type.remove(m,x,M,pn,V):$&&!$.hasOnce&&(q!==et||Z>0&&Z&64)?Rt($,x,M,!1,!0):(q===et&&Z&384||!N&&ce&16)&&Rt(z,x,M),V&&Zt(m)}(Ce&&(ke=te&&te.onVnodeUnmounted)||me)&&At(()=>{ke&&Gt(ke,x,m),me&&Bn(m,null,x,"unmounted")},M)},Zt=m=>{const{type:x,el:M,anchor:V,transition:N}=m;if(x===et){ti(M,V);return}if(x===Us){le(m);return}const q=()=>{l(M),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(m.shapeFlag&1&&N&&!N.persisted){const{leave:te,delayLeave:J}=N,z=()=>te(M,q);J?J(m.el,q,z):z()}else q()},ti=(m,x)=>{let M;for(;m!==x;)M=B(m),l(m),m=M;l(x)},zn=(m,x,M)=>{const{bum:V,scope:N,job:q,subTree:te,um:J,m:z,a:$,parent:ce,slots:{__:Z}}=m;El(z),El($),V&&Ai(V),ce&&fe(Z)&&Z.forEach(ae=>{ce.renderCache[ae]=void 0}),N.stop(),q&&(q.flags|=8,Dt(te,m,x,M)),J&&At(J,x),At(()=>{m.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},Rt=(m,x,M,V=!1,N=!1,q=0)=>{for(let te=q;te<m.length;te++)Dt(m[te],x,M,V,N)},hn=m=>{if(m.shapeFlag&6)return hn(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const x=B(m.anchor||m.el),M=x&&x[Tc];return M?B(M):x};let mr=!1;const ue=(m,x,M)=>{m==null?x._vnode&&Dt(x._vnode,null,null,!0):P(x._vnode||null,m,x,null,null,null,M),x._vnode=m,mr||(mr=!0,yl(),Ca(),mr=!1)},pn={p:P,um:Dt,m:$t,r:Zt,mt:tt,mc:at,pc:Ee,pbc:Ie,n:hn,o:e};return{render:ue,hydrate:void 0,createApp:Zc(ue)}}function Hs({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function $n({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function cf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Qa(e,t,r=!1){const s=e.children,l=t.children;if(fe(s)&&fe(l))for(let a=0;a<s.length;a++){const c=s[a];let h=l[a];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=l[a]=En(l[a]),h.el=c.el),!r&&h.patchFlag!==-2&&Qa(c,h)),h.type===rs&&(h.el=c.el),h.type===mt&&!h.el&&(h.el=c.el)}}function ff(e){const t=e.slice(),r=[0];let s,l,a,c,h;const p=e.length;for(s=0;s<p;s++){const k=e[s];if(k!==0){if(l=r[r.length-1],e[l]<k){t[s]=l,r.push(s);continue}for(a=0,c=r.length-1;a<c;)h=a+c>>1,e[r[h]]<k?a=h+1:c=h;k<e[r[a]]&&(a>0&&(t[s]=r[a-1]),r[a]=s)}}for(a=r.length,c=r[a-1];a-- >0;)r[a]=c,c=t[c];return r}function Ja(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ja(t)}function El(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const df=Symbol.for("v-scx"),hf=()=>Ii(df);function Lr(e,t,r){return Xa(e,t,r)}function Xa(e,t,r=Me){const{immediate:s,deep:l,flush:a,once:c}=r,h=lt({},r),p=t&&s||!t&&a!=="post";let k;if(Wr){if(a==="sync"){const H=hf();k=H.__watcherHandles||(H.__watcherHandles=[])}else if(!p){const H=()=>{};return H.stop=Xt,H.resume=Xt,H.pause=Xt,H}}const b=ft;h.call=(H,K,P)=>qt(H,b,K,P);let T=!1;a==="post"?h.scheduler=H=>{At(H,b&&b.suspense)}:a!=="sync"&&(T=!0,h.scheduler=(H,K)=>{K?H():To(H)}),h.augmentJob=H=>{t&&(H.flags|=4),T&&(H.flags|=2,b&&(H.id=b.uid,H.i=b))};const B=Oc(e,t,h);return Wr&&(k?k.push(B):p&&B()),B}function pf(e,t,r){const s=this.proxy,l=Je(e)?e.includes(".")?Za(s,e):()=>s[e]:e.bind(s,s);let a;pe(t)?a=t:(a=t.handler,r=t);const c=ei(this),h=Xa(l,a.bind(s),r);return c(),h}function Za(e,t){const r=t.split(".");return()=>{let s=e;for(let l=0;l<r.length&&s;l++)s=s[r[l]];return s}}const gf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Bt(t)}Modifiers`]||e[`${An(t)}Modifiers`];function mf(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||Me;let l=r;const a=t.startsWith("update:"),c=a&&gf(s,t.slice(7));c&&(c.trim&&(l=r.map(b=>Je(b)?b.trim():b)),c.number&&(l=r.map(Mi)));let h,p=s[h=Ls(t)]||s[h=Ls(Bt(t))];!p&&a&&(p=s[h=Ls(An(t))]),p&&qt(p,e,6,l);const k=s[h+"Once"];if(k){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,qt(k,e,6,l)}}function eu(e,t,r=!1){const s=t.emitsCache,l=s.get(e);if(l!==void 0)return l;const a=e.emits;let c={},h=!1;if(!pe(e)){const p=k=>{const b=eu(k,t,!0);b&&(h=!0,lt(c,b))};!r&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!h?(Le(e)&&s.set(e,null),null):(fe(a)?a.forEach(p=>c[p]=null):lt(c,a),Le(e)&&s.set(e,c),c)}function ns(e,t){return!e||!Gi(t)?!1:(t=t.slice(2).replace(/Once$/,""),De(e,t[0].toLowerCase()+t.slice(1))||De(e,An(t))||De(e,t))}function Cl(e){const{type:t,vnode:r,proxy:s,withProxy:l,propsOptions:[a],slots:c,attrs:h,emit:p,render:k,renderCache:b,props:T,data:B,setupState:H,ctx:K,inheritAttrs:P}=e,F=Ni(e);let X,he;try{if(r.shapeFlag&4){const le=l||s,ve=le;X=Qt(k.call(ve,le,b,T,H,B,K)),he=h}else{const le=t;X=Qt(le.length>1?le(T,{attrs:h,slots:c,emit:p}):le(T,null)),he=t.props?h:yf(h)}}catch(le){Br.length=0,Zi(le,e,1),X=He(mt)}let we=X;if(he&&P!==!1){const le=Object.keys(he),{shapeFlag:ve}=we;le.length&&ve&7&&(a&&le.some(mo)&&(he=vf(he,a)),we=Pn(we,he,!1,!0))}return r.dirs&&(we=Pn(we,null,!1,!0),we.dirs=we.dirs?we.dirs.concat(r.dirs):r.dirs),r.transition&&qr(we,r.transition),X=we,Ni(F),X}const yf=e=>{let t;for(const r in e)(r==="class"||r==="style"||Gi(r))&&((t||(t={}))[r]=e[r]);return t},vf=(e,t)=>{const r={};for(const s in e)(!mo(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function bf(e,t,r){const{props:s,children:l,component:a}=e,{props:c,children:h,patchFlag:p}=t,k=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&p>=0){if(p&1024)return!0;if(p&16)return s?kl(s,c,k):!!c;if(p&8){const b=t.dynamicProps;for(let T=0;T<b.length;T++){const B=b[T];if(c[B]!==s[B]&&!ns(k,B))return!0}}}else return(l||h)&&(!h||!h.$stable)?!0:s===c?!1:s?c?kl(s,c,k):!0:!!c;return!1}function kl(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let l=0;l<s.length;l++){const a=s[l];if(t[a]!==e[a]&&!ns(r,a))return!0}return!1}function wf({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const tu=e=>e.__isSuspense;function _f(e,t){t&&t.pendingBranch?fe(e)?t.effects.push(...e):t.effects.push(e):kc(e)}const et=Symbol.for("v-fgt"),rs=Symbol.for("v-txt"),mt=Symbol.for("v-cmt"),Us=Symbol.for("v-stc"),Br=[];let jt=null;function Ke(e=!1){Br.push(jt=e?null:[])}function xf(){Br.pop(),jt=Br[Br.length-1]||null}let Hr=1;function Tl(e,t=!1){Hr+=e,e<0&&jt&&t&&(jt.hasOnce=!0)}function nu(e){return e.dynamicChildren=Hr>0?jt||or:null,xf(),Hr>0&&jt&&jt.push(e),e}function qe(e,t,r,s,l,a){return nu(re(e,t,r,s,l,a,!0))}function qi(e,t,r,s,l){return nu(He(e,t,r,s,l,!0))}function Ur(e){return e?e.__v_isVNode===!0:!1}function qn(e,t){return e.type===t.type&&e.key===t.key}const ru=({key:e})=>e??null,ji=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||yt(e)||pe(e)?{i:ot,r:e,k:t,f:!!r}:e:null);function re(e,t=null,r=null,s=0,l=null,a=e===et?0:1,c=!1,h=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ru(t),ref:t&&ji(t),scopeId:Ta,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:s,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:ot};return h?(Do(p,r),a&128&&e.normalize(p)):r&&(p.shapeFlag|=Je(r)?8:16),Hr>0&&!c&&jt&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&jt.push(p),p}const He=Sf;function Sf(e,t=null,r=null,s=0,l=null,a=!1){if((!e||e===Hc)&&(e=mt),Ur(e)){const h=Pn(e,t,!0);return r&&Do(h,r),Hr>0&&!a&&jt&&(h.shapeFlag&6?jt[jt.indexOf(e)]=h:jt.push(h)),h.patchFlag=-2,h}if(Kf(e)&&(e=e.__vccOpts),t){t=Of(t);let{class:h,style:p}=t;h&&!Je(h)&&(t.class=Nt(h)),Le(p)&&(Co(p)&&!fe(p)&&(p=lt({},p)),t.style=Un(p))}const c=Je(e)?1:tu(e)?128:Pa(e)?64:Le(e)?4:pe(e)?2:0;return re(e,t,r,s,l,c,a,!0)}function Of(e){return e?Co(e)||Ha(e)?lt({},e):e:null}function Pn(e,t,r=!1,s=!1){const{props:l,ref:a,patchFlag:c,children:h,transition:p}=e,k=t?Ef(l||{},t):l,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:k,key:k&&ru(k),ref:t&&t.ref?r&&a?fe(a)?a.concat(ji(t)):[a,ji(t)]:ji(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==et?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pn(e.ssContent),ssFallback:e.ssFallback&&Pn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&s&&qr(b,p.clone(b)),b}function ze(e=" ",t=0){return He(rs,null,e,t)}function It(e="",t=!1){return t?(Ke(),qi(mt,null,e)):He(mt,null,e)}function Qt(e){return e==null||typeof e=="boolean"?He(mt):fe(e)?He(et,null,e.slice()):Ur(e)?En(e):He(rs,null,String(e))}function En(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pn(e)}function Do(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(fe(t))r=16;else if(typeof t=="object")if(s&65){const l=t.default;l&&(l._c&&(l._d=!1),Do(e,l()),l._c&&(l._d=!0));return}else{r=32;const l=t._;!l&&!Ha(t)?t._ctx=ot:l===3&&ot&&(ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:ot},r=32):(t=String(t),s&64?(r=16,t=[ze(t)]):r=8);e.children=t,e.shapeFlag|=r}function Ef(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const l in s)if(l==="class")t.class!==s.class&&(t.class=Nt([t.class,s.class]));else if(l==="style")t.style=Un([t.style,s.style]);else if(Gi(l)){const a=t[l],c=s[l];c&&a!==c&&!(fe(a)&&a.includes(c))&&(t[l]=a?[].concat(a,c):c)}else l!==""&&(t[l]=s[l])}return t}function Gt(e,t,r,s=null){qt(e,t,7,[r,s])}const Cf=Fa();let kf=0;function Tf(e,t,r){const s=e.type,l=(t?t.appContext:e.appContext)||Cf,a={uid:kf++,vnode:e,type:s,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wa(s,l),emitsOptions:eu(s,l),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:s.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=mf.bind(null,a),e.ce&&e.ce(a),a}let ft=null;const Pf=()=>ft||ot;let Hi,ao;{const e=Qi(),t=(r,s)=>{let l;return(l=e[r])||(l=e[r]=[]),l.push(s),a=>{l.length>1?l.forEach(c=>c(a)):l[0](a)}};Hi=t("__VUE_INSTANCE_SETTERS__",r=>ft=r),ao=t("__VUE_SSR_SETTERS__",r=>Wr=r)}const ei=e=>{const t=ft;return Hi(e),e.scope.on(),()=>{e.scope.off(),Hi(t)}},Pl=()=>{ft&&ft.scope.off(),Hi(null)};function iu(e){return e.vnode.shapeFlag&4}let Wr=!1;function Af(e,t=!1,r=!1){t&&ao(t);const{props:s,children:l}=e.vnode,a=iu(e);tf(e,s,a,t),of(e,l,r||t);const c=a?If(e,t):void 0;return t&&ao(!1),c}function If(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Wc);const{setup:s}=r;if(s){cn();const l=e.setupContext=s.length>1?Df(e):null,a=ei(e),c=Xr(s,e,0,[e.props,l]),h=na(c);if(fn(),a(),(h||e.sp)&&!cr(e)&&Ka(e),h){if(c.then(Pl,Pl),t)return c.then(p=>{Al(e,p)}).catch(p=>{Zi(p,e,0)});e.asyncDep=c}else Al(e,c)}else su(e)}function Al(e,t,r){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=Sa(t)),su(e)}function su(e,t,r){const s=e.type;e.render||(e.render=s.render||Xt);{const l=ei(e);cn();try{Gc(e)}finally{fn(),l()}}}const jf={get(e,t){return gt(e,"get",""),e[t]}};function Df(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,jf),slots:e.slots,emit:e.emit,expose:t}}function is(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Sa(yc(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Mr)return Mr[r](e)},has(t,r){return r in t||r in Mr}})):e.proxy}function Rf(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function Kf(e){return pe(e)&&"__vccOpts"in e}const Gr=(e,t)=>xc(e,t,Wr);function sr(e,t,r){const s=arguments.length;return s===2?Le(t)&&!fe(t)?Ur(t)?He(e,null,[t]):He(e,t):He(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Ur(r)&&(r=[r]),He(e,t,r))}const Mf="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let uo;const Il=typeof window<"u"&&window.trustedTypes;if(Il)try{uo=Il.createPolicy("vue",{createHTML:e=>e})}catch{}const ou=uo?e=>uo.createHTML(e):e=>e,Lf="http://www.w3.org/2000/svg",Bf="http://www.w3.org/1998/Math/MathML",sn=typeof document<"u"?document:null,jl=sn&&sn.createElement("template"),$f={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const l=t==="svg"?sn.createElementNS(Lf,e):t==="mathml"?sn.createElementNS(Bf,e):r?sn.createElement(e,{is:r}):sn.createElement(e);return e==="select"&&s&&s.multiple!=null&&l.setAttribute("multiple",s.multiple),l},createText:e=>sn.createTextNode(e),createComment:e=>sn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>sn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,l,a){const c=r?r.previousSibling:t.lastChild;if(l&&(l===a||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),r),!(l===a||!(l=l.nextSibling)););else{jl.innerHTML=ou(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const h=jl.content;if(s==="svg"||s==="mathml"){const p=h.firstChild;for(;p.firstChild;)h.appendChild(p.firstChild);h.removeChild(p)}t.insertBefore(h,r)}return[c?c.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},xn="transition",Tr="animation",zr=Symbol("_vtc"),lu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Nf=lt({},Aa,lu),Ff=e=>(e.displayName="Transition",e.props=Nf,e),Dl=Ff((e,{slots:t})=>sr(Ic,Vf(e),t)),Nn=(e,t=[])=>{fe(e)?e.forEach(r=>r(...t)):e&&e(...t)},Rl=e=>e?fe(e)?e.some(t=>t.length>1):e.length>1:!1;function Vf(e){const t={};for(const oe in e)oe in lu||(t[oe]=e[oe]);if(e.css===!1)return t;const{name:r="v",type:s,duration:l,enterFromClass:a=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:h=`${r}-enter-to`,appearFromClass:p=a,appearActiveClass:k=c,appearToClass:b=h,leaveFromClass:T=`${r}-leave-from`,leaveActiveClass:B=`${r}-leave-active`,leaveToClass:H=`${r}-leave-to`}=e,K=qf(l),P=K&&K[0],F=K&&K[1],{onBeforeEnter:X,onEnter:he,onEnterCancelled:we,onLeave:le,onLeaveCancelled:ve,onBeforeAppear:Ae=X,onAppear:Re=he,onAppearCancelled:at=we}=t,_e=(oe,Te,tt,kt)=>{oe._enterCancelled=kt,Fn(oe,Te?b:h),Fn(oe,Te?k:c),tt&&tt()},Ie=(oe,Te)=>{oe._isLeaving=!1,Fn(oe,T),Fn(oe,H),Fn(oe,B),Te&&Te()},Be=oe=>(Te,tt)=>{const kt=oe?Re:he,We=()=>_e(Te,oe,tt);Nn(kt,[Te,We]),Kl(()=>{Fn(Te,oe?p:a),rn(Te,oe?b:h),Rl(kt)||Ml(Te,s,P,We)})};return lt(t,{onBeforeEnter(oe){Nn(X,[oe]),rn(oe,a),rn(oe,c)},onBeforeAppear(oe){Nn(Ae,[oe]),rn(oe,p),rn(oe,k)},onEnter:Be(!1),onAppear:Be(!0),onLeave(oe,Te){oe._isLeaving=!0;const tt=()=>Ie(oe,Te);rn(oe,T),oe._enterCancelled?(rn(oe,B),$l()):($l(),rn(oe,B)),Kl(()=>{oe._isLeaving&&(Fn(oe,T),rn(oe,H),Rl(le)||Ml(oe,s,F,tt))}),Nn(le,[oe,tt])},onEnterCancelled(oe){_e(oe,!1,void 0,!0),Nn(we,[oe])},onAppearCancelled(oe){_e(oe,!0,void 0,!0),Nn(at,[oe])},onLeaveCancelled(oe){Ie(oe),Nn(ve,[oe])}})}function qf(e){if(e==null)return null;if(Le(e))return[Ws(e.enter),Ws(e.leave)];{const t=Ws(e);return[t,t]}}function Ws(e){return Vu(e)}function rn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[zr]||(e[zr]=new Set)).add(t)}function Fn(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const r=e[zr];r&&(r.delete(t),r.size||(e[zr]=void 0))}function Kl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Hf=0;function Ml(e,t,r,s){const l=e._endId=++Hf,a=()=>{l===e._endId&&s()};if(r!=null)return setTimeout(a,r);const{type:c,timeout:h,propCount:p}=Uf(e,t);if(!c)return s();const k=c+"end";let b=0;const T=()=>{e.removeEventListener(k,B),a()},B=H=>{H.target===e&&++b>=p&&T()};setTimeout(()=>{b<p&&T()},h+1),e.addEventListener(k,B)}function Uf(e,t){const r=window.getComputedStyle(e),s=K=>(r[K]||"").split(", "),l=s(`${xn}Delay`),a=s(`${xn}Duration`),c=Ll(l,a),h=s(`${Tr}Delay`),p=s(`${Tr}Duration`),k=Ll(h,p);let b=null,T=0,B=0;t===xn?c>0&&(b=xn,T=c,B=a.length):t===Tr?k>0&&(b=Tr,T=k,B=p.length):(T=Math.max(c,k),b=T>0?c>k?xn:Tr:null,B=b?b===xn?a.length:p.length:0);const H=b===xn&&/\b(transform|all)(,|$)/.test(s(`${xn}Property`).toString());return{type:b,timeout:T,propCount:B,hasTransform:H}}function Ll(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,s)=>Bl(r)+Bl(e[s])))}function Bl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function $l(){return document.body.offsetHeight}function Wf(e,t,r){const s=e[zr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Ui=Symbol("_vod"),au=Symbol("_vsh"),Pr={beforeMount(e,{value:t},{transition:r}){e[Ui]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Ar(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:s}){!t!=!r&&(s?t?(s.beforeEnter(e),Ar(e,!0),s.enter(e)):s.leave(e,()=>{Ar(e,!1)}):Ar(e,t))},beforeUnmount(e,{value:t}){Ar(e,t)}};function Ar(e,t){e.style.display=t?e[Ui]:"none",e[au]=!t}const Gf=Symbol(""),zf=/(^|;)\s*display\s*:/;function Yf(e,t,r){const s=e.style,l=Je(r);let a=!1;if(r&&!l){if(t)if(Je(t))for(const c of t.split(";")){const h=c.slice(0,c.indexOf(":")).trim();r[h]==null&&Di(s,h,"")}else for(const c in t)r[c]==null&&Di(s,c,"");for(const c in r)c==="display"&&(a=!0),Di(s,c,r[c])}else if(l){if(t!==r){const c=s[Gf];c&&(r+=";"+c),s.cssText=r,a=zf.test(r)}}else t&&e.removeAttribute("style");Ui in e&&(e[Ui]=a?s.display:"",e[au]&&(s.display="none"))}const Nl=/\s*!important$/;function Di(e,t,r){if(fe(r))r.forEach(s=>Di(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=Qf(e,t);Nl.test(r)?e.setProperty(An(s),r.replace(Nl,""),"important"):e[s]=r}}const Fl=["Webkit","Moz","ms"],Gs={};function Qf(e,t){const r=Gs[t];if(r)return r;let s=Bt(t);if(s!=="filter"&&s in e)return Gs[t]=s;s=Yi(s);for(let l=0;l<Fl.length;l++){const a=Fl[l]+s;if(a in e)return Gs[t]=a}return t}const Vl="http://www.w3.org/1999/xlink";function ql(e,t,r,s,l,a=zu(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Vl,t.slice(6,t.length)):e.setAttributeNS(Vl,t,r):r==null||a&&!sa(r)?e.removeAttribute(t):e.setAttribute(t,a?"":Vt(r)?String(r):r)}function Hl(e,t,r,s,l){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?ou(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const h=a==="OPTION"?e.getAttribute("value")||"":e.value,p=r==null?e.type==="checkbox"?"on":"":String(r);(h!==p||!("_value"in e))&&(e.value=p),r==null&&e.removeAttribute(t),e._value=r;return}let c=!1;if(r===""||r==null){const h=typeof e[t];h==="boolean"?r=sa(r):r==null&&h==="string"?(r="",c=!0):h==="number"&&(r=0,c=!0)}try{e[t]=r}catch{}c&&e.removeAttribute(l||t)}function Cn(e,t,r,s){e.addEventListener(t,r,s)}function Jf(e,t,r,s){e.removeEventListener(t,r,s)}const Ul=Symbol("_vei");function Xf(e,t,r,s,l=null){const a=e[Ul]||(e[Ul]={}),c=a[t];if(s&&c)c.value=s;else{const[h,p]=Zf(t);if(s){const k=a[t]=nd(s,l);Cn(e,h,k,p)}else c&&(Jf(e,h,c,p),a[t]=void 0)}}const Wl=/(?:Once|Passive|Capture)$/;function Zf(e){let t;if(Wl.test(e)){t={};let s;for(;s=e.match(Wl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):An(e.slice(2)),t]}let zs=0;const ed=Promise.resolve(),td=()=>zs||(ed.then(()=>zs=0),zs=Date.now());function nd(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;qt(rd(s,r.value),t,5,[s])};return r.value=e,r.attached=td(),r}function rd(e,t){if(fe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>l=>!l._stopped&&s&&s(l))}else return t}const Gl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,id=(e,t,r,s,l,a)=>{const c=l==="svg";t==="class"?Wf(e,s,c):t==="style"?Yf(e,r,s):Gi(t)?mo(t)||Xf(e,t,r,s,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):sd(e,t,s,c))?(Hl(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ql(e,t,s,c,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(s))?Hl(e,Bt(t),s,a,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ql(e,t,s,c))};function sd(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Gl(t)&&pe(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Gl(t)&&Je(r)?!1:t in e}const hr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return fe(t)?r=>Ai(t,r):t};function od(e){e.target.composing=!0}function zl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const un=Symbol("_assign"),co={created(e,{modifiers:{lazy:t,trim:r,number:s}},l){e[un]=hr(l);const a=s||l.props&&l.props.type==="number";Cn(e,t?"change":"input",c=>{if(c.target.composing)return;let h=e.value;r&&(h=h.trim()),a&&(h=Mi(h)),e[un](h)}),r&&Cn(e,"change",()=>{e.value=e.value.trim()}),t||(Cn(e,"compositionstart",od),Cn(e,"compositionend",zl),Cn(e,"change",zl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:l,number:a}},c){if(e[un]=hr(c),e.composing)return;const h=(a||e.type==="number")&&!/^0\d/.test(e.value)?Mi(e.value):e.value,p=t??"";h!==p&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||l&&e.value.trim()===p)||(e.value=p))}},ld={deep:!0,created(e,t,r){e[un]=hr(r),Cn(e,"change",()=>{const s=e._modelValue,l=Yr(e),a=e.checked,c=e[un];if(fe(s)){const h=bo(s,l),p=h!==-1;if(a&&!p)c(s.concat(l));else if(!a&&p){const k=[...s];k.splice(h,1),c(k)}}else if(pr(s)){const h=new Set(s);a?h.add(l):h.delete(l),c(h)}else c(uu(e,a))})},mounted:Yl,beforeUpdate(e,t,r){e[un]=hr(r),Yl(e,t,r)}};function Yl(e,{value:t,oldValue:r},s){e._modelValue=t;let l;if(fe(t))l=bo(t,s.props.value)>-1;else if(pr(t))l=t.has(s.props.value);else{if(t===r)return;l=Jr(t,uu(e,!0))}e.checked!==l&&(e.checked=l)}const ad={deep:!0,created(e,{value:t,modifiers:{number:r}},s){const l=pr(t);Cn(e,"change",()=>{const a=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>r?Mi(Yr(c)):Yr(c));e[un](e.multiple?l?new Set(a):a:a[0]),e._assigning=!0,ko(()=>{e._assigning=!1})}),e[un]=hr(s)},mounted(e,{value:t}){Ql(e,t)},beforeUpdate(e,t,r){e[un]=hr(r)},updated(e,{value:t}){e._assigning||Ql(e,t)}};function Ql(e,t){const r=e.multiple,s=fe(t);if(!(r&&!s&&!pr(t))){for(let l=0,a=e.options.length;l<a;l++){const c=e.options[l],h=Yr(c);if(r)if(s){const p=typeof h;p==="string"||p==="number"?c.selected=t.some(k=>String(k)===String(h)):c.selected=bo(t,h)>-1}else c.selected=t.has(h);else if(Jr(Yr(c),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Yr(e){return"_value"in e?e._value:e.value}function uu(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const ud=["ctrl","shift","alt","meta"],cd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ud.some(r=>e[`${r}Key`]&&!t.includes(r))},Ze=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=(l,...a)=>{for(let c=0;c<t.length;c++){const h=cd[t[c]];if(h&&h(l,t))return}return e(l,...a)})},fd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zt=(e,t)=>{const r=e._withKeys||(e._withKeys={}),s=t.join(".");return r[s]||(r[s]=l=>{if(!("key"in l))return;const a=An(l.key);if(t.some(c=>c===a||fd[c]===a))return e(l)})},dd=lt({patchProp:id},$f);let Jl;function hd(){return Jl||(Jl=af(dd))}const pd=(...e)=>{const t=hd().createApp(...e),{mount:r}=t;return t.mount=s=>{const l=md(s);if(!l)return;const a=t._component;!pe(a)&&!a.render&&!a.template&&(a.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const c=r(l,!1,gd(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),c},t};function gd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function md(e){return Je(e)?document.querySelector(e):e}function Ys(e){return e===0?!1:Array.isArray(e)&&e.length===0?!0:!e}function yd(e){return(...t)=>!e(...t)}function vd(e,t){return e===void 0&&(e="undefined"),e===null&&(e="null"),e===!1&&(e="false"),e.toString().toLowerCase().indexOf(t.trim())!==-1}function bd(e){return e.filter(t=>!t.$isLabel)}function Qs(e,t){return r=>r.reduce((s,l)=>l[e]&&l[e].length?(s.push({$groupLabel:l[t],$isLabel:!0}),s.concat(l[e])):s,[])}const Xl=(...e)=>t=>e.reduce((r,s)=>s(r),t);var wd={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(e,t){return Ys(e)?"":t?e[t]:e}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1},filteringSortFunc:{type:Function,default:null}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const e=this.search||"",t=e.toLowerCase().trim();let r=this.options.concat();return this.internalSearch?r=this.groupValues?this.filterAndFlat(r,t,this.label):this.filterOptions(r,t,this.label,this.customLabel):r=this.groupValues?Qs(this.groupValues,this.groupLabel)(r):r,r=this.hideSelected?r.filter(yd(this.isSelected)):r,this.taggable&&t.length&&!this.isExistingOption(t)&&(this.tagPosition==="bottom"?r.push({isTag:!0,label:e}):r.unshift({isTag:!0,label:e})),r.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(e=>e[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(t=>this.customLabel(t,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(e,t,r){return Xl(this.filterGroups(t,r,this.groupValues,this.groupLabel,this.customLabel),Qs(this.groupValues,this.groupLabel))(e)},flatAndStrip(e){return Xl(Qs(this.groupValues,this.groupLabel),bd)(e)},updateSearch(e){this.search=e},isExistingOption(e){return this.options?this.optionKeys.indexOf(e)>-1:!1},isSelected(e){const t=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(t)>-1},isOptionDisabled(e){return!!e.$isDisabled},getOptionLabel(e){if(Ys(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;const t=this.customLabel(e,this.label);return Ys(t)?"":t},select(e,t){if(e.$isLabel&&this.groupSelect){this.selectGroup(e);return}if(!(this.blockKeys.indexOf(t)!==-1||this.disabled||e.$isDisabled||e.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(t==="Tab"&&!this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e)){t!=="Tab"&&this.removeElement(e);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([e])):this.$emit("update:modelValue",e),this.$emit("select",e,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(e){const t=this.options.find(r=>r[this.groupLabel]===e.$groupLabel);if(t){if(this.wholeGroupSelected(t)){this.$emit("remove",t[this.groupValues],this.id);const r=this.trackBy?t[this.groupValues].map(l=>l[this.trackBy]):t[this.groupValues],s=this.internalValue.filter(l=>r.indexOf(this.trackBy?l[this.trackBy]:l)===-1);this.$emit("update:modelValue",s)}else{const r=t[this.groupValues].filter(s=>!(this.isOptionDisabled(s)||this.isSelected(s)));this.max&&r.splice(this.max-this.internalValue.length),this.$emit("select",r,this.id),this.$emit("update:modelValue",this.internalValue.concat(r))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(e){return e[this.groupValues].every(t=>this.isSelected(t)||this.isOptionDisabled(t))},wholeGroupDisabled(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement(e,t=!0){if(this.disabled||e.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const r=typeof e=="object"?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.multiple){const s=this.internalValue.slice(0,r).concat(this.internalValue.slice(r+1));this.$emit("update:modelValue",s)}else this.$emit("update:modelValue",null);this.$emit("remove",e,this.id),this.closeOnSelect&&t&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const e=this.$el.getBoundingClientRect().top,t=window.innerHeight-this.$el.getBoundingClientRect().bottom;t>this.maxHeight||t>e||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(t-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))},filterOptions(e,t,r,s){return t?e.filter(l=>vd(s(l,r),t)).sort((l,a)=>typeof this.filteringSortFunc=="function"?this.filteringSortFunc(l,a):s(l,r).length-s(a,r).length):e},filterGroups(e,t,r,s,l){return a=>a.map(c=>{if(!c[r])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const h=this.filterOptions(c[r],e,t,l);return h.length?{[s]:c[s],[r]:h}:[]})}}},_d={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(e,t){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(t)}},groupHighlight(e,t){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":t.$isLabel}];const r=this.options.find(s=>s[this.groupLabel]===t.$groupLabel);return r&&!this.wholeGroupDisabled(r)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(r)}]:"multiselect__option--disabled"},addPointerElement({key:e}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],e),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(e){this.pointer=e,this.pointerDirty=!0}}},Ro={name:"vue-multiselect",mixins:[wd,_d],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:e=>`and ${e} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0},required:{type:Boolean,default:!1}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)},isRequired(){return this.required===!1?!1:this.internalValue.length<=0}}};const xd=["tabindex","aria-expanded","aria-owns","aria-activedescendant"],Sd={ref:"tags",class:"multiselect__tags"},Od={class:"multiselect__tags-wrap"},Ed=["textContent"],Cd=["onKeypress","onMousedown"],kd=["textContent"],Td={class:"multiselect__spinner"},Pd=["name","id","spellcheck","placeholder","required","value","disabled","tabindex","aria-label","aria-controls"],Ad=["id","aria-multiselectable"],Id={key:0},jd={class:"multiselect__option"},Dd=["aria-selected","id","role"],Rd=["onClick","onMouseenter","data-select","data-selected","data-deselect"],Kd=["data-select","data-deselect","onMouseenter","onMousedown"],Md={class:"multiselect__option"},Ld={class:"multiselect__option"};function Bd(e,t,r,s,l,a){return Ke(),qe("div",{tabindex:e.searchable?-1:r.tabindex,class:Nt([{"multiselect--active":e.isOpen,"multiselect--disabled":r.disabled,"multiselect--above":a.isAbove,"multiselect--has-options-group":a.hasOptionGroup},"multiselect"]),onFocus:t[14]||(t[14]=c=>e.activate()),onBlur:t[15]||(t[15]=c=>e.searchable?!1:e.deactivate()),onKeydown:[t[16]||(t[16]=zt(Ze(c=>e.pointerForward(),["self","prevent"]),["down"])),t[17]||(t[17]=zt(Ze(c=>e.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:t[18]||(t[18]=zt(Ze(c=>e.addPointerElement(c),["stop","self"]),["enter","tab"])),onKeyup:t[19]||(t[19]=zt(c=>e.deactivate(),["esc"])),role:"combobox","aria-expanded":e.isOpen,"aria-owns":"listbox-"+e.id,"aria-activedescendant":e.isOpen&&e.pointer!==null?e.id+"-"+e.pointer:null},[wt(e.$slots,"caret",{toggle:e.toggle},()=>[re("div",{onMousedown:t[0]||(t[0]=Ze(c=>e.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),wt(e.$slots,"clear",{search:e.search}),re("div",Sd,[wt(e.$slots,"selection",{search:e.search,remove:e.removeElement,values:a.visibleValues,isOpen:e.isOpen},()=>[Jt(re("div",Od,[(Ke(!0),qe(et,null,Fi(a.visibleValues,(c,h)=>wt(e.$slots,"tag",{option:c,search:e.search,remove:e.removeElement},()=>[(Ke(),qe("span",{class:"multiselect__tag",key:h,onMousedown:t[1]||(t[1]=Ze(()=>{},["prevent"]))},[re("span",{textContent:xt(e.getOptionLabel(c))},null,8,Ed),re("i",{tabindex:"1",onKeypress:zt(Ze(p=>e.removeElement(c),["prevent"]),["enter"]),onMousedown:Ze(p=>e.removeElement(c),["prevent"]),class:"multiselect__tag-icon"},null,40,Cd)],32))])),256))],512),[[Pr,a.visibleValues.length>0]]),e.internalValue&&e.internalValue.length>r.limit?wt(e.$slots,"limit",{key:0},()=>[re("strong",{class:"multiselect__strong",textContent:xt(r.limitText(e.internalValue.length-r.limit))},null,8,kd)]):It("v-if",!0)]),He(Dl,{name:"multiselect__loading"},{default:no(()=>[wt(e.$slots,"loading",{},()=>[Jt(re("div",Td,null,512),[[Pr,r.loading]])])]),_:3}),e.searchable?(Ke(),qe("input",{key:0,ref:"search",name:r.name,id:e.id,type:"text",autocomplete:"off",spellcheck:r.spellcheck,placeholder:e.placeholder,required:a.isRequired,style:Un(a.inputStyle),value:e.search,disabled:r.disabled,tabindex:r.tabindex,"aria-label":r.name+"-searchbox",onInput:t[2]||(t[2]=c=>e.updateSearch(c.target.value)),onFocus:t[3]||(t[3]=Ze(c=>e.activate(),["prevent"])),onBlur:t[4]||(t[4]=Ze(c=>e.deactivate(),["prevent"])),onKeyup:t[5]||(t[5]=zt(c=>e.deactivate(),["esc"])),onKeydown:[t[6]||(t[6]=zt(Ze(c=>e.pointerForward(),["prevent"]),["down"])),t[7]||(t[7]=zt(Ze(c=>e.pointerBackward(),["prevent"]),["up"])),t[9]||(t[9]=zt(Ze(c=>e.removeLastElement(),["stop"]),["delete"]))],onKeypress:t[8]||(t[8]=zt(Ze(c=>e.addPointerElement(c),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+e.id},null,44,Pd)):It("v-if",!0),a.isSingleLabelVisible?(Ke(),qe("span",{key:1,class:"multiselect__single",onMousedown:t[10]||(t[10]=Ze((...c)=>e.toggle&&e.toggle(...c),["prevent"]))},[wt(e.$slots,"singleLabel",{option:a.singleValue},()=>[ze(xt(e.currentOptionLabel),1)])],32)):It("v-if",!0),a.isPlaceholderVisible?(Ke(),qe("span",{key:2,class:"multiselect__placeholder",onMousedown:t[11]||(t[11]=Ze((...c)=>e.toggle&&e.toggle(...c),["prevent"]))},[wt(e.$slots,"placeholder",{},()=>[ze(xt(e.placeholder),1)])],32)):It("v-if",!0)],512),He(Dl,{name:"multiselect",persisted:""},{default:no(()=>[Jt(re("div",{class:"multiselect__content-wrapper",onFocus:t[12]||(t[12]=(...c)=>e.activate&&e.activate(...c)),tabindex:"-1",onMousedown:t[13]||(t[13]=Ze(()=>{},["prevent"])),style:Un({maxHeight:e.optimizedHeight+"px"}),ref:"list"},[re("ul",{class:"multiselect__content",style:Un(a.contentStyle),role:"listbox",id:"listbox-"+e.id,"aria-multiselectable":e.multiple},[wt(e.$slots,"beforeList"),e.multiple&&e.max===e.internalValue.length?(Ke(),qe("li",Id,[re("span",jd,[wt(e.$slots,"maxElements",{},()=>[ze("Maximum of "+xt(e.max)+" options selected. First remove a selected option to select another.",1)])])])):It("v-if",!0),!e.max||e.internalValue.length<e.max?(Ke(!0),qe(et,{key:1},Fi(e.filteredOptions,(c,h)=>(Ke(),qe("li",{class:"multiselect__element",key:h,"aria-selected":e.isSelected(c),id:e.id+"-"+h,role:c&&(c.$isLabel||c.$isDisabled)?null:"option"},[c&&(c.$isLabel||c.$isDisabled)?It("v-if",!0):(Ke(),qe("span",{key:0,class:Nt([e.optionHighlight(h,c),"multiselect__option"]),onClick:Ze(p=>e.select(c),["stop"]),onMouseenter:Ze(p=>e.pointerSet(h),["self"]),"data-select":c&&c.isTag?e.tagPlaceholder:a.selectLabelText,"data-selected":a.selectedLabelText,"data-deselect":a.deselectLabelText},[wt(e.$slots,"option",{option:c,search:e.search,index:h},()=>[re("span",null,xt(e.getOptionLabel(c)),1)])],42,Rd)),c&&(c.$isLabel||c.$isDisabled)?(Ke(),qe("span",{key:1,"data-select":e.groupSelect&&a.selectGroupLabelText,"data-deselect":e.groupSelect&&a.deselectGroupLabelText,class:Nt([e.groupHighlight(h,c),"multiselect__option"]),onMouseenter:Ze(p=>e.groupSelect&&e.pointerSet(h),["self"]),onMousedown:Ze(p=>e.selectGroup(c),["prevent"])},[wt(e.$slots,"option",{option:c,search:e.search,index:h},()=>[re("span",null,xt(e.getOptionLabel(c)),1)])],42,Kd)):It("v-if",!0)],8,Dd))),128)):It("v-if",!0),Jt(re("li",null,[re("span",Md,[wt(e.$slots,"noResult",{search:e.search},()=>[t[20]||(t[20]=ze("No elements found. Consider changing the search query."))])])],512),[[Pr,r.showNoResults&&e.filteredOptions.length===0&&e.search&&!r.loading]]),Jt(re("li",null,[re("span",Ld,[wt(e.$slots,"noOptions",{},()=>[t[21]||(t[21]=ze("List is empty."))])])],512),[[Pr,r.showNoOptions&&(e.options.length===0||a.hasOptionGroup===!0&&e.filteredOptions.length===0)&&!e.search&&!r.loading]]),wt(e.$slots,"afterList")],12,Ad)],36),[[Pr,e.isOpen]])]),_:3})],42,xd)}Ro.render=Bd;var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ri={exports:{}},Fd=Ri.exports,Zl;function Vd(){return Zl||(Zl=1,function(e,t){(function(r,s){e.exports=s()})(Fd,function(){var r=function(n,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])})(n,i)},s=function(){return(s=Object.assign||function(n){for(var i,o=1,u=arguments.length;o<u;o++)for(var f in i=arguments[o])Object.prototype.hasOwnProperty.call(i,f)&&(n[f]=i[f]);return n}).apply(this,arguments)};function l(n,i,o){for(var u,f=0,d=i.length;f<d;f++)!u&&f in i||((u=u||Array.prototype.slice.call(i,0,f))[f]=i[f]);return n.concat(u||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:$d,c=Object.keys,h=Array.isArray;function p(n,i){return typeof i!="object"||c(i).forEach(function(o){n[o]=i[o]}),n}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var k=Object.getPrototypeOf,b={}.hasOwnProperty;function T(n,i){return b.call(n,i)}function B(n,i){typeof i=="function"&&(i=i(k(n))),(typeof Reflect>"u"?c:Reflect.ownKeys)(i).forEach(function(o){K(n,o,i[o])})}var H=Object.defineProperty;function K(n,i,o,u){H(n,i,p(o&&T(o,"get")&&typeof o.get=="function"?{get:o.get,set:o.set,configurable:!0}:{value:o,configurable:!0,writable:!0},u))}function P(n){return{from:function(i){return n.prototype=Object.create(i.prototype),K(n.prototype,"constructor",n),{extend:B.bind(null,n.prototype)}}}}var F=Object.getOwnPropertyDescriptor,X=[].slice;function he(n,i,o){return X.call(n,i,o)}function we(n,i){return i(n)}function le(n){if(!n)throw new Error("Assertion Failed")}function ve(n){a.setImmediate?setImmediate(n):setTimeout(n,0)}function Ae(n,i){if(typeof i=="string"&&T(n,i))return n[i];if(!i)return n;if(typeof i!="string"){for(var o=[],u=0,f=i.length;u<f;++u){var d=Ae(n,i[u]);o.push(d)}return o}var g=i.indexOf(".");if(g!==-1){var y=n[i.substr(0,g)];return y==null?void 0:Ae(y,i.substr(g+1))}}function Re(n,i,o){if(n&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof i!="string"&&"length"in i){le(typeof o!="string"&&"length"in o);for(var u=0,f=i.length;u<f;++u)Re(n,i[u],o[u])}else{var d,g,y=i.indexOf(".");y!==-1?(d=i.substr(0,y),(g=i.substr(y+1))===""?o===void 0?h(n)&&!isNaN(parseInt(d))?n.splice(d,1):delete n[d]:n[d]=o:Re(y=!(y=n[d])||!T(n,d)?n[d]={}:y,g,o)):o===void 0?h(n)&&!isNaN(parseInt(i))?n.splice(i,1):delete n[i]:n[i]=o}}function at(n){var i,o={};for(i in n)T(n,i)&&(o[i]=n[i]);return o}var _e=[].concat;function Ie(n){return _e.apply([],n)}var me="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ie([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(i){return i+n+"Array"})}))).filter(function(n){return a[n]}),Be=new Set(me.map(function(n){return a[n]})),oe=null;function Te(n){return oe=new WeakMap,n=function i(o){if(!o||typeof o!="object")return o;var u=oe.get(o);if(u)return u;if(h(o)){u=[],oe.set(o,u);for(var f=0,d=o.length;f<d;++f)u.push(i(o[f]))}else if(Be.has(o.constructor))u=o;else{var g,y=k(o);for(g in u=y===Object.prototype?{}:Object.create(y),oe.set(o,u),o)T(o,g)&&(u[g]=i(o[g]))}return u}(n),oe=null,n}var tt={}.toString;function kt(n){return tt.call(n).slice(8,-1)}var We=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ne=typeof We=="symbol"?function(n){var i;return n!=null&&(i=n[We])&&i.apply(n)}:function(){return null};function Ee(n,i){return i=n.indexOf(i),0<=i&&n.splice(i,1),0<=i}var Ot={};function Et(n){var i,o,u,f;if(arguments.length===1){if(h(n))return n.slice();if(this===Ot&&typeof n=="string")return[n];if(f=Ne(n)){for(o=[];!(u=f.next()).done;)o.push(u.value);return o}if(n==null)return[n];if(typeof(i=n.length)!="number")return[n];for(o=new Array(i);i--;)o[i]=n[i];return o}for(i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return o}var $t=typeof Symbol<"u"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},de=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Kt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(de),Dt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Zt(n,i){this.name=n,this.message=i}function ti(n,i){return n+". Errors: "+Object.keys(i).map(function(o){return i[o].toString()}).filter(function(o,u,f){return f.indexOf(o)===u}).join(`
`)}function zn(n,i,o,u){this.failures=i,this.failedKeys=u,this.successCount=o,this.message=ti(n,i)}function Rt(n,i){this.name="BulkError",this.failures=Object.keys(i).map(function(o){return i[o]}),this.failuresByPos=i,this.message=ti(n,this.failures)}P(Zt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),P(zn).from(Zt),P(Rt).from(Zt);var hn=Kt.reduce(function(n,i){return n[i]=i+"Error",n},{}),mr=Zt,ue=Kt.reduce(function(n,i){var o=i+"Error";function u(f,d){this.name=o,f?typeof f=="string"?(this.message="".concat(f).concat(d?`
 `+d:""),this.inner=d||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=Dt[i]||o,this.inner=null)}return P(u).from(mr),n[i]=u,n},{});ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError;var pn=de.reduce(function(n,i){return n[i+"Error"]=ue[i],n},{}),yr=Kt.reduce(function(n,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(n[i+"Error"]=ue[i]),n},{});function m(){}function x(n){return n}function M(n,i){return n==null||n===x?i:function(o){return i(n(o))}}function V(n,i){return function(){n.apply(this,arguments),i.apply(this,arguments)}}function N(n,i){return n===m?i:function(){var o=n.apply(this,arguments);o!==void 0&&(arguments[0]=o);var u=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var d=i.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?V(u,this.onsuccess):u),f&&(this.onerror=this.onerror?V(f,this.onerror):f),d!==void 0?d:o}}function q(n,i){return n===m?i:function(){n.apply(this,arguments);var o=this.onsuccess,u=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?V(o,this.onsuccess):o),u&&(this.onerror=this.onerror?V(u,this.onerror):u)}}function te(n,i){return n===m?i:function(o){var u=n.apply(this,arguments);p(o,u);var f=this.onsuccess,d=this.onerror;return this.onsuccess=null,this.onerror=null,o=i.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?V(f,this.onsuccess):f),d&&(this.onerror=this.onerror?V(d,this.onerror):d),u===void 0?o===void 0?void 0:o:p(u,o)}}function J(n,i){return n===m?i:function(){return i.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function z(n,i){return n===m?i:function(){var o=n.apply(this,arguments);if(o&&typeof o.then=="function"){for(var u=this,f=arguments.length,d=new Array(f);f--;)d[f]=arguments[f];return o.then(function(){return i.apply(u,d)})}return i.apply(this,arguments)}}yr.ModifyError=zn,yr.DexieError=Zt,yr.BulkError=Rt;var $=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ce(n){$=n}var Z={},ae=100,me=typeof Promise>"u"?[]:function(){var n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,k(n),n];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,k(i),n]}(),de=me[0],Kt=me[1],me=me[2],Kt=Kt&&Kt.then,Ce=de&&de.constructor,ke=!!me,Xe=function(n,i){gn.push([n,i]),vt&&(queueMicrotask(hu),vt=!1)},nt=!0,vt=!0,rt=[],Ht=[],Yn=x,Ge={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:m,pgp:!1,env:{},finalize:m},ie=Ge,gn=[],In=0,ni=[];function ne(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=ie;if(typeof n!="function"){if(n!==Z)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&os(this,this._value))}this._state=null,this._value=null,++i.ref,function o(u,f){try{f(function(d){if(u._state===null){if(d===u)throw new TypeError("A promise cannot be resolved with itself.");var g=u._lib&&Qn();d&&typeof d.then=="function"?o(u,function(y,w){d instanceof ne?d._then(y,w):d.then(y,w)}):(u._state=!0,u._value=d,Lo(u)),g&&Jn()}},os.bind(null,u))}catch(d){os(u,d)}}(this,n)}var ss={get:function(){var n=ie,i=oi;function o(u,f){var d=this,g=!n.global&&(n!==ie||i!==oi),y=g&&!yn(),w=new ne(function(S,C){ls(d,new Mo($o(u,n,g,y),$o(f,n,g,y),S,C,n))});return this._consoleTask&&(w._consoleTask=this._consoleTask),w}return o.prototype=Z,o},set:function(n){K(this,"then",n&&n.prototype===Z?ss:{get:function(){return n},set:ss.set})}};function Mo(n,i,o,u,f){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof i=="function"?i:null,this.resolve=o,this.reject=u,this.psd=f}function os(n,i){var o,u;Ht.push(i),n._state===null&&(o=n._lib&&Qn(),i=Yn(i),n._state=!1,n._value=i,u=n,rt.some(function(f){return f._value===u._value})||rt.push(u),Lo(n),o&&Jn())}function Lo(n){var i=n._listeners;n._listeners=[];for(var o=0,u=i.length;o<u;++o)ls(n,i[o]);var f=n._PSD;--f.ref||f.finalize(),In===0&&(++In,Xe(function(){--In==0&&as()},[]))}function ls(n,i){if(n._state!==null){var o=n._state?i.onFulfilled:i.onRejected;if(o===null)return(n._state?i.resolve:i.reject)(n._value);++i.psd.ref,++In,Xe(du,[o,n,i])}else n._listeners.push(i)}function du(n,i,o){try{var u,f=i._value;!i._state&&Ht.length&&(Ht=[]),u=$&&i._consoleTask?i._consoleTask.run(function(){return n(f)}):n(f),i._state||Ht.indexOf(f)!==-1||function(d){for(var g=rt.length;g;)if(rt[--g]._value===d._value)return rt.splice(g,1)}(i),o.resolve(u)}catch(d){o.reject(d)}finally{--In==0&&as(),--o.psd.ref||o.psd.finalize()}}function hu(){jn(Ge,function(){Qn()&&Jn()})}function Qn(){var n=nt;return vt=nt=!1,n}function Jn(){var n,i,o;do for(;0<gn.length;)for(n=gn,gn=[],o=n.length,i=0;i<o;++i){var u=n[i];u[0].apply(null,u[1])}while(0<gn.length);vt=nt=!0}function as(){var n=rt;rt=[],n.forEach(function(u){u._PSD.onunhandled.call(null,u._value,u)});for(var i=ni.slice(0),o=i.length;o;)i[--o]()}function ri(n){return new ne(Z,!1,n)}function Ve(n,i){var o=ie;return function(){var u=Qn(),f=ie;try{return vn(o,!0),n.apply(this,arguments)}catch(d){i&&i(d)}finally{vn(f,!1),u&&Jn()}}}B(ne.prototype,{then:ss,_then:function(n,i){ls(this,new Mo(null,null,n,i,ie))},catch:function(n){if(arguments.length===1)return this.then(null,n);var i=n,o=arguments[1];return typeof i=="function"?this.then(null,function(u){return(u instanceof i?o:ri)(u)}):this.then(null,function(u){return(u&&u.name===i?o:ri)(u)})},finally:function(n){return this.then(function(i){return ne.resolve(n()).then(function(){return i})},function(i){return ne.resolve(n()).then(function(){return ri(i)})})},timeout:function(n,i){var o=this;return n<1/0?new ne(function(u,f){var d=setTimeout(function(){return f(new ue.Timeout(i))},n);o.then(u,f).finally(clearTimeout.bind(null,d))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&K(ne.prototype,Symbol.toStringTag,"Dexie.Promise"),Ge.env=Bo(),B(ne,{all:function(){var n=Et.apply(null,arguments).map(li);return new ne(function(i,o){n.length===0&&i([]);var u=n.length;n.forEach(function(f,d){return ne.resolve(f).then(function(g){n[d]=g,--u||i(n)},o)})})},resolve:function(n){return n instanceof ne?n:n&&typeof n.then=="function"?new ne(function(i,o){n.then(i,o)}):new ne(Z,!0,n)},reject:ri,race:function(){var n=Et.apply(null,arguments).map(li);return new ne(function(i,o){n.map(function(u){return ne.resolve(u).then(i,o)})})},PSD:{get:function(){return ie},set:function(n){return ie=n}},totalEchoes:{get:function(){return oi}},newPSD:mn,usePSD:jn,scheduler:{get:function(){return Xe},set:function(n){Xe=n}},rejectionMapper:{get:function(){return Yn},set:function(n){Yn=n}},follow:function(n,i){return new ne(function(o,u){return mn(function(f,d){var g=ie;g.unhandleds=[],g.onunhandled=d,g.finalize=V(function(){var y,w=this;y=function(){w.unhandleds.length===0?f():d(w.unhandleds[0])},ni.push(function S(){y(),ni.splice(ni.indexOf(S),1)}),++In,Xe(function(){--In==0&&as()},[])},g.finalize),n()},i,o,u)})}}),Ce&&(Ce.allSettled&&K(ne,"allSettled",function(){var n=Et.apply(null,arguments).map(li);return new ne(function(i){n.length===0&&i([]);var o=n.length,u=new Array(o);n.forEach(function(f,d){return ne.resolve(f).then(function(g){return u[d]={status:"fulfilled",value:g}},function(g){return u[d]={status:"rejected",reason:g}}).then(function(){return--o||i(u)})})})}),Ce.any&&typeof AggregateError<"u"&&K(ne,"any",function(){var n=Et.apply(null,arguments).map(li);return new ne(function(i,o){n.length===0&&o(new AggregateError([]));var u=n.length,f=new Array(u);n.forEach(function(d,g){return ne.resolve(d).then(function(y){return i(y)},function(y){f[g]=y,--u||o(new AggregateError(f))})})})}),Ce.withResolvers&&(ne.withResolvers=Ce.withResolvers));var it={awaits:0,echoes:0,id:0},pu=0,ii=[],si=0,oi=0,gu=0;function mn(n,i,o,u){var f=ie,d=Object.create(f);return d.parent=f,d.ref=0,d.global=!1,d.id=++gu,Ge.env,d.env=ke?{Promise:ne,PromiseProp:{value:ne,configurable:!0,writable:!0},all:ne.all,race:ne.race,allSettled:ne.allSettled,any:ne.any,resolve:ne.resolve,reject:ne.reject}:{},i&&p(d,i),++f.ref,d.finalize=function(){--this.parent.ref||this.parent.finalize()},u=jn(d,n,o,u),d.ref===0&&d.finalize(),u}function Xn(){return it.id||(it.id=++pu),++it.awaits,it.echoes+=ae,it.id}function yn(){return!!it.awaits&&(--it.awaits==0&&(it.id=0),it.echoes=it.awaits*ae,!0)}function li(n){return it.echoes&&n&&n.constructor===Ce?(Xn(),n.then(function(i){return yn(),i},function(i){return yn(),Ye(i)})):n}function mu(){var n=ii[ii.length-1];ii.pop(),vn(n,!1)}function vn(n,i){var o,u=ie;(i?!it.echoes||si++&&n===ie:!si||--si&&n===ie)||queueMicrotask(i?(function(f){++oi,it.echoes&&--it.echoes!=0||(it.echoes=it.awaits=it.id=0),ii.push(ie),vn(f,!0)}).bind(null,n):mu),n!==ie&&(ie=n,u===Ge&&(Ge.env=Bo()),ke&&(o=Ge.env.Promise,i=n.env,(u.global||n.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),o.all=i.all,o.race=i.race,o.resolve=i.resolve,o.reject=i.reject,i.allSettled&&(o.allSettled=i.allSettled),i.any&&(o.any=i.any))))}function Bo(){var n=a.Promise;return ke?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject}:{}}function jn(n,i,o,u,f){var d=ie;try{return vn(n,!0),i(o,u,f)}finally{vn(d,!1)}}function $o(n,i,o,u){return typeof n!="function"?n:function(){var f=ie;o&&Xn(),vn(i,!0);try{return n.apply(this,arguments)}finally{vn(f,!1),u&&queueMicrotask(yn)}}}function us(n){Promise===Ce&&it.echoes===0?si===0?n():enqueueNativeMicroTask(n):setTimeout(n,0)}(""+Kt).indexOf("[native code]")===-1&&(Xn=yn=m);var Ye=ne.reject,Dn="",en="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",No="String expected.",Zn=[],ai="__dbnames",cs="readonly",fs="readwrite";function Rn(n,i){return n?i?function(){return n.apply(this,arguments)&&i.apply(this,arguments)}:n:i}var Fo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ui(n){return typeof n!="string"||/\./.test(n)?function(i){return i}:function(i){return i[n]===void 0&&n in i&&delete(i=Te(i))[n],i}}function Vo(){throw ue.Type()}function Oe(n,i){try{var o=qo(n),u=qo(i);if(o!==u)return o==="Array"?1:u==="Array"?-1:o==="binary"?1:u==="binary"?-1:o==="string"?1:u==="string"?-1:o==="Date"?1:u!=="Date"?NaN:-1;switch(o){case"number":case"Date":case"string":return i<n?1:n<i?-1:0;case"binary":return function(f,d){for(var g=f.length,y=d.length,w=g<y?g:y,S=0;S<w;++S)if(f[S]!==d[S])return f[S]<d[S]?-1:1;return g===y?0:g<y?-1:1}(Ho(n),Ho(i));case"Array":return function(f,d){for(var g=f.length,y=d.length,w=g<y?g:y,S=0;S<w;++S){var C=Oe(f[S],d[S]);if(C!==0)return C}return g===y?0:g<y?-1:1}(n,i)}}catch{}return NaN}function qo(n){var i=typeof n;return i!="object"?i:ArrayBuffer.isView(n)?"binary":(n=kt(n),n==="ArrayBuffer"?"binary":n)}function Ho(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}var Uo=(Fe.prototype._trans=function(n,i,o){var u=this._tx||ie.trans,f=this.name,d=$&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function g(S,C,v){if(!v.schema[f])throw new ue.NotFound("Table "+f+" not part of transaction");return i(v.idbtrans,v)}var y=Qn();try{var w=u&&u.db._novip===this.db._novip?u===ie.trans?u._promise(n,g,o):mn(function(){return u._promise(n,g,o)},{trans:u,transless:ie.transless||ie}):function S(C,v,I,_){if(C.idbdb&&(C._state.openComplete||ie.letThrough||C._vip)){var E=C._createTransaction(v,I,C._dbSchema);try{E.create(),C._state.PR1398_maxLoop=3}catch(A){return A.name===hn.InvalidState&&C.isOpen()&&0<--C._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),C.close({disableAutoOpen:!1}),C.open().then(function(){return S(C,v,I,_)})):Ye(A)}return E._promise(v,function(A,O){return mn(function(){return ie.trans=E,_(A,O,E)})}).then(function(A){if(v==="readwrite")try{E.idbtrans.commit()}catch{}return v==="readonly"?A:E._completion.then(function(){return A})})}if(C._state.openComplete)return Ye(new ue.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return Ye(new ue.DatabaseClosed);C.open().catch(m)}return C._state.dbReadyPromise.then(function(){return S(C,v,I,_)})}(this.db,n,[this.name],g);return d&&(w._consoleTask=d,w=w.catch(function(S){return console.trace(S),Ye(S)})),w}finally{y&&Jn()}},Fe.prototype.get=function(n,i){var o=this;return n&&n.constructor===Object?this.where(n).first(i):n==null?Ye(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return o.core.get({trans:u,key:n}).then(function(f){return o.hook.reading.fire(f)})}).then(i)},Fe.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(h(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var i=c(n);if(i.length===1)return this.where(i[0]).equals(n[i[0]]);var o=this.schema.indexes.concat(this.schema.primKey).filter(function(y){if(y.compound&&i.every(function(S){return 0<=y.keyPath.indexOf(S)})){for(var w=0;w<i.length;++w)if(i.indexOf(y.keyPath[w])===-1)return!1;return!0}return!1}).sort(function(y,w){return y.keyPath.length-w.keyPath.length})[0];if(o&&this.db._maxKey!==Dn){var d=o.keyPath.slice(0,i.length);return this.where(d).equals(d.map(function(w){return n[w]}))}!o&&$&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var u=this.schema.idxByName;function f(y,w){return Oe(y,w)===0}var g=i.reduce(function(v,w){var S=v[0],C=v[1],v=u[w],I=n[w];return[S||v,S||!v?Rn(C,v&&v.multi?function(_){return _=Ae(_,w),h(_)&&_.some(function(E){return f(I,E)})}:function(_){return f(I,Ae(_,w))}):C]},[null,null]),d=g[0],g=g[1];return d?this.where(d.name).equals(n[d.keyPath]).filter(g):o?this.filter(g):this.where(i).equals("")},Fe.prototype.filter=function(n){return this.toCollection().and(n)},Fe.prototype.count=function(n){return this.toCollection().count(n)},Fe.prototype.offset=function(n){return this.toCollection().offset(n)},Fe.prototype.limit=function(n){return this.toCollection().limit(n)},Fe.prototype.each=function(n){return this.toCollection().each(n)},Fe.prototype.toArray=function(n){return this.toCollection().toArray(n)},Fe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Fe.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,h(n)?"[".concat(n.join("+"),"]"):n))},Fe.prototype.reverse=function(){return this.toCollection().reverse()},Fe.prototype.mapToClass=function(n){var i,o=this.db,u=this.name;function f(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=n).prototype instanceof Vo&&(function(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function C(){this.constructor=w}r(w,S),w.prototype=S===null?Object.create(S):(C.prototype=S.prototype,new C)}(f,i=n),Object.defineProperty(f.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),f.prototype.table=function(){return u},n=f);for(var d=new Set,g=n.prototype;g;g=k(g))Object.getOwnPropertyNames(g).forEach(function(w){return d.add(w)});function y(w){if(!w)return w;var S,C=Object.create(n.prototype);for(S in w)if(!d.has(S))try{C[S]=w[S]}catch{}return C}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),n},Fe.prototype.defineClass=function(){return this.mapToClass(function(n){p(this,n)})},Fe.prototype.add=function(n,i){var o=this,u=this.schema.primKey,f=u.auto,d=u.keyPath,g=n;return d&&f&&(g=ui(d)(n)),this._trans("readwrite",function(y){return o.core.mutate({trans:y,type:"add",keys:i!=null?[i]:null,values:[g]})}).then(function(y){return y.numFailures?ne.reject(y.failures[0]):y.lastResult}).then(function(y){if(d)try{Re(n,d,y)}catch{}return y})},Fe.prototype.update=function(n,i){return typeof n!="object"||h(n)?this.where(":id").equals(n).modify(i):(n=Ae(n,this.schema.primKey.keyPath),n===void 0?Ye(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(i))},Fe.prototype.put=function(n,i){var o=this,u=this.schema.primKey,f=u.auto,d=u.keyPath,g=n;return d&&f&&(g=ui(d)(n)),this._trans("readwrite",function(y){return o.core.mutate({trans:y,type:"put",values:[g],keys:i!=null?[i]:null})}).then(function(y){return y.numFailures?ne.reject(y.failures[0]):y.lastResult}).then(function(y){if(d)try{Re(n,d,y)}catch{}return y})},Fe.prototype.delete=function(n){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"delete",keys:[n]})}).then(function(o){return o.numFailures?ne.reject(o.failures[0]):void 0})},Fe.prototype.clear=function(){var n=this;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"deleteRange",range:Fo})}).then(function(i){return i.numFailures?ne.reject(i.failures[0]):void 0})},Fe.prototype.bulkGet=function(n){var i=this;return this._trans("readonly",function(o){return i.core.getMany({keys:n,trans:o}).then(function(u){return u.map(function(f){return i.hook.reading.fire(f)})})})},Fe.prototype.bulkAdd=function(n,i,o){var u=this,f=Array.isArray(i)?i:void 0,d=(o=o||(f?void 0:i))?o.allKeys:void 0;return this._trans("readwrite",function(g){var S=u.schema.primKey,y=S.auto,S=S.keyPath;if(S&&f)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==n.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,S=S&&y?n.map(ui(S)):n;return u.core.mutate({trans:g,type:"add",keys:f,values:S,wantResults:d}).then(function(E){var v=E.numFailures,I=E.results,_=E.lastResult,E=E.failures;if(v===0)return d?I:_;throw new Rt("".concat(u.name,".bulkAdd(): ").concat(v," of ").concat(w," operations failed"),E)})})},Fe.prototype.bulkPut=function(n,i,o){var u=this,f=Array.isArray(i)?i:void 0,d=(o=o||(f?void 0:i))?o.allKeys:void 0;return this._trans("readwrite",function(g){var S=u.schema.primKey,y=S.auto,S=S.keyPath;if(S&&f)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==n.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,S=S&&y?n.map(ui(S)):n;return u.core.mutate({trans:g,type:"put",keys:f,values:S,wantResults:d}).then(function(E){var v=E.numFailures,I=E.results,_=E.lastResult,E=E.failures;if(v===0)return d?I:_;throw new Rt("".concat(u.name,".bulkPut(): ").concat(v," of ").concat(w," operations failed"),E)})})},Fe.prototype.bulkUpdate=function(n){var i=this,o=this.core,u=n.map(function(g){return g.key}),f=n.map(function(g){return g.changes}),d=[];return this._trans("readwrite",function(g){return o.getMany({trans:g,keys:u,cache:"clone"}).then(function(y){var w=[],S=[];n.forEach(function(v,I){var _=v.key,E=v.changes,A=y[I];if(A){for(var O=0,j=Object.keys(E);O<j.length;O++){var D=j[O],R=E[D];if(D===i.schema.primKey.keyPath){if(Oe(R,_)!==0)throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else Re(A,D,R)}d.push(I),w.push(_),S.push(A)}});var C=w.length;return o.mutate({trans:g,type:"put",keys:w,values:S,updates:{keys:u,changeSpecs:f}}).then(function(v){var I=v.numFailures,_=v.failures;if(I===0)return C;for(var E=0,A=Object.keys(_);E<A.length;E++){var O,j=A[E],D=d[Number(j)];D!=null&&(O=_[j],delete _[j],_[D]=O)}throw new Rt("".concat(i.name,".bulkUpdate(): ").concat(I," of ").concat(C," operations failed"),_)})})})},Fe.prototype.bulkDelete=function(n){var i=this,o=n.length;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:n})}).then(function(g){var f=g.numFailures,d=g.lastResult,g=g.failures;if(f===0)return d;throw new Rt("".concat(i.name,".bulkDelete(): ").concat(f," of ").concat(o," operations failed"),g)})},Fe);function Fe(){}function vr(n){function i(g,y){if(y){for(var w=arguments.length,S=new Array(w-1);--w;)S[w-1]=arguments[w];return o[g].subscribe.apply(null,S),n}if(typeof g=="string")return o[g]}var o={};i.addEventType=d;for(var u=1,f=arguments.length;u<f;++u)d(arguments[u]);return i;function d(g,y,w){if(typeof g!="object"){var S;y=y||J;var C={subscribers:[],fire:w=w||m,subscribe:function(v){C.subscribers.indexOf(v)===-1&&(C.subscribers.push(v),C.fire=y(C.fire,v))},unsubscribe:function(v){C.subscribers=C.subscribers.filter(function(I){return I!==v}),C.fire=C.subscribers.reduce(y,w)}};return o[g]=i[g]=C}c(S=g).forEach(function(v){var I=S[v];if(h(I))d(v,S[v][0],S[v][1]);else{if(I!=="asap")throw new ue.InvalidArgument("Invalid event config");var _=d(v,x,function(){for(var E=arguments.length,A=new Array(E);E--;)A[E]=arguments[E];_.subscribers.forEach(function(O){ve(function(){O.apply(null,A)})})})}})}}function br(n,i){return P(i).from({prototype:n}),i}function er(n,i){return!(n.filter||n.algorithm||n.or)&&(i?n.justLimit:!n.replayFilter)}function ds(n,i){n.filter=Rn(n.filter,i)}function hs(n,i,o){var u=n.replayFilter;n.replayFilter=u?function(){return Rn(u(),i())}:i,n.justLimit=o&&!u}function ci(n,i){if(n.isPrimKey)return i.primaryKey;var o=i.getIndexByKeyPath(n.index);if(!o)throw new ue.Schema("KeyPath "+n.index+" on object store "+i.name+" is not indexed");return o}function Wo(n,i,o){var u=ci(n,i.schema);return i.openCursor({trans:o,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:u,range:n.range}})}function fi(n,i,o,u){var f=n.replayFilter?Rn(n.filter,n.replayFilter()):n.filter;if(n.or){var d={},g=function(y,w,S){var C,v;f&&!f(w,S,function(I){return w.stop(I)},function(I){return w.fail(I)})||((v=""+(C=w.primaryKey))=="[object ArrayBuffer]"&&(v=""+new Uint8Array(C)),T(d,v)||(d[v]=!0,i(y,w,S)))};return Promise.all([n.or._iterate(g,o),Go(Wo(n,u,o),n.algorithm,g,!n.keysOnly&&n.valueMapper)])}return Go(Wo(n,u,o),Rn(n.algorithm,f),i,!n.keysOnly&&n.valueMapper)}function Go(n,i,o,u){var f=Ve(u?function(d,g,y){return o(u(d),g,y)}:o);return n.then(function(d){if(d)return d.start(function(){var g=function(){return d.continue()};i&&!i(d,function(y){return g=y},function(y){d.stop(y),g=m},function(y){d.fail(y),g=m})||f(d.value,d,function(y){return g=y}),g()})})}var wr=(zo.prototype.execute=function(n){var i=this["@@propmod"];if(i.add!==void 0){var o=i.add;if(h(o))return l(l([],h(n)?n:[],!0),o).sort();if(typeof o=="number")return(Number(n)||0)+o;if(typeof o=="bigint")try{return BigInt(n)+o}catch{return BigInt(0)+o}throw new TypeError("Invalid term ".concat(o))}if(i.remove!==void 0){var u=i.remove;if(h(u))return h(n)?n.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(n)-u;if(typeof u=="bigint")try{return BigInt(n)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return o=(o=i.replacePrefix)===null||o===void 0?void 0:o[0],o&&typeof n=="string"&&n.startsWith(o)?i.replacePrefix[1]+n.substring(o.length):n},zo);function zo(n){this["@@propmod"]=n}var yu=(Pe.prototype._read=function(n,i){var o=this._ctx;return o.error?o.table._trans(null,Ye.bind(null,o.error)):o.table._trans("readonly",n).then(i)},Pe.prototype._write=function(n){var i=this._ctx;return i.error?i.table._trans(null,Ye.bind(null,i.error)):i.table._trans("readwrite",n,"locked")},Pe.prototype._addAlgorithm=function(n){var i=this._ctx;i.algorithm=Rn(i.algorithm,n)},Pe.prototype._iterate=function(n,i){return fi(this._ctx,n,i,this._ctx.table.core)},Pe.prototype.clone=function(n){var i=Object.create(this.constructor.prototype),o=Object.create(this._ctx);return n&&p(o,n),i._ctx=o,i},Pe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Pe.prototype.each=function(n){var i=this._ctx;return this._read(function(o){return fi(i,n,o,i.table.core)})},Pe.prototype.count=function(n){var i=this;return this._read(function(o){var u=i._ctx,f=u.table.core;if(er(u,!0))return f.count({trans:o,query:{index:ci(u,f.schema),range:u.range}}).then(function(g){return Math.min(g,u.limit)});var d=0;return fi(u,function(){return++d,!1},o,f).then(function(){return d})}).then(n)},Pe.prototype.sortBy=function(n,i){var o=n.split(".").reverse(),u=o[0],f=o.length-1;function d(w,S){return S?d(w[o[S]],S-1):w[u]}var g=this._ctx.dir==="next"?1:-1;function y(w,S){return Oe(d(w,f),d(S,f))*g}return this.toArray(function(w){return w.sort(y)}).then(i)},Pe.prototype.toArray=function(n){var i=this;return this._read(function(o){var u=i._ctx;if(u.dir==="next"&&er(u,!0)&&0<u.limit){var f=u.valueMapper,d=ci(u,u.table.core.schema);return u.table.core.query({trans:o,limit:u.limit,values:!0,query:{index:d,range:u.range}}).then(function(y){return y=y.result,f?y.map(f):y})}var g=[];return fi(u,function(y){return g.push(y)},o,u.table.core).then(function(){return g})},n)},Pe.prototype.offset=function(n){var i=this._ctx;return n<=0||(i.offset+=n,er(i)?hs(i,function(){var o=n;return function(u,f){return o===0||(o===1?--o:f(function(){u.advance(o),o=0}),!1)}}):hs(i,function(){var o=n;return function(){return--o<0}})),this},Pe.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),hs(this._ctx,function(){var i=n;return function(o,u,f){return--i<=0&&u(f),0<=i}},!0),this},Pe.prototype.until=function(n,i){return ds(this._ctx,function(o,u,f){return!n(o.value)||(u(f),i)}),this},Pe.prototype.first=function(n){return this.limit(1).toArray(function(i){return i[0]}).then(n)},Pe.prototype.last=function(n){return this.reverse().first(n)},Pe.prototype.filter=function(n){var i;return ds(this._ctx,function(o){return n(o.value)}),(i=this._ctx).isMatch=Rn(i.isMatch,n),this},Pe.prototype.and=function(n){return this.filter(n)},Pe.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},Pe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Pe.prototype.desc=function(){return this.reverse()},Pe.prototype.eachKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,u){n(u.key,u)})},Pe.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},Pe.prototype.eachPrimaryKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,u){n(u.primaryKey,u)})},Pe.prototype.keys=function(n){var i=this._ctx;i.keysOnly=!i.isMatch;var o=[];return this.each(function(u,f){o.push(f.key)}).then(function(){return o}).then(n)},Pe.prototype.primaryKeys=function(n){var i=this._ctx;if(i.dir==="next"&&er(i,!0)&&0<i.limit)return this._read(function(u){var f=ci(i,i.table.core.schema);return i.table.core.query({trans:u,values:!1,limit:i.limit,query:{index:f,range:i.range}})}).then(function(u){return u.result}).then(n);i.keysOnly=!i.isMatch;var o=[];return this.each(function(u,f){o.push(f.primaryKey)}).then(function(){return o}).then(n)},Pe.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},Pe.prototype.firstKey=function(n){return this.limit(1).keys(function(i){return i[0]}).then(n)},Pe.prototype.lastKey=function(n){return this.reverse().firstKey(n)},Pe.prototype.distinct=function(){var n=this._ctx,n=n.index&&n.table.schema.idxByName[n.index];if(!n||!n.multi)return this;var i={};return ds(this._ctx,function(f){var u=f.primaryKey.toString(),f=T(i,u);return i[u]=!0,!f}),this},Pe.prototype.modify=function(n){var i=this,o=this._ctx;return this._write(function(u){var f,d,g;g=typeof n=="function"?n:(f=c(n),d=f.length,function(O){for(var j=!1,D=0;D<d;++D){var R=f[D],L=n[R],U=Ae(O,R);L instanceof wr?(Re(O,R,L.execute(U)),j=!0):U!==L&&(Re(O,R,L),j=!0)}return j});var y=o.table.core,v=y.schema.primaryKey,w=v.outbound,S=v.extractKey,C=200,v=i.db._options.modifyChunkSize;v&&(C=typeof v=="object"?v[y.name]||v["*"]||200:v);function I(O,R){var D=R.failures,R=R.numFailures;E+=O-R;for(var L=0,U=c(D);L<U.length;L++){var Q=U[L];_.push(D[Q])}}var _=[],E=0,A=[];return i.clone().primaryKeys().then(function(O){function j(R){var L=Math.min(C,O.length-R);return y.getMany({trans:u,keys:O.slice(R,R+L),cache:"immutable"}).then(function(U){for(var Q=[],W=[],G=w?[]:null,ee=[],Y=0;Y<L;++Y){var se=U[Y],ye={value:Te(se),primKey:O[R+Y]};g.call(ye,ye.value,ye)!==!1&&(ye.value==null?ee.push(O[R+Y]):w||Oe(S(se),S(ye.value))===0?(W.push(ye.value),w&&G.push(O[R+Y])):(ee.push(O[R+Y]),Q.push(ye.value)))}return Promise.resolve(0<Q.length&&y.mutate({trans:u,type:"add",values:Q}).then(function(xe){for(var Se in xe.failures)ee.splice(parseInt(Se),1);I(Q.length,xe)})).then(function(){return(0<W.length||D&&typeof n=="object")&&y.mutate({trans:u,type:"put",keys:G,values:W,criteria:D,changeSpec:typeof n!="function"&&n,isAdditionalChunk:0<R}).then(function(xe){return I(W.length,xe)})}).then(function(){return(0<ee.length||D&&n===ps)&&y.mutate({trans:u,type:"delete",keys:ee,criteria:D,isAdditionalChunk:0<R}).then(function(xe){return I(ee.length,xe)})}).then(function(){return O.length>R+L&&j(R+C)})})}var D=er(o)&&o.limit===1/0&&(typeof n!="function"||n===ps)&&{index:o.index,range:o.range};return j(0).then(function(){if(0<_.length)throw new zn("Error modifying one or more objects",_,E,A);return O.length})})})},Pe.prototype.delete=function(){var n=this._ctx,i=n.range;return er(n)&&(n.isPrimKey||i.type===3)?this._write(function(o){var u=n.table.core.schema.primaryKey,f=i;return n.table.core.count({trans:o,query:{index:u,range:f}}).then(function(d){return n.table.core.mutate({trans:o,type:"deleteRange",range:f}).then(function(g){var y=g.failures;if(g.lastResult,g.results,g=g.numFailures,g)throw new zn("Could not delete some values",Object.keys(y).map(function(w){return y[w]}),d-g);return d-g})})}):this.modify(ps)},Pe);function Pe(){}var ps=function(n,i){return i.value=null};function vu(n,i){return n<i?-1:n===i?0:1}function bu(n,i){return i<n?-1:n===i?0:1}function Tt(n,i,o){return n=n instanceof Qo?new n.Collection(n):n,n._ctx.error=new(o||TypeError)(i),n}function tr(n){return new n.Collection(n,function(){return Yo("")}).limit(0)}function di(n,i,o,u){var f,d,g,y,w,S,C,v=o.length;if(!o.every(function(E){return typeof E=="string"}))return Tt(n,No);function I(E){f=E==="next"?function(O){return O.toUpperCase()}:function(O){return O.toLowerCase()},d=E==="next"?function(O){return O.toLowerCase()}:function(O){return O.toUpperCase()},g=E==="next"?vu:bu;var A=o.map(function(O){return{lower:d(O),upper:f(O)}}).sort(function(O,j){return g(O.lower,j.lower)});y=A.map(function(O){return O.upper}),w=A.map(function(O){return O.lower}),C=(S=E)==="next"?"":u}I("next"),n=new n.Collection(n,function(){return bn(y[0],w[v-1]+u)}),n._ondirectionchange=function(E){I(E)};var _=0;return n._addAlgorithm(function(E,A,O){var j=E.key;if(typeof j!="string")return!1;var D=d(j);if(i(D,w,_))return!0;for(var R=null,L=_;L<v;++L){var U=function(Q,W,G,ee,Y,se){for(var ye=Math.min(Q.length,ee.length),xe=-1,Se=0;Se<ye;++Se){var Pt=W[Se];if(Pt!==ee[Se])return Y(Q[Se],G[Se])<0?Q.substr(0,Se)+G[Se]+G.substr(Se+1):Y(Q[Se],ee[Se])<0?Q.substr(0,Se)+ee[Se]+G.substr(Se+1):0<=xe?Q.substr(0,xe)+W[xe]+G.substr(xe+1):null;Y(Q[Se],Pt)<0&&(xe=Se)}return ye<ee.length&&se==="next"?Q+G.substr(Q.length):ye<Q.length&&se==="prev"?Q.substr(0,G.length):xe<0?null:Q.substr(0,xe)+ee[xe]+G.substr(xe+1)}(j,D,y[L],w[L],g,S);U===null&&R===null?_=L+1:(R===null||0<g(R,U))&&(R=U)}return A(R!==null?function(){E.continue(R+C)}:O),!1}),n}function bn(n,i,o,u){return{type:2,lower:n,upper:i,lowerOpen:o,upperOpen:u}}function Yo(n){return{type:1,lower:n,upper:n}}var Qo=(Object.defineProperty(st.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),st.prototype.between=function(n,i,o,u){o=o!==!1,u=u===!0;try{return 0<this._cmp(n,i)||this._cmp(n,i)===0&&(o||u)&&(!o||!u)?tr(this):new this.Collection(this,function(){return bn(n,i,!o,!u)})}catch{return Tt(this,en)}},st.prototype.equals=function(n){return n==null?Tt(this,en):new this.Collection(this,function(){return Yo(n)})},st.prototype.above=function(n){return n==null?Tt(this,en):new this.Collection(this,function(){return bn(n,void 0,!0)})},st.prototype.aboveOrEqual=function(n){return n==null?Tt(this,en):new this.Collection(this,function(){return bn(n,void 0,!1)})},st.prototype.below=function(n){return n==null?Tt(this,en):new this.Collection(this,function(){return bn(void 0,n,!1,!0)})},st.prototype.belowOrEqual=function(n){return n==null?Tt(this,en):new this.Collection(this,function(){return bn(void 0,n)})},st.prototype.startsWith=function(n){return typeof n!="string"?Tt(this,No):this.between(n,n+Dn,!0,!0)},st.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):di(this,function(i,o){return i.indexOf(o[0])===0},[n],Dn)},st.prototype.equalsIgnoreCase=function(n){return di(this,function(i,o){return i===o[0]},[n],"")},st.prototype.anyOfIgnoreCase=function(){var n=Et.apply(Ot,arguments);return n.length===0?tr(this):di(this,function(i,o){return o.indexOf(i)!==-1},n,"")},st.prototype.startsWithAnyOfIgnoreCase=function(){var n=Et.apply(Ot,arguments);return n.length===0?tr(this):di(this,function(i,o){return o.some(function(u){return i.indexOf(u)===0})},n,Dn)},st.prototype.anyOf=function(){var n=this,i=Et.apply(Ot,arguments),o=this._cmp;try{i.sort(o)}catch{return Tt(this,en)}if(i.length===0)return tr(this);var u=new this.Collection(this,function(){return bn(i[0],i[i.length-1])});u._ondirectionchange=function(d){o=d==="next"?n._ascending:n._descending,i.sort(o)};var f=0;return u._addAlgorithm(function(d,g,y){for(var w=d.key;0<o(w,i[f]);)if(++f===i.length)return g(y),!1;return o(w,i[f])===0||(g(function(){d.continue(i[f])}),!1)}),u},st.prototype.notEqual=function(n){return this.inAnyRange([[-1/0,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},st.prototype.noneOf=function(){var n=Et.apply(Ot,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return Tt(this,en)}var i=n.reduce(function(o,u){return o?o.concat([[o[o.length-1][1],u]]):[[-1/0,u]]},null);return i.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},st.prototype.inAnyRange=function(j,i){var o=this,u=this._cmp,f=this._ascending,d=this._descending,g=this._min,y=this._max;if(j.length===0)return tr(this);if(!j.every(function(D){return D[0]!==void 0&&D[1]!==void 0&&f(D[0],D[1])<=0}))return Tt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var w=!i||i.includeLowers!==!1,S=i&&i.includeUppers===!0,C,v=f;function I(D,R){return v(D[0],R[0])}try{(C=j.reduce(function(D,R){for(var L=0,U=D.length;L<U;++L){var Q=D[L];if(u(R[0],Q[1])<0&&0<u(R[1],Q[0])){Q[0]=g(Q[0],R[0]),Q[1]=y(Q[1],R[1]);break}}return L===U&&D.push(R),D},[])).sort(I)}catch{return Tt(this,en)}var _=0,E=S?function(D){return 0<f(D,C[_][1])}:function(D){return 0<=f(D,C[_][1])},A=w?function(D){return 0<d(D,C[_][0])}:function(D){return 0<=d(D,C[_][0])},O=E,j=new this.Collection(this,function(){return bn(C[0][0],C[C.length-1][1],!w,!S)});return j._ondirectionchange=function(D){v=D==="next"?(O=E,f):(O=A,d),C.sort(I)},j._addAlgorithm(function(D,R,L){for(var U,Q=D.key;O(Q);)if(++_===C.length)return R(L),!1;return!E(U=Q)&&!A(U)||(o._cmp(Q,C[_][1])===0||o._cmp(Q,C[_][0])===0||R(function(){v===f?D.continue(C[_][0]):D.continue(C[_][1])}),!1)}),j},st.prototype.startsWithAnyOf=function(){var n=Et.apply(Ot,arguments);return n.every(function(i){return typeof i=="string"})?n.length===0?tr(this):this.inAnyRange(n.map(function(i){return[i,i+Dn]})):Tt(this,"startsWithAnyOf() only works with strings")},st);function st(){}function Ut(n){return Ve(function(i){return _r(i),n(i.target.error),!1})}function _r(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var xr="storagemutated",gs="x-storagemutated-1",wn=vr(null,xr),wu=(Wt.prototype._lock=function(){return le(!ie.global),++this._reculock,this._reculock!==1||ie.global||(ie.lockOwnerFor=this),this},Wt.prototype._unlock=function(){if(le(!ie.global),--this._reculock==0)for(ie.global||(ie.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var n=this._blockedFuncs.shift();try{jn(n[1],n[0])}catch{}}return this},Wt.prototype._locked=function(){return this._reculock&&ie.lockOwnerFor!==this},Wt.prototype.create=function(n){var i=this;if(!this.mode)return this;var o=this.db.idbdb,u=this.db._state.dbOpenError;if(le(!this.idbtrans),!n&&!o)switch(u&&u.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(u);case"MissingAPIError":throw new ue.MissingAPI(u.message,u);default:throw new ue.OpenFailed(u)}if(!this.active)throw new ue.TransactionInactive;return le(this._completion._state===null),(n=this.idbtrans=n||(this.db.core||o).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ve(function(f){_r(f),i._reject(n.error)}),n.onabort=Ve(function(f){_r(f),i.active&&i._reject(new ue.Abort(n.error)),i.active=!1,i.on("abort").fire(f)}),n.oncomplete=Ve(function(){i.active=!1,i._resolve(),"mutatedParts"in n&&wn.storagemutated.fire(n.mutatedParts)}),this},Wt.prototype._promise=function(n,i,o){var u=this;if(n==="readwrite"&&this.mode!=="readwrite")return Ye(new ue.ReadOnly("Transaction is readonly"));if(!this.active)return Ye(new ue.TransactionInactive);if(this._locked())return new ne(function(d,g){u._blockedFuncs.push([function(){u._promise(n,i,o).then(d,g)},ie])});if(o)return mn(function(){var d=new ne(function(g,y){u._lock();var w=i(g,y,u);w&&w.then&&w.then(g,y)});return d.finally(function(){return u._unlock()}),d._lib=!0,d});var f=new ne(function(d,g){var y=i(d,g,u);y&&y.then&&y.then(d,g)});return f._lib=!0,f},Wt.prototype._root=function(){return this.parent?this.parent._root():this},Wt.prototype.waitFor=function(n){var i,o=this._root(),u=ne.resolve(n);o._waitingFor?o._waitingFor=o._waitingFor.then(function(){return u}):(o._waitingFor=u,o._waitingQueue=[],i=o.idbtrans.objectStore(o.storeNames[0]),function d(){for(++o._spinCount;o._waitingQueue.length;)o._waitingQueue.shift()();o._waitingFor&&(i.get(-1/0).onsuccess=d)}());var f=o._waitingFor;return new ne(function(d,g){u.then(function(y){return o._waitingQueue.push(Ve(d.bind(null,y)))},function(y){return o._waitingQueue.push(Ve(g.bind(null,y)))}).finally(function(){o._waitingFor===f&&(o._waitingFor=null)})})},Wt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},Wt.prototype.table=function(n){var i=this._memoizedTables||(this._memoizedTables={});if(T(i,n))return i[n];var o=this.schema[n];if(!o)throw new ue.NotFound("Table "+n+" not part of transaction");return o=new this.db.Table(n,o,this),o.core=this.db.core.table(n),i[n]=o},Wt);function Wt(){}function ms(n,i,o,u,f,d,g){return{name:n,keyPath:i,unique:o,multi:u,auto:f,compound:d,src:(o&&!g?"&":"")+(u?"*":"")+(f?"++":"")+Jo(i)}}function Jo(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function ys(n,i,o){return{name:n,primKey:i,indexes:o,mappedClass:null,idxByName:(u=function(f){return[f.name,f]},o.reduce(function(f,d,g){return g=u(d,g),g&&(f[g[0]]=g[1]),f},{}))};var u}var Sr=function(n){try{return n.only([[]]),Sr=function(){return[[]]},[[]]}catch{return Sr=function(){return Dn},Dn}};function vs(n){return n==null?function(){}:typeof n=="string"?(i=n).split(".").length===1?function(o){return o[i]}:function(o){return Ae(o,i)}:function(o){return Ae(o,n)};var i}function Xo(n){return[].slice.call(n)}var _u=0;function Or(n){return n==null?":id":typeof n=="string"?n:"[".concat(n.join("+"),"]")}function xu(n,i,w){function u(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _=O.lower,E=O.upper,A=O.lowerOpen,O=O.upperOpen;return _===void 0?E===void 0?null:i.upperBound(E,!!O):E===void 0?i.lowerBound(_,!!A):i.bound(_,E,!!A,!!O)}function f(I){var _,E=I.name;return{name:E,schema:I,mutate:function(A){var O=A.trans,j=A.type,D=A.keys,R=A.values,L=A.range;return new Promise(function(U,Q){U=Ve(U);var W=O.objectStore(E),G=W.keyPath==null,ee=j==="put"||j==="add";if(!ee&&j!=="delete"&&j!=="deleteRange")throw new Error("Invalid operation type: "+j);var Y,se=(D||R||{length:1}).length;if(D&&R&&D.length!==R.length)throw new Error("Given keys array must have same length as given values array.");if(se===0)return U({numFailures:0,failures:{},results:[],lastResult:void 0});function ye(bt){++Pt,_r(bt)}var xe=[],Se=[],Pt=0;if(j==="deleteRange"){if(L.type===4)return U({numFailures:Pt,failures:Se,results:[],lastResult:void 0});L.type===3?xe.push(Y=W.clear()):xe.push(Y=W.delete(u(L)))}else{var G=ee?G?[R,D]:[R,null]:[D,null],ge=G[0],ht=G[1];if(ee)for(var pt=0;pt<se;++pt)xe.push(Y=ht&&ht[pt]!==void 0?W[j](ge[pt],ht[pt]):W[j](ge[pt])),Y.onerror=ye;else for(pt=0;pt<se;++pt)xe.push(Y=W[j](ge[pt])),Y.onerror=ye}function Ei(bt){bt=bt.target.result,xe.forEach(function(Ln,Ms){return Ln.error!=null&&(Se[Ms]=Ln.error)}),U({numFailures:Pt,failures:Se,results:j==="delete"?D:xe.map(function(Ln){return Ln.result}),lastResult:bt})}Y.onerror=function(bt){ye(bt),Ei(bt)},Y.onsuccess=Ei})},getMany:function(A){var O=A.trans,j=A.keys;return new Promise(function(D,R){D=Ve(D);for(var L,U=O.objectStore(E),Q=j.length,W=new Array(Q),G=0,ee=0,Y=function(xe){xe=xe.target,W[xe._pos]=xe.result,++ee===G&&D(W)},se=Ut(R),ye=0;ye<Q;++ye)j[ye]!=null&&((L=U.get(j[ye]))._pos=ye,L.onsuccess=Y,L.onerror=se,++G);G===0&&D(W)})},get:function(A){var O=A.trans,j=A.key;return new Promise(function(D,R){D=Ve(D);var L=O.objectStore(E).get(j);L.onsuccess=function(U){return D(U.target.result)},L.onerror=Ut(R)})},query:(_=S,function(A){return new Promise(function(O,j){O=Ve(O);var D,R,L,G=A.trans,U=A.values,Q=A.limit,Y=A.query,W=Q===1/0?void 0:Q,ee=Y.index,Y=Y.range,G=G.objectStore(E),ee=ee.isPrimaryKey?G:G.index(ee.name),Y=u(Y);if(Q===0)return O({result:[]});_?((W=U?ee.getAll(Y,W):ee.getAllKeys(Y,W)).onsuccess=function(se){return O({result:se.target.result})},W.onerror=Ut(j)):(D=0,R=!U&&"openKeyCursor"in ee?ee.openKeyCursor(Y):ee.openCursor(Y),L=[],R.onsuccess=function(se){var ye=R.result;return ye?(L.push(U?ye.value:ye.primaryKey),++D===Q?O({result:L}):void ye.continue()):O({result:L})},R.onerror=Ut(j))})}),openCursor:function(A){var O=A.trans,j=A.values,D=A.query,R=A.reverse,L=A.unique;return new Promise(function(U,Q){U=Ve(U);var ee=D.index,W=D.range,G=O.objectStore(E),G=ee.isPrimaryKey?G:G.index(ee.name),ee=R?L?"prevunique":"prev":L?"nextunique":"next",Y=!j&&"openKeyCursor"in G?G.openKeyCursor(u(W),ee):G.openCursor(u(W),ee);Y.onerror=Ut(Q),Y.onsuccess=Ve(function(se){var ye,xe,Se,Pt,ge=Y.result;ge?(ge.___id=++_u,ge.done=!1,ye=ge.continue.bind(ge),xe=(xe=ge.continuePrimaryKey)&&xe.bind(ge),Se=ge.advance.bind(ge),Pt=function(){throw new Error("Cursor not stopped")},ge.trans=O,ge.stop=ge.continue=ge.continuePrimaryKey=ge.advance=function(){throw new Error("Cursor not started")},ge.fail=Ve(Q),ge.next=function(){var ht=this,pt=1;return this.start(function(){return pt--?ht.continue():ht.stop()}).then(function(){return ht})},ge.start=function(ht){function pt(){if(Y.result)try{ht()}catch(bt){ge.fail(bt)}else ge.done=!0,ge.start=function(){throw new Error("Cursor behind last entry")},ge.stop()}var Ei=new Promise(function(bt,Ln){bt=Ve(bt),Y.onerror=Ut(Ln),ge.fail=Ln,ge.stop=function(Ms){ge.stop=ge.continue=ge.continuePrimaryKey=ge.advance=Pt,bt(Ms)}});return Y.onsuccess=Ve(function(bt){Y.onsuccess=pt,pt()}),ge.continue=ye,ge.continuePrimaryKey=xe,ge.advance=Se,pt(),Ei},U(ge)):U(null)},Q)})},count:function(A){var O=A.query,j=A.trans,D=O.index,R=O.range;return new Promise(function(L,U){var Q=j.objectStore(E),W=D.isPrimaryKey?Q:Q.index(D.name),Q=u(R),W=Q?W.count(Q):W.count();W.onsuccess=Ve(function(G){return L(G.target.result)}),W.onerror=Ut(U)})}}}var d,g,y,C=(g=w,y=Xo((d=n).objectStoreNames),{schema:{name:d.name,tables:y.map(function(I){return g.objectStore(I)}).map(function(I){var _=I.keyPath,O=I.autoIncrement,E=h(_),A={},O={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_==null,compound:E,keyPath:_,autoIncrement:O,unique:!0,extractKey:vs(_)},indexes:Xo(I.indexNames).map(function(j){return I.index(j)}).map(function(L){var D=L.name,R=L.unique,U=L.multiEntry,L=L.keyPath,U={name:D,compound:h(L),keyPath:L,unique:R,multiEntry:U,extractKey:vs(L)};return A[Or(L)]=U}),getIndexByKeyPath:function(j){return A[Or(j)]}};return A[":id"]=O.primaryKey,_!=null&&(A[Or(_)]=O.primaryKey),O})},hasGetAll:0<y.length&&"getAll"in g.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),w=C.schema,S=C.hasGetAll,C=w.tables.map(f),v={};return C.forEach(function(I){return v[I.name]=I}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(I){if(!v[I])throw new Error("Table '".concat(I,"' not found"));return v[I]},MIN_KEY:-1/0,MAX_KEY:Sr(i),schema:w}}function Su(n,i,o,u){var f=o.IDBKeyRange;return o.indexedDB,{dbcore:(u=xu(i,f,u),n.dbcore.reduce(function(d,g){return g=g.create,s(s({},d),g(d))},u))}}function hi(n,u){var o=u.db,u=Su(n._middlewares,o,n._deps,u);n.core=u.dbcore,n.tables.forEach(function(f){var d=f.name;n.core.schema.tables.some(function(g){return g.name===d})&&(f.core=n.core.table(d),n[d]instanceof n.Table&&(n[d].core=f.core))})}function pi(n,i,o,u){o.forEach(function(f){var d=u[f];i.forEach(function(g){var y=function w(S,C){return F(S,C)||(S=k(S))&&w(S,C)}(g,f);(!y||"value"in y&&y.value===void 0)&&(g===n.Transaction.prototype||g instanceof n.Transaction?K(g,f,{get:function(){return this.table(f)},set:function(w){H(this,f,{value:w,writable:!0,configurable:!0,enumerable:!0})}}):g[f]=new n.Table(f,d))})})}function bs(n,i){i.forEach(function(o){for(var u in o)o[u]instanceof n.Table&&delete o[u]})}function Ou(n,i){return n._cfg.version-i._cfg.version}function Eu(n,i,o,u){var f=n._dbSchema;o.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=ys("$meta",el("")[0],[]),n._storeNames.push("$meta"));var d=n._createTransaction("readwrite",n._storeNames,f);d.create(o),d._completion.catch(u);var g=d._reject.bind(d),y=ie.transless||ie;mn(function(){return ie.trans=d,ie.transless=y,i!==0?(hi(n,o),S=i,((w=d).storeNames.includes("$meta")?w.table("$meta").get("version").then(function(C){return C??S}):ne.resolve(S)).then(function(C){return I=C,_=d,E=o,A=[],C=(v=n)._versions,O=v._dbSchema=mi(0,v.idbdb,E),(C=C.filter(function(j){return j._cfg.version>=I})).length!==0?(C.forEach(function(j){A.push(function(){var D=O,R=j._cfg.dbschema;yi(v,D,E),yi(v,R,E),O=v._dbSchema=R;var L=ws(D,R);L.add.forEach(function(ee){_s(E,ee[0],ee[1].primKey,ee[1].indexes)}),L.change.forEach(function(ee){if(ee.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var Y=E.objectStore(ee.name);ee.add.forEach(function(se){return gi(Y,se)}),ee.change.forEach(function(se){Y.deleteIndex(se.name),gi(Y,se)}),ee.del.forEach(function(se){return Y.deleteIndex(se)})});var U=j._cfg.contentUpgrade;if(U&&j._cfg.version>I){hi(v,E),_._memoizedTables={};var Q=at(R);L.del.forEach(function(ee){Q[ee]=D[ee]}),bs(v,[v.Transaction.prototype]),pi(v,[v.Transaction.prototype],c(Q),Q),_.schema=Q;var W,G=$t(U);return G&&Xn(),L=ne.follow(function(){var ee;(W=U(_))&&G&&(ee=yn.bind(null,null),W.then(ee,ee))}),W&&typeof W.then=="function"?ne.resolve(W):L.then(function(){return W})}}),A.push(function(D){var R,L,U=j._cfg.dbschema;R=U,L=D,[].slice.call(L.db.objectStoreNames).forEach(function(Q){return R[Q]==null&&L.db.deleteObjectStore(Q)}),bs(v,[v.Transaction.prototype]),pi(v,[v.Transaction.prototype],v._storeNames,v._dbSchema),_.schema=v._dbSchema}),A.push(function(D){v.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(v.idbdb.version/10)===j._cfg.version?(v.idbdb.deleteObjectStore("$meta"),delete v._dbSchema.$meta,v._storeNames=v._storeNames.filter(function(R){return R!=="$meta"})):D.objectStore("$meta").put(j._cfg.version,"version"))})}),function j(){return A.length?ne.resolve(A.shift()(_.idbtrans)).then(j):ne.resolve()}().then(function(){Zo(O,E)})):ne.resolve();var v,I,_,E,A,O}).catch(g)):(c(f).forEach(function(C){_s(o,C,f[C].primKey,f[C].indexes)}),hi(n,o),void ne.follow(function(){return n.on.populate.fire(d)}).catch(g));var w,S})}function Cu(n,i){Zo(n._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var o=mi(0,n.idbdb,i);yi(n,n._dbSchema,i);for(var u=0,f=ws(o,n._dbSchema).change;u<f.length;u++){var d=function(g){if(g.change.length||g.recreate)return console.warn("Unable to patch indexes of table ".concat(g.name," because it has changes on the type of index or primary key.")),{value:void 0};var y=i.objectStore(g.name);g.add.forEach(function(w){$&&console.debug("Dexie upgrade patch: Creating missing index ".concat(g.name,".").concat(w.src)),gi(y,w)})}(f[u]);if(typeof d=="object")return d.value}}function ws(n,i){var o,u={del:[],add:[],change:[]};for(o in n)i[o]||u.del.push(o);for(o in i){var f=n[o],d=i[o];if(f){var g={name:o,def:d,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(d.primKey.keyPath||"")||f.primKey.auto!==d.primKey.auto)g.recreate=!0,u.change.push(g);else{var y=f.idxByName,w=d.idxByName,S=void 0;for(S in y)w[S]||g.del.push(S);for(S in w){var C=y[S],v=w[S];C?C.src!==v.src&&g.change.push(v):g.add.push(v)}(0<g.del.length||0<g.add.length||0<g.change.length)&&u.change.push(g)}}else u.add.push([o,d])}return u}function _s(n,i,o,u){var f=n.db.createObjectStore(i,o.keyPath?{keyPath:o.keyPath,autoIncrement:o.auto}:{autoIncrement:o.auto});return u.forEach(function(d){return gi(f,d)}),f}function Zo(n,i){c(n).forEach(function(o){i.db.objectStoreNames.contains(o)||($&&console.debug("Dexie: Creating missing table",o),_s(i,o,n[o].primKey,n[o].indexes))})}function gi(n,i){n.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function mi(n,i,o){var u={};return he(i.objectStoreNames,0).forEach(function(f){for(var d=o.objectStore(f),g=ms(Jo(S=d.keyPath),S||"",!0,!1,!!d.autoIncrement,S&&typeof S!="string",!0),y=[],w=0;w<d.indexNames.length;++w){var C=d.index(d.indexNames[w]),S=C.keyPath,C=ms(C.name,S,!!C.unique,!!C.multiEntry,!1,S&&typeof S!="string",!1);y.push(C)}u[f]=ys(f,g,y)}),u}function yi(n,i,o){for(var u=o.db.objectStoreNames,f=0;f<u.length;++f){var d=u[f],g=o.objectStore(d);n._hasGetAll="getAll"in g;for(var y=0;y<g.indexNames.length;++y){var w=g.indexNames[y],S=g.index(w).keyPath,C=typeof S=="string"?S:"["+he(S).join("+")+"]";!i[d]||(S=i[d].idxByName[C])&&(S.name=w,delete i[d].idxByName[C],i[d].idxByName[w]=S)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function el(n){return n.split(",").map(function(i,o){var u=(i=i.trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return ms(u,f||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),h(f),o===0)})}var ku=(vi.prototype._parseStoresSpec=function(n,i){c(n).forEach(function(o){if(n[o]!==null){var u=el(n[o]),f=u.shift();if(f.unique=!0,f.multi)throw new ue.Schema("Primary key cannot be multi-valued");u.forEach(function(d){if(d.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")}),i[o]=ys(o,f,u)}})},vi.prototype.stores=function(o){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,o):o;var o=i._versions,u={},f={};return o.forEach(function(d){p(u,d._cfg.storesSource),f=d._cfg.dbschema={},d._parseStoresSpec(u,f)}),i._dbSchema=f,bs(i,[i._allTables,i,i.Transaction.prototype]),pi(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],c(f),f),i._storeNames=c(f),this},vi.prototype.upgrade=function(n){return this._cfg.contentUpgrade=z(this._cfg.contentUpgrade||m,n),this},vi);function vi(){}function xs(n,i){var o=n._dbNamesDB;return o||(o=n._dbNamesDB=new tn(ai,{addons:[],indexedDB:n,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),o.table("dbnames")}function Ss(n){return n&&typeof n.databases=="function"}function Os(n){return mn(function(){return ie.letThrough=!0,n()})}function Es(n){return!("from"in n)}var dt=function(n,i){if(!this){var o=new dt;return n&&"d"in n&&p(o,n),o}p(this,arguments.length?{d:1,from:n,to:1<arguments.length?i:n}:{d:0})};function Er(n,i,o){var u=Oe(i,o);if(!isNaN(u)){if(0<u)throw RangeError();if(Es(n))return p(n,{from:i,to:o,d:1});var f=n.l,u=n.r;if(Oe(o,n.from)<0)return f?Er(f,i,o):n.l={from:i,to:o,d:1,l:null,r:null},nl(n);if(0<Oe(i,n.to))return u?Er(u,i,o):n.r={from:i,to:o,d:1,l:null,r:null},nl(n);Oe(i,n.from)<0&&(n.from=i,n.l=null,n.d=u?u.d+1:1),0<Oe(o,n.to)&&(n.to=o,n.r=null,n.d=n.l?n.l.d+1:1),o=!n.r,f&&!n.l&&Cr(n,f),u&&o&&Cr(n,u)}}function Cr(n,i){Es(i)||function o(u,w){var d=w.from,g=w.to,y=w.l,w=w.r;Er(u,d,g),y&&o(u,y),w&&o(u,w)}(n,i)}function tl(n,i){var o=bi(i),u=o.next();if(u.done)return!1;for(var f=u.value,d=bi(n),g=d.next(f.from),y=g.value;!u.done&&!g.done;){if(Oe(y.from,f.to)<=0&&0<=Oe(y.to,f.from))return!0;Oe(f.from,y.from)<0?f=(u=o.next(y.from)).value:y=(g=d.next(f.from)).value}return!1}function bi(n){var i=Es(n)?null:{s:0,n};return{next:function(o){for(var u=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,u)for(;i.n.l&&Oe(o,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!u||Oe(o,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function nl(n){var i,o,u=(((i=n.r)===null||i===void 0?void 0:i.d)||0)-(((o=n.l)===null||o===void 0?void 0:o.d)||0),f=1<u?"r":u<-1?"l":"";f&&(i=f=="r"?"l":"r",o=s({},n),u=n[f],n.from=u.from,n.to=u.to,n[f]=u[f],o[f]=u[i],(n[i]=o).d=rl(o)),n.d=rl(n)}function rl(o){var i=o.r,o=o.l;return(i?o?Math.max(i.d,o.d):i.d:o?o.d:0)+1}function wi(n,i){return c(i).forEach(function(o){n[o]?Cr(n[o],i[o]):n[o]=function u(f){var d,g,y={};for(d in f)T(f,d)&&(g=f[d],y[d]=!g||typeof g!="object"||Be.has(g.constructor)?g:u(g));return y}(i[o])}),n}function Cs(n,i){return n.all||i.all||Object.keys(n).some(function(o){return i[o]&&tl(i[o],n[o])})}B(dt.prototype,((Kt={add:function(n){return Cr(this,n),this},addKey:function(n){return Er(this,n,n),this},addKeys:function(n){var i=this;return n.forEach(function(o){return Er(i,o,o)}),this},hasKey:function(n){var i=bi(this).next(n).value;return i&&Oe(i.from,n)<=0&&0<=Oe(i.to,n)}})[We]=function(){return bi(this)},Kt));var Kn={},ks={},Ts=!1;function _i(n){wi(ks,n),Ts||(Ts=!0,setTimeout(function(){Ts=!1,Ps(ks,!(ks={}))},0))}function Ps(n,i){i===void 0&&(i=!1);var o=new Set;if(n.all)for(var u=0,f=Object.values(Kn);u<f.length;u++)il(g=f[u],n,o,i);else for(var d in n){var g,y=/^idb\:\/\/(.*)\/(.*)\//.exec(d);y&&(d=y[1],y=y[2],(g=Kn["idb://".concat(d,"/").concat(y)])&&il(g,n,o,i))}o.forEach(function(w){return w()})}function il(n,i,o,u){for(var f=[],d=0,g=Object.entries(n.queries.query);d<g.length;d++){for(var y=g[d],w=y[0],S=[],C=0,v=y[1];C<v.length;C++){var I=v[C];Cs(i,I.obsSet)?I.subscribers.forEach(function(O){return o.add(O)}):u&&S.push(I)}u&&f.push([w,S])}if(u)for(var _=0,E=f;_<E.length;_++){var A=E[_],w=A[0],S=A[1];n.queries.query[w]=S}}function Tu(n){var i=n._state,o=n._deps.indexedDB;if(i.isBeingOpened||n.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?Ye(i.dbOpenError):n});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var u=i.openCanceller,f=Math.round(10*n.verno),d=!1;function g(){if(i.openCanceller!==u)throw new ue.DatabaseClosed("db.open() was cancelled")}function y(){return new ne(function(I,_){if(g(),!o)throw new ue.MissingAPI;var E=n.name,A=i.autoSchema||!f?o.open(E):o.open(E,f);if(!A)throw new ue.MissingAPI;A.onerror=Ut(_),A.onblocked=Ve(n._fireOnBlocked),A.onupgradeneeded=Ve(function(O){var j;C=A.transaction,i.autoSchema&&!n._options.allowEmptyDB?(A.onerror=_r,C.abort(),A.result.close(),(j=o.deleteDatabase(E)).onsuccess=j.onerror=Ve(function(){_(new ue.NoSuchDatabase("Database ".concat(E," doesnt exist")))})):(C.onerror=Ut(_),O=O.oldVersion>Math.pow(2,62)?0:O.oldVersion,v=O<1,n.idbdb=A.result,d&&Cu(n,C),Eu(n,O/10,C,_))},_),A.onsuccess=Ve(function(){C=null;var O,j,D,R,L,U=n.idbdb=A.result,Q=he(U.objectStoreNames);if(0<Q.length)try{var W=U.transaction((R=Q).length===1?R[0]:R,"readonly");if(i.autoSchema)j=U,D=W,(O=n).verno=j.version/10,D=O._dbSchema=mi(0,j,D),O._storeNames=he(j.objectStoreNames,0),pi(O,[O._allTables],c(D),D);else if(yi(n,n._dbSchema,W),((L=ws(mi(0,(L=n).idbdb,W),L._dbSchema)).add.length||L.change.some(function(G){return G.add.length||G.change.length}))&&!d)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),U.close(),f=U.version+1,d=!0,I(y());hi(n,W)}catch{}Zn.push(n),U.onversionchange=Ve(function(G){i.vcFired=!0,n.on("versionchange").fire(G)}),U.onclose=Ve(function(G){n.on("close").fire(G)}),v&&(L=n._deps,W=E,U=L.indexedDB,L=L.IDBKeyRange,Ss(U)||W===ai||xs(U,L).put({name:W}).catch(m)),I()},_)}).catch(function(I){switch(I?.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),y();break;case"VersionError":if(0<f)return f=0,y()}return ne.reject(I)})}var w,S=i.dbReadyResolve,C=null,v=!1;return ne.race([u,(typeof navigator>"u"?ne.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function _(){return indexedDB.databases().finally(I)}w=setInterval(_,100),_()}).finally(function(){return clearInterval(w)}):Promise.resolve()).then(y)]).then(function(){return g(),i.onReadyBeingFired=[],ne.resolve(Os(function(){return n.on.ready.fire(n.vip)})).then(function I(){if(0<i.onReadyBeingFired.length){var _=i.onReadyBeingFired.reduce(z,m);return i.onReadyBeingFired=[],ne.resolve(Os(function(){return _(n.vip)})).then(I)}})}).finally(function(){i.openCanceller===u&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(I){i.dbOpenError=I;try{C&&C.abort()}catch{}return u===i.openCanceller&&n._close(),Ye(I)}).finally(function(){i.openComplete=!0,S()}).then(function(){var I;return v&&(I={},n.tables.forEach(function(_){_.schema.indexes.forEach(function(E){E.name&&(I["idb://".concat(n.name,"/").concat(_.name,"/").concat(E.name)]=new dt(-1/0,[[[]]]))}),I["idb://".concat(n.name,"/").concat(_.name,"/")]=I["idb://".concat(n.name,"/").concat(_.name,"/:dels")]=new dt(-1/0,[[[]]])}),wn(xr).fire(I),Ps(I,!0)),n})}function As(n){function i(d){return n.next(d)}var o=f(i),u=f(function(d){return n.throw(d)});function f(d){return function(w){var y=d(w),w=y.value;return y.done?w:w&&typeof w.then=="function"?w.then(o,u):h(w)?Promise.all(w).then(o,u):o(w)}}return f(i)()}function xi(n,i,o){for(var u=h(n)?n.slice():[n],f=0;f<o;++f)u.push(i);return u}var Pu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return s(s({},n),{table:function(i){var o=n.table(i),u=o.schema,f={},d=[];function g(v,I,_){var E=Or(v),A=f[E]=f[E]||[],O=v==null?0:typeof v=="string"?1:v.length,j=0<I,j=s(s({},_),{name:j?"".concat(E,"(virtual-from:").concat(_.name,")"):_.name,lowLevelIndex:_,isVirtual:j,keyTail:I,keyLength:O,extractKey:vs(v),unique:!j&&_.unique});return A.push(j),j.isPrimaryKey||d.push(j),1<O&&g(O===2?v[0]:v.slice(0,O-1),I+1,_),A.sort(function(D,R){return D.keyTail-R.keyTail}),j}i=g(u.primaryKey.keyPath,0,u.primaryKey),f[":id"]=[i];for(var y=0,w=u.indexes;y<w.length;y++){var S=w[y];g(S.keyPath,0,S)}function C(v){var I,_=v.query.index;return _.isVirtual?s(s({},v),{query:{index:_.lowLevelIndex,range:(I=v.query.range,_=_.keyTail,{type:I.type===1?2:I.type,lower:xi(I.lower,I.lowerOpen?n.MAX_KEY:n.MIN_KEY,_),lowerOpen:!0,upper:xi(I.upper,I.upperOpen?n.MIN_KEY:n.MAX_KEY,_),upperOpen:!0})}}):v}return s(s({},o),{schema:s(s({},u),{primaryKey:i,indexes:d,getIndexByKeyPath:function(v){return(v=f[Or(v)])&&v[0]}}),count:function(v){return o.count(C(v))},query:function(v){return o.query(C(v))},openCursor:function(v){var I=v.query.index,_=I.keyTail,E=I.isVirtual,A=I.keyLength;return E?o.openCursor(C(v)).then(function(j){return j&&O(j)}):o.openCursor(v);function O(j){return Object.create(j,{continue:{value:function(D){D!=null?j.continue(xi(D,v.reverse?n.MAX_KEY:n.MIN_KEY,_)):v.unique?j.continue(j.key.slice(0,A).concat(v.reverse?n.MIN_KEY:n.MAX_KEY,_)):j.continue()}},continuePrimaryKey:{value:function(D,R){j.continuePrimaryKey(xi(D,n.MAX_KEY,_),R)}},primaryKey:{get:function(){return j.primaryKey}},key:{get:function(){var D=j.key;return A===1?D[0]:D.slice(0,A)}},value:{get:function(){return j.value}}})}}})}})}};function Is(n,i,o,u){return o=o||{},u=u||"",c(n).forEach(function(f){var d,g,y;T(i,f)?(d=n[f],g=i[f],typeof d=="object"&&typeof g=="object"&&d&&g?(y=kt(d))!==kt(g)?o[u+f]=i[f]:y==="Object"?Is(d,g,o,u+f+"."):d!==g&&(o[u+f]=i[f]):d!==g&&(o[u+f]=i[f])):o[u+f]=void 0}),c(i).forEach(function(f){T(n,f)||(o[u+f]=i[f])}),o}function js(n,i){return i.type==="delete"?i.keys:i.keys||i.values.map(n.extractKey)}var Au={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return s(s({},n),{table:function(i){var o=n.table(i),u=o.schema.primaryKey;return s(s({},o),{mutate:function(f){var d=ie.trans,g=d.table(i).hook,y=g.deleting,w=g.creating,S=g.updating;switch(f.type){case"add":if(w.fire===m)break;return d._promise("readwrite",function(){return C(f)},!0);case"put":if(w.fire===m&&S.fire===m)break;return d._promise("readwrite",function(){return C(f)},!0);case"delete":if(y.fire===m)break;return d._promise("readwrite",function(){return C(f)},!0);case"deleteRange":if(y.fire===m)break;return d._promise("readwrite",function(){return function v(I,_,E){return o.query({trans:I,values:!1,query:{index:u,range:_},limit:E}).then(function(A){var O=A.result;return C({type:"delete",keys:O,trans:I}).then(function(j){return 0<j.numFailures?Promise.reject(j.failures[0]):O.length<E?{failures:[],numFailures:0,lastResult:void 0}:v(I,s(s({},_),{lower:O[O.length-1],lowerOpen:!0}),E)})})}(f.trans,f.range,1e4)},!0)}return o.mutate(f);function C(v){var I,_,E,A=ie.trans,O=v.keys||js(u,v);if(!O)throw new Error("Keys missing");return(v=v.type==="add"||v.type==="put"?s(s({},v),{keys:O}):s({},v)).type!=="delete"&&(v.values=l([],v.values)),v.keys&&(v.keys=l([],v.keys)),I=o,E=O,((_=v).type==="add"?Promise.resolve([]):I.getMany({trans:_.trans,keys:E,cache:"immutable"})).then(function(j){var D=O.map(function(R,L){var U,Q,W,G=j[L],ee={onerror:null,onsuccess:null};return v.type==="delete"?y.fire.call(ee,R,G,A):v.type==="add"||G===void 0?(U=w.fire.call(ee,R,v.values[L],A),R==null&&U!=null&&(v.keys[L]=R=U,u.outbound||Re(v.values[L],u.keyPath,R))):(U=Is(G,v.values[L]),(Q=S.fire.call(ee,U,R,G,A))&&(W=v.values[L],Object.keys(Q).forEach(function(Y){T(W,Y)?W[Y]=Q[Y]:Re(W,Y,Q[Y])}))),ee});return o.mutate(v).then(function(R){for(var L=R.failures,U=R.results,Q=R.numFailures,R=R.lastResult,W=0;W<O.length;++W){var G=(U||O)[W],ee=D[W];G==null?ee.onerror&&ee.onerror(L[W]):ee.onsuccess&&ee.onsuccess(v.type==="put"&&j[W]?v.values[W]:G)}return{failures:L,results:U,numFailures:Q,lastResult:R}}).catch(function(R){return D.forEach(function(L){return L.onerror&&L.onerror(R)}),Promise.reject(R)})})}}})}})}};function sl(n,i,o){try{if(!i||i.keys.length<n.length)return null;for(var u=[],f=0,d=0;f<i.keys.length&&d<n.length;++f)Oe(i.keys[f],n[d])===0&&(u.push(o?Te(i.values[f]):i.values[f]),++d);return u.length===n.length?u:null}catch{return null}}var Iu={stack:"dbcore",level:-1,create:function(n){return{table:function(i){var o=n.table(i);return s(s({},o),{getMany:function(u){if(!u.cache)return o.getMany(u);var f=sl(u.keys,u.trans._cache,u.cache==="clone");return f?ne.resolve(f):o.getMany(u).then(function(d){return u.trans._cache={keys:u.keys,values:u.cache==="clone"?Te(d):d},d})},mutate:function(u){return u.type!=="add"&&(u.trans._cache=null),o.mutate(u)}})}}}};function ol(n,i){return n.trans.mode==="readonly"&&!!n.subscr&&!n.trans.explicit&&n.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function ll(n,i){switch(n){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ju={stack:"dbcore",level:0,name:"Observability",create:function(n){var i=n.schema.name,o=new dt(n.MIN_KEY,n.MAX_KEY);return s(s({},n),{transaction:function(u,f,d){if(ie.subscr&&f!=="readonly")throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ie.querier));return n.transaction(u,f,d)},table:function(u){var f=n.table(u),d=f.schema,g=d.primaryKey,v=d.indexes,y=g.extractKey,w=g.outbound,S=g.autoIncrement&&v.filter(function(_){return _.compound&&_.keyPath.includes(g.keyPath)}),C=s(s({},f),{mutate:function(_){function E(Y){return Y="idb://".concat(i,"/").concat(u,"/").concat(Y),R[Y]||(R[Y]=new dt)}var A,O,j,D=_.trans,R=_.mutatedParts||(_.mutatedParts={}),L=E(""),U=E(":dels"),Q=_.type,ee=_.type==="deleteRange"?[_.range]:_.type==="delete"?[_.keys]:_.values.length<50?[js(g,_).filter(function(Y){return Y}),_.values]:[],W=ee[0],G=ee[1],ee=_.trans._cache;return h(W)?(L.addKeys(W),(ee=Q==="delete"||W.length===G.length?sl(W,ee):null)||U.addKeys(W),(ee||G)&&(A=E,O=ee,j=G,d.indexes.forEach(function(Y){var se=A(Y.name||"");function ye(Se){return Se!=null?Y.extractKey(Se):null}function xe(Se){return Y.multiEntry&&h(Se)?Se.forEach(function(Pt){return se.addKey(Pt)}):se.addKey(Se)}(O||j).forEach(function(Se,ht){var ge=O&&ye(O[ht]),ht=j&&ye(j[ht]);Oe(ge,ht)!==0&&(ge!=null&&xe(ge),ht!=null&&xe(ht))})}))):W?(G={from:(G=W.lower)!==null&&G!==void 0?G:n.MIN_KEY,to:(G=W.upper)!==null&&G!==void 0?G:n.MAX_KEY},U.add(G),L.add(G)):(L.add(o),U.add(o),d.indexes.forEach(function(Y){return E(Y.name).add(o)})),f.mutate(_).then(function(Y){return!W||_.type!=="add"&&_.type!=="put"||(L.addKeys(Y.results),S&&S.forEach(function(se){for(var ye=_.values.map(function(ge){return se.extractKey(ge)}),xe=se.keyPath.findIndex(function(ge){return ge===g.keyPath}),Se=0,Pt=Y.results.length;Se<Pt;++Se)ye[Se][xe]=Y.results[Se];E(se.name).addKeys(ye)})),D.mutatedParts=wi(D.mutatedParts||{},R),Y})}}),v=function(E){var A=E.query,E=A.index,A=A.range;return[E,new dt((E=A.lower)!==null&&E!==void 0?E:n.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:n.MAX_KEY)]},I={get:function(_){return[g,new dt(_.key)]},getMany:function(_){return[g,new dt().addKeys(_.keys)]},count:v,query:v,openCursor:v};return c(I).forEach(function(_){C[_]=function(E){var A=ie.subscr,O=!!A,j=ol(ie,f)&&ll(_,E)?E.obsSet={}:A;if(O){var D=function(G){return G="idb://".concat(i,"/").concat(u,"/").concat(G),j[G]||(j[G]=new dt)},R=D(""),L=D(":dels"),A=I[_](E),O=A[0],A=A[1];if((_==="query"&&O.isPrimaryKey&&!E.values?L:D(O.name||"")).add(A),!O.isPrimaryKey){if(_!=="count"){var U=_==="query"&&w&&E.values&&f.query(s(s({},E),{values:!1}));return f[_].apply(this,arguments).then(function(G){if(_==="query"){if(w&&E.values)return U.then(function(ye){return ye=ye.result,R.addKeys(ye),G});var ee=E.values?G.result.map(y):G.result;(E.values?R:L).addKeys(ee)}else if(_==="openCursor"){var Y=G,se=E.values;return Y&&Object.create(Y,{key:{get:function(){return L.addKey(Y.primaryKey),Y.key}},primaryKey:{get:function(){var ye=Y.primaryKey;return L.addKey(ye),ye}},value:{get:function(){return se&&R.addKey(Y.primaryKey),Y.value}}})}return G})}L.add(o)}}return f[_].apply(this,arguments)}}),C}})}};function al(n,i,o){if(o.numFailures===0)return i;if(i.type==="deleteRange")return null;var u=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return o.numFailures===u?null:(i=s({},i),h(i.keys)&&(i.keys=i.keys.filter(function(f,d){return!(d in o.failures)})),"values"in i&&h(i.values)&&(i.values=i.values.filter(function(f,d){return!(d in o.failures)})),i)}function Ds(n,i){return o=n,((u=i).lower===void 0||(u.lowerOpen?0<Oe(o,u.lower):0<=Oe(o,u.lower)))&&(n=n,(i=i).upper===void 0||(i.upperOpen?Oe(n,i.upper)<0:Oe(n,i.upper)<=0));var o,u}function ul(n,i,I,u,f,d){if(!I||I.length===0)return n;var g=i.query.index,y=g.multiEntry,w=i.query.range,S=u.schema.primaryKey.extractKey,C=g.extractKey,v=(g.lowLevelIndex||g).extractKey,I=I.reduce(function(_,E){var A=_,O=[];if(E.type==="add"||E.type==="put")for(var j=new dt,D=E.values.length-1;0<=D;--D){var R,L=E.values[D],U=S(L);j.hasKey(U)||(R=C(L),(y&&h(R)?R.some(function(Y){return Ds(Y,w)}):Ds(R,w))&&(j.addKey(U),O.push(L)))}switch(E.type){case"add":var Q=new dt().addKeys(i.values?_.map(function(se){return S(se)}):_),A=_.concat(i.values?O.filter(function(se){return se=S(se),!Q.hasKey(se)&&(Q.addKey(se),!0)}):O.map(function(se){return S(se)}).filter(function(se){return!Q.hasKey(se)&&(Q.addKey(se),!0)}));break;case"put":var W=new dt().addKeys(E.values.map(function(se){return S(se)}));A=_.filter(function(se){return!W.hasKey(i.values?S(se):se)}).concat(i.values?O:O.map(function(se){return S(se)}));break;case"delete":var G=new dt().addKeys(E.keys);A=_.filter(function(se){return!G.hasKey(i.values?S(se):se)});break;case"deleteRange":var ee=E.range;A=_.filter(function(se){return!Ds(S(se),ee)})}return A},n);return I===n?n:(I.sort(function(_,E){return Oe(v(_),v(E))||Oe(S(_),S(E))}),i.limit&&i.limit<1/0&&(I.length>i.limit?I.length=i.limit:n.length===i.limit&&I.length<i.limit&&(f.dirty=!0)),d?Object.freeze(I):I)}function cl(n,i){return Oe(n.lower,i.lower)===0&&Oe(n.upper,i.upper)===0&&!!n.lowerOpen==!!i.lowerOpen&&!!n.upperOpen==!!i.upperOpen}function Du(n,i){return function(o,u,f,d){if(o===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;if((u=Oe(o,u))===0){if(f&&d)return 0;if(f)return 1;if(d)return-1}return u}(n.lower,i.lower,n.lowerOpen,i.lowerOpen)<=0&&0<=function(o,u,f,d){if(o===void 0)return u!==void 0?1:0;if(u===void 0)return-1;if((u=Oe(o,u))===0){if(f&&d)return 0;if(f)return-1;if(d)return 1}return u}(n.upper,i.upper,n.upperOpen,i.upperOpen)}function Ru(n,i,o,u){n.subscribers.add(o),u.addEventListener("abort",function(){var f,d;n.subscribers.delete(o),n.subscribers.size===0&&(f=n,d=i,setTimeout(function(){f.subscribers.size===0&&Ee(d,f)},3e3))})}var Ku={stack:"dbcore",level:0,name:"Cache",create:function(n){var i=n.schema.name;return s(s({},n),{transaction:function(o,u,f){var d,g,y=n.transaction(o,u,f);return u==="readwrite"&&(g=(d=new AbortController).signal,f=function(w){return function(){if(d.abort(),u==="readwrite"){for(var S=new Set,C=0,v=o;C<v.length;C++){var I=v[C],_=Kn["idb://".concat(i,"/").concat(I)];if(_){var E=n.table(I),A=_.optimisticOps.filter(function(se){return se.trans===y});if(y._explicit&&w&&y.mutatedParts)for(var O=0,j=Object.values(_.queries.query);O<j.length;O++)for(var D=0,R=(Q=j[O]).slice();D<R.length;D++)Cs((W=R[D]).obsSet,y.mutatedParts)&&(Ee(Q,W),W.subscribers.forEach(function(se){return S.add(se)}));else if(0<A.length){_.optimisticOps=_.optimisticOps.filter(function(se){return se.trans!==y});for(var L=0,U=Object.values(_.queries.query);L<U.length;L++)for(var Q,W,G,ee=0,Y=(Q=U[L]).slice();ee<Y.length;ee++)(W=Y[ee]).res!=null&&y.mutatedParts&&(w&&!W.dirty?(G=Object.isFrozen(W.res),G=ul(W.res,W.req,A,E,W,G),W.dirty?(Ee(Q,W),W.subscribers.forEach(function(se){return S.add(se)})):G!==W.res&&(W.res=G,W.promise=ne.resolve({result:G}))):(W.dirty&&Ee(Q,W),W.subscribers.forEach(function(se){return S.add(se)})))}}}S.forEach(function(se){return se()})}}},y.addEventListener("abort",f(!1),{signal:g}),y.addEventListener("error",f(!1),{signal:g}),y.addEventListener("complete",f(!0),{signal:g})),y},table:function(o){var u=n.table(o),f=u.schema.primaryKey;return s(s({},u),{mutate:function(d){var g=ie.trans;if(f.outbound||g.db._options.cache==="disabled"||g.explicit||g.idbtrans.mode!=="readwrite")return u.mutate(d);var y=Kn["idb://".concat(i,"/").concat(o)];return y?(g=u.mutate(d),d.type!=="add"&&d.type!=="put"||!(50<=d.values.length||js(f,d).some(function(w){return w==null}))?(y.optimisticOps.push(d),d.mutatedParts&&_i(d.mutatedParts),g.then(function(w){0<w.numFailures&&(Ee(y.optimisticOps,d),(w=al(0,d,w))&&y.optimisticOps.push(w),d.mutatedParts&&_i(d.mutatedParts))}),g.catch(function(){Ee(y.optimisticOps,d),d.mutatedParts&&_i(d.mutatedParts)})):g.then(function(w){var S=al(0,s(s({},d),{values:d.values.map(function(C,v){var I;return w.failures[v]?C:(C=(I=f.keyPath)!==null&&I!==void 0&&I.includes(".")?Te(C):s({},C),Re(C,f.keyPath,w.results[v]),C)})}),w);y.optimisticOps.push(S),queueMicrotask(function(){return d.mutatedParts&&_i(d.mutatedParts)})}),g):u.mutate(d)},query:function(d){if(!ol(ie,u)||!ll("query",d))return u.query(d);var g=((S=ie.trans)===null||S===void 0?void 0:S.db._options.cache)==="immutable",v=ie,y=v.requery,w=v.signal,S=function(E,A,O,j){var D=Kn["idb://".concat(E,"/").concat(A)];if(!D)return[];if(!(A=D.queries[O]))return[null,!1,D,null];var R=A[(j.query?j.query.index.name:null)||""];if(!R)return[null,!1,D,null];switch(O){case"query":var L=R.find(function(U){return U.req.limit===j.limit&&U.req.values===j.values&&cl(U.req.query.range,j.query.range)});return L?[L,!0,D,R]:[R.find(function(U){return("limit"in U.req?U.req.limit:1/0)>=j.limit&&(!j.values||U.req.values)&&Du(U.req.query.range,j.query.range)}),!1,D,R];case"count":return L=R.find(function(U){return cl(U.req.query.range,j.query.range)}),[L,!!L,D,R]}}(i,o,"query",d),C=S[0],v=S[1],I=S[2],_=S[3];return C&&v?C.obsSet=d.obsSet:(v=u.query(d).then(function(E){var A=E.result;if(C&&(C.res=A),g){for(var O=0,j=A.length;O<j;++O)Object.freeze(A[O]);Object.freeze(A)}else E.result=Te(A);return E}).catch(function(E){return _&&C&&Ee(_,C),Promise.reject(E)}),C={obsSet:d.obsSet,promise:v,subscribers:new Set,type:"query",req:d,dirty:!1},_?_.push(C):(_=[C],(I=I||(Kn["idb://".concat(i,"/").concat(o)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[d.query.index.name||""]=_)),Ru(C,_,y,w),C.promise.then(function(E){return{result:ul(E.result,d,I?.optimisticOps,u,C,g)}})}})}})}};function Si(n,i){return new Proxy(n,{get:function(o,u,f){return u==="db"?i:Reflect.get(o,u,f)}})}var tn=(Qe.prototype.version=function(n){if(isNaN(n)||n<.1)throw new ue.Type("Given version is not a positive number");if(n=Math.round(10*n)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var i=this._versions,o=i.filter(function(u){return u._cfg.version===n})[0];return o||(o=new this.Version(n),i.push(o),i.sort(Ou),o.stores({}),this._state.autoSchema=!1,o)},Qe.prototype._whenReady=function(n){var i=this;return this.idbdb&&(this._state.openComplete||ie.letThrough||this._vip)?n():new ne(function(o,u){if(i._state.openComplete)return u(new ue.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void u(new ue.DatabaseClosed);i.open().catch(m)}i._state.dbReadyPromise.then(o,u)}).then(n)},Qe.prototype.use=function(n){var i=n.stack,o=n.create,u=n.level,f=n.name;return f&&this.unuse({stack:i,name:f}),n=this._middlewares[i]||(this._middlewares[i]=[]),n.push({stack:i,create:o,level:u??10,name:f}),n.sort(function(d,g){return d.level-g.level}),this},Qe.prototype.unuse=function(n){var i=n.stack,o=n.name,u=n.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(f){return u?f.create!==u:!!o&&f.name!==o})),this},Qe.prototype.open=function(){var n=this;return jn(Ge,function(){return Tu(n)})},Qe.prototype._close=function(){var n=this._state,i=Zn.indexOf(this);if(0<=i&&Zn.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new ne(function(o){n.dbReadyResolve=o}),n.openCanceller=new ne(function(o,u){n.cancelOpen=u}))},Qe.prototype.close=function(o){var i=(o===void 0?{disableAutoOpen:!0}:o).disableAutoOpen,o=this._state;i?(o.isBeingOpened&&o.cancelOpen(new ue.DatabaseClosed),this._close(),o.autoOpen=!1,o.dbOpenError=new ue.DatabaseClosed):(this._close(),o.autoOpen=this._options.autoOpen||o.isBeingOpened,o.openComplete=!1,o.dbOpenError=null)},Qe.prototype.delete=function(n){var i=this;n===void 0&&(n={disableAutoOpen:!0});var o=0<arguments.length&&typeof arguments[0]!="object",u=this._state;return new ne(function(f,d){function g(){i.close(n);var y=i._deps.indexedDB.deleteDatabase(i.name);y.onsuccess=Ve(function(){var w,S,C;w=i._deps,S=i.name,C=w.indexedDB,w=w.IDBKeyRange,Ss(C)||S===ai||xs(C,w).delete(S).catch(m),f()}),y.onerror=Ut(d),y.onblocked=i._fireOnBlocked}if(o)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(g):g()})},Qe.prototype.backendDB=function(){return this.idbdb},Qe.prototype.isOpen=function(){return this.idbdb!==null},Qe.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},Qe.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qe.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qe.prototype,"tables",{get:function(){var n=this;return c(this._allTables).map(function(i){return n._allTables[i]})},enumerable:!1,configurable:!0}),Qe.prototype.transaction=function(){var n=(function(i,o,u){var f=arguments.length;if(f<2)throw new ue.InvalidArgument("Too few arguments");for(var d=new Array(f-1);--f;)d[f-1]=arguments[f];return u=d.pop(),[i,Ie(d),u]}).apply(this,arguments);return this._transaction.apply(this,n)},Qe.prototype._transaction=function(n,i,o){var u=this,f=ie.trans;f&&f.db===this&&n.indexOf("!")===-1||(f=null);var d,g,y=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");try{if(g=i.map(function(S){if(S=S instanceof u.Table?S.name:S,typeof S!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return S}),n=="r"||n===cs)d=cs;else{if(n!="rw"&&n!=fs)throw new ue.InvalidArgument("Invalid transaction mode: "+n);d=fs}if(f){if(f.mode===cs&&d===fs){if(!y)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&g.forEach(function(S){if(f&&f.storeNames.indexOf(S)===-1){if(!y)throw new ue.SubTransaction("Table "+S+" not included in parent transaction.");f=null}}),y&&f&&!f.active&&(f=null)}}catch(S){return f?f._promise(null,function(C,v){v(S)}):Ye(S)}var w=(function S(C,v,I,_,E){return ne.resolve().then(function(){var A=ie.transless||ie,O=C._createTransaction(v,I,C._dbSchema,_);if(O.explicit=!0,A={trans:O,transless:A},_)O.idbtrans=_.idbtrans;else try{O.create(),O.idbtrans._explicit=!0,C._state.PR1398_maxLoop=3}catch(R){return R.name===hn.InvalidState&&C.isOpen()&&0<--C._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),C.close({disableAutoOpen:!1}),C.open().then(function(){return S(C,v,I,null,E)})):Ye(R)}var j,D=$t(E);return D&&Xn(),A=ne.follow(function(){var R;(j=E.call(O,O))&&(D?(R=yn.bind(null,null),j.then(R,R)):typeof j.next=="function"&&typeof j.throw=="function"&&(j=As(j)))},A),(j&&typeof j.then=="function"?ne.resolve(j).then(function(R){return O.active?R:Ye(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return j})).then(function(R){return _&&O._resolve(),O._completion.then(function(){return R})}).catch(function(R){return O._reject(R),Ye(R)})})}).bind(null,this,d,g,f,o);return f?f._promise(d,w,"lock"):ie.trans?jn(ie.transless,function(){return u._whenReady(w)}):this._whenReady(w)},Qe.prototype.table=function(n){if(!T(this._allTables,n))throw new ue.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},Qe);function Qe(n,i){var o=this;this._middlewares={},this.verno=0;var u=Qe.dependencies;this._options=i=s({addons:Qe.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},u=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,d,g,y,w,S={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:m,dbReadyPromise:null,cancelOpen:m,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};S.dbReadyPromise=new ne(function(v){S.dbReadyResolve=v}),S.openCanceller=new ne(function(v,I){S.cancelOpen=I}),this._state=S,this.name=n,this.on=vr(this,"populate","blocked","versionchange","close",{ready:[z,m]}),this.on.ready.subscribe=we(this.on.ready.subscribe,function(v){return function(I,_){Qe.vip(function(){var E,A=o._state;A.openComplete?(A.dbOpenError||ne.resolve().then(I),_&&v(I)):A.onReadyBeingFired?(A.onReadyBeingFired.push(I),_&&v(I)):(v(I),E=o,_||v(function O(){E.on.ready.unsubscribe(I),E.on.ready.unsubscribe(O)}))})}}),this.Collection=(f=this,br(yu.prototype,function(j,O){this.db=f;var _=Fo,E=null;if(O)try{_=O()}catch(D){E=D}var A=j._ctx,O=A.table,j=O.hook.reading.fire;this._ctx={table:O,index:A.index,isPrimKey:!A.index||O.schema.primKey.keyPath&&A.index===O.schema.primKey.name,range:_,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:E,or:A.or,valueMapper:j!==x?j:null}})),this.Table=(d=this,br(Uo.prototype,function(v,I,_){this.db=d,this._tx=_,this.name=v,this.schema=I,this.hook=d._allTables[v]?d._allTables[v].hook:vr(null,{creating:[N,m],reading:[M,x],updating:[te,m],deleting:[q,m]})})),this.Transaction=(g=this,br(wu.prototype,function(v,I,_,E,A){var O=this;this.db=g,this.mode=v,this.storeNames=I,this.schema=_,this.chromeTransactionDurability=E,this.idbtrans=null,this.on=vr(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ne(function(j,D){O._resolve=j,O._reject=D}),this._completion.then(function(){O.active=!1,O.on.complete.fire()},function(j){var D=O.active;return O.active=!1,O.on.error.fire(j),O.parent?O.parent._reject(j):D&&O.idbtrans&&O.idbtrans.abort(),Ye(j)})})),this.Version=(y=this,br(ku.prototype,function(v){this.db=y,this._cfg={version:v,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,br(Qo.prototype,function(v,I,_){if(this.db=w,this._ctx={table:v,index:I===":id"?null:I,or:_},this._cmp=this._ascending=Oe,this._descending=function(E,A){return Oe(A,E)},this._max=function(E,A){return 0<Oe(E,A)?E:A},this._min=function(E,A){return Oe(E,A)<0?E:A},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI})),this.on("versionchange",function(v){0<v.newVersion?console.warn("Another connection wants to upgrade database '".concat(o.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(o.name,"'. Closing db now to resume the delete request.")),o.close({disableAutoOpen:!1})}),this.on("blocked",function(v){!v.newVersion||v.newVersion<v.oldVersion?console.warn("Dexie.delete('".concat(o.name,"') was blocked")):console.warn("Upgrade '".concat(o.name,"' blocked by other connection holding version ").concat(v.oldVersion/10))}),this._maxKey=Sr(i.IDBKeyRange),this._createTransaction=function(v,I,_,E){return new o.Transaction(v,I,_,o._options.chromeTransactionDurability,E)},this._fireOnBlocked=function(v){o.on("blocked").fire(v),Zn.filter(function(I){return I.name===o.name&&I!==o&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(v)})},this.use(Iu),this.use(Ku),this.use(ju),this.use(Pu),this.use(Au);var C=new Proxy(this,{get:function(v,I,_){if(I==="_vip")return!0;if(I==="table")return function(A){return Si(o.table(A),C)};var E=Reflect.get(v,I,_);return E instanceof Uo?Si(E,C):I==="tables"?E.map(function(A){return Si(A,C)}):I==="_createTransaction"?function(){return Si(E.apply(this,arguments),C)}:E}});this.vip=C,u.forEach(function(v){return v(o)})}var Oi,Kt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Mu=(Rs.prototype.subscribe=function(n,i,o){return this._subscribe(n&&typeof n!="function"?n:{next:n,error:i,complete:o})},Rs.prototype[Kt]=function(){return this},Rs);function Rs(n){this._subscribe=n}try{Oi={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Oi={indexedDB:null,IDBKeyRange:null}}function fl(n){var i,o=!1,u=new Mu(function(f){var d=$t(n),g,y=!1,w={},S={},C={get closed(){return y},unsubscribe:function(){y||(y=!0,g&&g.abort(),v&&wn.storagemutated.unsubscribe(_))}};f.start&&f.start(C);var v=!1,I=function(){return us(E)},_=function(A){wi(w,A),Cs(S,w)&&I()},E=function(){var A,O,j;!y&&Oi.indexedDB&&(w={},A={},g&&g.abort(),g=new AbortController,j=function(D){var R=Qn();try{d&&Xn();var L=mn(n,D);return L=d?L.finally(yn):L}finally{R&&Jn()}}(O={subscr:A,signal:g.signal,requery:I,querier:n,trans:null}),Promise.resolve(j).then(function(D){o=!0,i=D,y||O.signal.aborted||(w={},function(R){for(var L in R)if(T(R,L))return;return 1}(S=A)||v||(wn(xr,_),v=!0),us(function(){return!y&&f.next&&f.next(D)}))},function(D){o=!1,["DatabaseClosedError","AbortError"].includes(D?.name)||y||us(function(){y||f.error&&f.error(D)})}))};return setTimeout(I,0),C});return u.hasValue=function(){return o},u.getValue=function(){return i},u}var Mn=tn;function Ks(n){var i=_n;try{_n=!0,wn.storagemutated.fire(n),Ps(n,!0)}finally{_n=i}}B(Mn,s(s({},yr),{delete:function(n){return new Mn(n,{addons:[]}).delete()},exists:function(n){return new Mn(n,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return i=Mn.dependencies,o=i.indexedDB,i=i.IDBKeyRange,(Ss(o)?Promise.resolve(o.databases()).then(function(u){return u.map(function(f){return f.name}).filter(function(f){return f!==ai})}):xs(o,i).toCollection().primaryKeys()).then(n)}catch{return Ye(new ue.MissingAPI)}var i,o},defineClass:function(){return function(n){p(this,n)}},ignoreTransaction:function(n){return ie.trans?jn(ie.transless,n):n()},vip:Os,async:function(n){return function(){try{var i=As(n.apply(this,arguments));return i&&typeof i.then=="function"?i:ne.resolve(i)}catch(o){return Ye(o)}}},spawn:function(n,i,o){try{var u=As(n.apply(o,i||[]));return u&&typeof u.then=="function"?u:ne.resolve(u)}catch(f){return Ye(f)}},currentTransaction:{get:function(){return ie.trans||null}},waitFor:function(n,i){return i=ne.resolve(typeof n=="function"?Mn.ignoreTransaction(n):n).timeout(i||6e4),ie.trans?ie.trans.waitFor(i):i},Promise:ne,debug:{get:function(){return $},set:function(n){ce(n)}},derive:P,extend:p,props:B,override:we,Events:vr,on:wn,liveQuery:fl,extendObservabilitySet:wi,getByKeyPath:Ae,setByKeyPath:Re,delByKeyPath:function(n,i){typeof i=="string"?Re(n,i,void 0):"length"in i&&[].map.call(i,function(o){Re(n,o,void 0)})},shallowClone:at,deepClone:Te,getObjectDiff:Is,cmp:Oe,asap:ve,minKey:-1/0,addons:[],connections:Zn,errnames:hn,dependencies:Oi,cache:Kn,semVer:"4.0.11",version:"4.0.11".split(".").map(function(n){return parseInt(n)}).reduce(function(n,i,o){return n+i/Math.pow(10,2*o)})})),Mn.maxKey=Sr(Mn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(wn(xr,function(n){_n||(n=new CustomEvent(gs,{detail:n}),_n=!0,dispatchEvent(n),_n=!1)}),addEventListener(gs,function(n){n=n.detail,_n||Ks(n)}));var nr,_n=!1,dl=function(){};return typeof BroadcastChannel<"u"&&((dl=function(){(nr=new BroadcastChannel(gs)).onmessage=function(n){return n.data&&Ks(n.data)}})(),typeof nr.unref=="function"&&nr.unref(),wn(xr,function(n){_n||nr.postMessage(n)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(n){if(!tn.disableBfCache&&n.persisted){$&&console.debug("Dexie: handling persisted pagehide"),nr?.close();for(var i=0,o=Zn;i<o.length;i++)o[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(n){!tn.disableBfCache&&n.persisted&&($&&console.debug("Dexie: handling persisted pageshow"),dl(),Ks({all:new dt(-1/0,[[]])}))})),ne.rejectionMapper=function(n,i){return!n||n instanceof Zt||n instanceof TypeError||n instanceof SyntaxError||!n.name||!pn[n.name]?n:(i=new pn[n.name](i||n.message,n),"stack"in n&&K(i,"stack",{get:function(){return this.inner.stack}}),i)},ce($),s(tn,Object.freeze({__proto__:null,Dexie:tn,liveQuery:fl,Entity:Vo,cmp:Oe,PropModification:wr,replacePrefix:function(n,i){return new wr({replacePrefix:[n,i]})},add:function(n){return new wr({add:n})},remove:function(n){return new wr({remove:n})},default:tn,RangeSet:dt,mergeRanges:Cr,rangesOverlap:tl}),{default:tn}),tn})}(Ri)),Ri.exports}var qd=Vd();const fo=Nd(qd),ea=Symbol.for("Dexie"),Wi=globalThis[ea]||(globalThis[ea]=fo);if(fo.semVer!==Wi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${fo.semVer} and ${Wi.semVer}`);const{liveQuery:Ih,mergeRanges:jh,rangesOverlap:Dh,RangeSet:Rh,cmp:Kh,Entity:Mh,PropModification:Lh,replacePrefix:Bh,add:$h,remove:Nh}=Wi,$r={};function Ko(e,t){$r[e]||($r[e]=[]),$r[e].push(t)}function dr(e,t=void 0){$r[e]!==void 0&&$r[e].forEach(r=>{r(t)})}const Gn=new Wi("ServersDatabase");Gn.version(1).stores({servers:"name, url, translocatorsGeojson, landmarksGeojson"});const Ki="TOPS (default)",Hd="https://map.tops.vintagestory.at",Ud=async()=>(await Gn.servers.toArray()).map(e=>e.name),be=Xi({serverList:[],currentServer:"",translocatorsGeojson:null,landmarksGeojson:null,mapLink:"",isEditingServer:!1,zoom:5}),ho=e=>{if(!e)return"";let t=e;!e.startsWith("https://")&&!e.startsWith("http://")&&(t="https://"+e);try{return new URL(t).origin}catch(r){return console.log(r),""}},cu=async e=>{localStorage.setItem("currentServer",e);const t=await Gn.servers.where("name").equals(e).first();be.translocatorsGeojson=t?.translocatorsGeojson,be.landmarksGeojson=t?.landmarksGeojson,be.mapLink=ho(t?.url)};Lr(()=>be.currentServer,cu);Ko("serverListUpdated",async function(e={}){const t=e.currentServer||localStorage.getItem("currentServer");be.serverList=await Ud(),t&&be.serverList.indexOf(t)!==-1?be.currentServer=t:(!t||be.serverList.indexOf(t)===-1)&&(be.currentServer=be.serverList[0]),cu(be.currentServer)});Gn.servers.toArray().then(async e=>{try{const[t,r]=await Promise.all([fetch("translocators.geojson"),fetch("landmarks.geojson")]),[s,l]=await Promise.all([t.json(),r.json()]);await Gn.servers.put({name:Ki,url:Hd,translocatorsGeojson:s,landmarksGeojson:l})}catch(t){console.error("Error fetching or storing geojson files:",t)}dr("serverListUpdated")});const Wd=Zr({components:{Multiselect:Ro},props:{modelValue:{type:Object,required:!0}},setup(e,{emit:t}){const r=Ue([]),s=Ue(null),l=Ue(""),a=Ue(!1),c=Ue(!1);Lr(()=>be.landmarksGeojson,K=>{if(!K){r.value=[];return}r.value=K.features.map(P=>{const F=[P.geometry.coordinates[0],-P.geometry.coordinates[1]];return{name:P.properties.label,coordinates:F}})},{immediate:!0});const h=Gr({get:()=>e.modelValue,set:K=>{t("update:modelValue",K)}}),p=({name:K,coordinates:P})=>K?`${K}  [${P}]`:P,k=K=>{const P=/^(-?)(\d+)\s*[, ]\s*(-?)(\d+)$/,F=K.match(P);if(!F)return null;let X=Number(F[2]);F[1]==="-"&&(X*=-1);let he=Number(F[4]);return F[3]==="-"&&(he*=-1),[X,he]};return{value:h,options:r,multiselectRef:s,formatLocation:p,searchChange:K=>{const P=k(K);P?(a.value=!0,l.value=K,h.value={name:K,coordinates:P}):a.value=!1},addTag:K=>{const P=k(K);if(!P)return;if(h.value&&h.value.coordinates){const X=h.value.coordinates;if(X[0]===P[0]&&X[1]===P[1])return}const F={name:P?.join(", "),coordinates:P};h.value=F,l.value=`${P[0]}, ${P[1]}`},open:()=>{c.value=!0,ko(()=>{if(s.value){const K=h.value?.coordinates;K&&(s.value.search=`${K[0]}, ${K[1]}`)}})},close:()=>{c.value=!1},taggable:a,store:be}}}),gr=(e,t)=>{const r=e.__vccOpts||e;for(const[s,l]of t)r[s]=l;return r};function Gd(e,t,r,s,l,a){const c=qc("multiselect");return Ke(),qi(c,{ref:"multiselectRef",id:"single-select-search",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=h=>e.value=h),"option-height":32,options:e.options,disabled:e.store.isEditingServer,"custom-label":e.formatLocation,searchable:!0,preserveSearch:!0,taggable:e.taggable,clearOnSelect:!1,onTag:e.addTag,onOpen:e.open,onClose:e.close,onSearchChange:e.searchChange,"tag-placeholder":"",placeholder:"Find landmark or enter coordinates",label:"name","track-by":"name","aria-label":"pick a value"},null,8,["modelValue","options","disabled","custom-label","taggable","onTag","onOpen","onClose","onSearchChange"])}const ta=gr(Wd,[["render",Gd]]),zd={},Yd={class:"tl-navi-icon tl-navi-icon-copy",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 63 63",width:"16",height:"16"};function Qd(e,t){return Ke(),qe("svg",Yd,t[0]||(t[0]=[re("defs",null,null,-1),re("g",null,[re("g",null,[re("g",{transform:"matrix(1,0,0,1,9.935960727,2.929834573)"},[re("path",{d:"M4.801107,5.415099L 31.705743,5.415099 L 31.705743,46.178014 L 4.801107,46.178014 L 4.801107,5.415099 Z",transform:"matrix(1,0,0,1,0,0)",fill:"#fefefe",stroke:"#000000","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})]),re("g",{transform:"matrix(1,0,0,1,9.935960727,2.929834573)"},[re("path",{d:"M13.276165,13.058145L 40.1808,13.058145 L 40.1808,53.821061 L 13.276165,53.821061 L 13.276165,13.058145 Z",transform:"matrix(1,0,0,1,0,0)",fill:"#fefefe",stroke:"#000000","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1)]))}const Jd=gr(zd,[["render",Qd]]),Xd={},Zd={class:"tl-navi-icon tl-navi-icon-translocator",width:"16",height:"16",viewBox:"0 0 10 10",version:"1.1",id:"svg1","inkscape:version":"1.4.2 (f4327f4, 2025-05-13)","sodipodi:docname":"tl.svg","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"};function eh(e,t){return Ke(),qe("svg",Zd,t[0]||(t[0]=[re("defs",null,null,-1),re("g",null,[re("path",{style:{fill:"none","fill-opacity":"1","stroke-width":"0.334522","stroke-opacity":"1"},d:"m 9.2591212,5.9260728 c 0,-4.5448839 -3.1221819,-4.95275825 -4.4915599,-4.95275825 -1.3693779,0 -3.5603827,2.56378075 -3.6151578,4.02047445 -0.054775,1.4566936 1.0955025,3.7291357 2.9030815,3.7291357 1.8075789,0 4.4367847,-1.0488194 4.217684,-2.6803165 C 8.0540688,4.4111115 7.9992937,2.8378826 6.2464898,2.5465436 4.4936859,2.2552048 2.9297065,1.9542109 2.6010557,3.3526368 2.2724049,4.7510626 1.426279,5.0520567 2.247906,6.159144 3.0695325,7.2662311 3.7268341,7.3244988 4.7675613,7.2079634 5.8082888,7.091428 6.9037911,6.5087503 6.9037911,5.4016632 6.9037911,4.2945761 6.7394658,3.8284342 5.3700879,3.5370953 4.0007099,3.2457568 3.4529585,2.6048113 3.124308,3.595363 2.7956571,4.5859147 2.5217814,5.6930021 3.179083,5.8095374 3.8363843,5.9260728 4.1650352,5.5181986 4.931887,5.4016632 5.6987384,5.2851278 5.8082888,4.1780407 4.8223364,4.2945761"})],-1)]))}const th=gr(Xd,[["render",eh]]),fu=e=>be.mapLink===""?"":e!==null?`${be.mapLink}/?x=${e[0]}&y=${e[1]}&zoom=${be.zoom}`:"",nh={key:0,class:"list"},rh={id:"path"},ih=Zr({__name:"PathOutput",props:{path:{}},setup(e){const t=e,r=Ue(null),s=Ue(null),l=Ue(),a=Ue(!1);function c(K,P){return K===null||P===null?!1:K[0]===P[0]&&K[1]===P[1]}function h(K){K===null?dr("set-display-point",null):dr("set-display-point",t.path[K])}function p(K,P){const F=`/waypoint addati spiral ${K[0]} 110 ${-K[1]} false purple TL to ${P[0]}, ${-P[1]}`;l.value&&(l.value.value=F,l.value.select(),l.value.setSelectionRange(0,99999),navigator.clipboard.writeText(l.value.value))}const k=K=>{const P=Number(K.pointId),F=t.path[P],X=()=>{const ve=Number(P);ve===r.value?(r.value=null,s.value=null,h(null)):(r.value=ve,s.value=F,h(ve))},he=()=>{const ve=t.path[P],Ae=fu(ve);if(Ae===""){alert("Map URL is not set in settings");return}window.open(Ae,"_blank")};let we=null;P>0&&P!==t.path.length-1&&(we=sr("a",{onClick:()=>{const ve=P%2?P+1:P-1;p(t.path[P],t.path[ve])},title:"Copy waypoint command"},[sr(Jd)]));const le=P===0||P===t.path.length-1?null:sr(th);return sr("span",{},[sr("button",{onClick:X,onMousedown:ve=>{ve.button===1&&he()},class:{"coord-clickie":!0,"coord-clickie-active":c(s.value,F)}},[le,`[${t.path[Number(K.pointId)][0]}, ${a.value&&t.path[Number(K.pointId)][2]?t.path[Number(K.pointId)][2]+", ":""}${-t.path[Number(K.pointId)][1]}]`]),we])};k.props=["pointId"];function b(K,P){return Math.sqrt(Math.pow(K[0]-P[0],2)+Math.pow(K[1]-P[1],2))}const T=Gr(()=>{const K=[];for(let P=0;P<t.path.length/2;P++)K.push(Math.round(b(t.path[P*2],t.path[P*2+1])));return K}),B=Gr(()=>T.value.reduce((K,P)=>K+P,0)),H=K=>K<100?"travel-distance-short":K<500?"travel-distance-medium":K<1e3?"travel-distance-long":K<2e3?"travel-distance-very-long":"travel-distance-insane";return(K,P)=>(Ke(),qe(et,null,[re("input",{style:{display:"none"},ref_key:"copyInput",ref:l},null,512),K.path.length>0?(Ke(),qe("div",nh,[re("div",null,[ze(xt(t.path.length/2-1)+" translocator jumps; approximate walk distance: "+xt(B.value)+" blocks. Show TL depths: ",1),Jt(re("input",{type:"checkbox","onUpdate:modelValue":P[0]||(P[0]=F=>a.value=F)},null,512),[[ld,a.value]]),re("ul",rh,[(Ke(!0),qe(et,null,Fi(T.value,(F,X)=>(Ke(),qe("li",{key:X},[P[1]||(P[1]=ze(" Walk ")),re("span",{class:Nt(H(F))},xt(F),3),P[2]||(P[2]=ze(" blocks from ")),He(k,{"point-id":X*2},null,8,["point-id"]),P[3]||(P[3]=ze(" to ")),He(k,{"point-id":X*2+1},null,8,["point-id"])]))),128))])])])):It("",!0)],64))}}),sh=gr(ih,[["__scopeId","data-v-8c38c360"]]),oh={class:"zoom-select-container"},lh=["value"],ah=["src"],uh=Zr({__name:"MapView",setup(e){const t=Ue(null);function r(s){return s===null?"none":""}return Ko("set-display-point",function(s){t.value=s}),(s,l)=>ut(be).mapLink?(Ke(),qe("div",{key:0,id:"map",style:Un({display:r(t.value),height:"100vh",position:"relative"})},[re("div",oh,[l[1]||(l[1]=ze(" Zoom: ")),Jt(re("select",{"onUpdate:modelValue":l[0]||(l[0]=a=>ut(be).zoom=a)},[(Ke(),qe(et,null,Fi(11,a=>re("option",{key:a,value:a},xt(a),9,lh)),64))],512),[[ad,ut(be).zoom]])]),re("iframe",{src:ut(fu)(t.value),frameborder:"0",style:{width:"100%",height:"100%",display:"block",position:"absolute",top:"0",left:"0"}},null,8,ah)],4)):It("",!0)}}),ch=gr(uh,[["__scopeId","data-v-80fc8283"]]);class an{start;end;center;size;constructor(t,r){this.start=t,typeof r=="number"?(this.end=[t[0]+r,t[1]+r],this.size=r):(this.end=r,this.size=r[0]-t[0]),this.center=[(this.start[0]+this.end[0])/2,(this.start[1]+this.end[1])/2]}containsPoint(t){return t[0]>=this.start[0]&&t[0]<this.end[0]&&t[1]>=this.start[1]&&t[1]<this.end[1]}intersectsAABB(t){return this.start[0]<=t.end[0]&&this.end[0]>=t.start[0]&&this.start[1]<=t.end[1]&&this.end[1]>=t.start[1]}toString(){return`AABB([[${this.start[0]}, ${this.start[1]}], [${this.end[0]}, ${this.end[1]}]])`}}class Hn{static NODE_CAPACITY=10;boundary;points=[];ids=[];subtrees=null;constructor(t){this.boundary=t}subdivide(){const t=[this.boundary.center[0],this.boundary.start[1]],r=[this.boundary.start[0],this.boundary.center[1]],s=this.boundary.size/2;return{NW:new Hn(new an(this.boundary.start,s)),NE:new Hn(new an(t,s)),SW:new Hn(new an(r,s)),SE:new Hn(new an(this.boundary.center,s))}}getNodeCount(){return this.points.length+(this.subtrees?this.subtrees?.NE.getNodeCount()+this.subtrees?.NW.getNodeCount()+this.subtrees?.SE.getNodeCount()+this.subtrees?.SW.getNodeCount():0)}insert(t,r){if(!this.boundary.containsPoint(t))return!1;if(this.points.length<Hn.NODE_CAPACITY&&this.subtrees===null)return this.points.push(t),this.ids.push(r),!0;if(this.subtrees===null){this.subtrees=this.subdivide();for(let s=0;s<this.points.length;s++){const l=this.points[s],a=this.ids[s];(this.subtrees.NW.insert(l,a)||this.subtrees.NE.insert(l,a)||this.subtrees.SW.insert(l,a)||this.subtrees.SE.insert(l,a))&&(this.points.splice(s,1),this.ids.splice(s,1),s--)}}return this.subtrees.NW.insert(t,r)||this.subtrees.NE.insert(t,r)||this.subtrees.SW.insert(t,r)||this.subtrees.SE.insert(t,r),!0}queryRange(t){const r=[];if(!this.boundary.intersectsAABB(t))return r;if(this.subtrees===null){for(let s=0;s<this.points.length;s++){const l=this.points[s],a=this.ids[s];t.containsPoint(l)&&r.push([l,a])}return r}return r.push(...this.subtrees.NW.queryRange(t)),r.push(...this.subtrees.NE.queryRange(t)),r.push(...this.subtrees.SW.queryRange(t)),r.push(...this.subtrees.SE.queryRange(t)),r}toString(){const t=[],r=[];for(r.push({tree:this,indent:0});r.length>0;){const s=r.pop(),l="-".repeat(s.indent);t.push(`${l}Tree ${s.tree.boundary.toString()}`);for(const a of s.tree.points)t.push(`${l}>Point[${a[0]}, ${a[1]}]`);s.tree.subtrees&&(r.push({tree:s.tree.subtrees.SE,indent:s.indent+1}),r.push({tree:s.tree.subtrees.SW,indent:s.indent+1}),r.push({tree:s.tree.subtrees.NE,indent:s.indent+1}),r.push({tree:s.tree.subtrees.NW,indent:s.indent+1}))}return t.join(`
`)}}class fh{edges;weights;constructor(t){this.edges=[],this.weights=[],t&&(this.edges=Array.from({length:t}),this.weights=Array.from({length:t}))}addEdge(t,r,s){this.edges[t]||(this.edges[t]=[],this.weights[t]=[]),this.edges[t].push(r),this.weights[t].push(s)}dijkstraPath(t,r){const s=[],l=[],a=[];for(let p=0;p<this.edges.length;p++)s[p]=1/0,l[p]=null,a.push(p);for(s[t]=0;a.length;){let p=-1,k=-1;{let b=1/0;for(let T=0;T<a.length;T++){const B=a[T];s[B]<b&&(b=s[B],p=B,k=T)}a.splice(k,1);for(let T=0;T<this.edges[p].length;T++){const B=s[p]+this.weights[p][T],H=this.edges[p][T];B<s[H]&&(s[H]=B,l[H]=p)}}}const c=[];let h=r;if(l[h]||h===t)for(;h;)c.push(h),h=l[h];return c.reverse()}*dijkstraPathGenerator(t,r){const s=[],l=[],a=[];for(let p=0;p<this.edges.length;p++)s[p]=1/0,l[p]=null,a.push(p);for(s[t]=0;a.length;){let p=-1,k=-1;{let b=1/0;for(let T=0;T<a.length;T++){const B=a[T];s[B]<b&&(b=s[B],p=B,k=T)}a.splice(k,1);for(let T=0;T<this.edges[p].length;T++){const B=s[p]+this.weights[p][T],H=this.edges[p][T];B<s[H]&&(s[H]=B,l[H]=p)}}a.length%1e3===0&&(yield(1-a.length/this.edges.length)*100)}const c=[];let h=r;if(l[h]||h===t)for(;h;)c.push(h),h=l[h];return c.reverse()}}function po(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function*dh(e,t,r={translocatorWeight:0,enableQuadTreeQueryExpansion:!0,queryExpansionStartDist:2e3}){const s=new fh(e.length),l=r.translocatorWeight,a=r.queryExpansionStartDist;for(let c=0;c<e.length;c++){c%1e3===0&&(yield c/e.length*100),c%2===0&&(s.addEdge(c,c+1,l),s.addEdge(c+1,c,l));let h=t.queryRange(new an([e[c][0]-a,e[c][1]-a],a*2));r.enableQuadTreeQueryExpansion&&h.length<10&&(h=t.queryRange(new an([e[c][0]-a,e[c][1]-a],a*10))),r.enableQuadTreeQueryExpansion&&h.length<10&&(h=t.queryRange(new an([e[c][0]-a,e[c][1]-a],a*100))),r.enableQuadTreeQueryExpansion&&h.length<10&&(h=t.queryRange(new an([e[c][0]-a,e[c][1]-a],a*1e3)));for(let p=0;p<h.length;p++){const k=h[p][1];if(k===c)continue;const b=h[p],T=po(e[c],b[0]);s.addEdge(c,k,T),s.addEdge(k,c,T)}}return s}async function*hh(e,t){const r=e.features,s=[],l=new Hn(new an([-1e6,-1e6],2e6));yield"Building node list";for(let F=0;F<r.length;F++){const X=r[F],he=X.geometry.coordinates;s.push([he[0][0],he[0][1],X.properties.depth1]),s.push([he[1][0],he[1][1],X.properties.depth2]),l.insert(X.geometry.coordinates[0],F*2),l.insert(X.geometry.coordinates[1],F*2+1),F%1e3===0&&(yield F/r.length*100)}const a=dh(s,l,t);let c;for(yield"Building graph";!(c=a.next()).done;)yield c.value;const h=c.value,p=s.length;s.push(t.from),l.insert(t.from,p);for(let F=0;F<s.length-1;F++){const X=po(s[F],t.from);h.addEdge(F,p,X),h.addEdge(p,F,X)}const k=s.length;l.insert(t.to,k),s.push(t.to);for(let F=0;F<s.length-1;F++){const X=po(s[F],t.to);h.addEdge(F,k,X),h.addEdge(k,F,X)}function b(F,X){return F===p||F===k||X===p||X===k?!1:Math.abs(F-X)===1&&Math.min(F,X)%2===0}const T=h.dijkstraPathGenerator(p,k);for(yield"Finding path";!(c=T.next()).done;)yield c.value;const B=c.value,H=0,K=1,P=[K,K];for(let F=2;F<B.length-1;F++){const X=B[F],he=B[F-1];b(X,he)?(P[F-1]=K,P[F]=K):P[F]=H}for(let F=P.length-1;F>0;F--)P[F]===H&&B.splice(F,1);return B.map(F=>s[F])}const ph=["href"],gh=["href"],mh=Zr({__name:"ServerEditor",setup(e){let t,r;const s=Ue(""),l=Ue(""),a=Ue(null),c=Ue(null),h=()=>{const K=new FileReader,P=a.value;K.onload=function(){const F=K.result;try{const X=JSON.parse(F);if(X.type==="FeatureCollection"&&X.name==="translocators"){t=X;return}}catch(X){console.log(X)}alert("Please select a corrent translocators.geojson file"),P.value=""},P.files&&P.files[0]&&K.readAsText(P.files[0])},p=()=>{const K=new FileReader,P=c.value;K.onload=function(){const F=K.result;try{const X=JSON.parse(F);if(X.type==="FeatureCollection"&&X.name==="landmarks"){r=X;return}}catch(X){console.log(X)}alert("Please select a corrent landmarks.geojson file"),P.value=""},P.files&&P.files[0]&&K.readAsText(P.files[0])},k=()=>{if(s.value===Ki){alert("Cannot overwrite default server data!");return}Gn.servers.put({name:s.value,url:l.value,translocatorsGeojson:t,landmarksGeojson:r}),dr("serverListUpdated",{currentServer:s.value}),dr("updateServerInfo",s.value),be.isEditingServer=!1},b=()=>{s.value="",l.value="",a.value.value="",c.value.value=""},T=()=>{if(s.value===Ki){alert("Cannot delete default server data!");return}Gn.servers.where("name").equals(s.value).delete(),dr("serverListUpdated"),be.isEditingServer=!1,be.currentServer=Ki},B=()=>{b(),be.isEditingServer=!1},H=()=>{be.isEditingServer=!0,s.value=be.currentServer,l.value=be.mapLink;const K=new DataTransfer;if(K.items.add(new File([JSON.stringify(be.translocatorsGeojson)],"translocators.geojson",{type:"application/json"})),a.value.files=K.files,h(),be.landmarksGeojson){const P=new DataTransfer;P.items.add(new File([JSON.stringify(be.landmarksGeojson)],"landmarks.geojson",{type:"application/json"})),c.value.files=P.files,p()}};return(K,P)=>(Ke(),qe("div",null,[He(ut(Ro),{class:"server-select",modelValue:ut(be).currentServer,"onUpdate:modelValue":P[0]||(P[0]=F=>ut(be).currentServer=F),disabled:ut(be).isEditingServer,options:ut(be).serverList,searchable:!1,"allow-empty":!1},null,8,["modelValue","disabled","options"]),P[8]||(P[8]=ze()),re("button",{onClick:H},"Configure"),P[9]||(P[9]=ze()),re("button",{class:Nt({hidden:!ut(be).isEditingServer}),onClick:k},"Save",2),P[10]||(P[10]=ze()),re("button",{class:Nt({hidden:!ut(be).isEditingServer}),onClick:B},"Cancel",2),re("div",{class:Nt(["server-editor",{hidden:!ut(be).isEditingServer}])},[re("div",null,[re("button",{onClick:b},"Clear"),P[3]||(P[3]=ze()),re("button",{onClick:T},"Delete")]),P[6]||(P[6]=re("div",null,"Server name:",-1)),re("div",null,[Jt(re("input",{"onUpdate:modelValue":P[1]||(P[1]=F=>s.value=F),type:"text"},null,512),[[co,s.value]])]),P[7]||(P[7]=re("div",null,"Webmap link (set to get geojson file links and webmap view):",-1)),re("div",null,[Jt(re("input",{"onUpdate:modelValue":P[2]||(P[2]=F=>l.value=F),type:"text"},null,512),[[co,l.value]])]),re("div",null,[P[4]||(P[4]=ze("translocators.geojson: ")),l.value?(Ke(),qe("a",{key:0,href:ut(ho)(l.value)+"/data/geojson/translocators.geojson"},"download",8,ph)):It("",!0)]),re("div",null,[re("input",{ref_key:"translocatorsInput",ref:a,accept:".json, .geojson",id:"translocators_file",type:"file",onChange:h},null,544)]),re("div",null,[P[5]||(P[5]=ze("landmarks.geojson: ")),l.value?(Ke(),qe("a",{key:0,href:ut(ho)(l.value)+"/data/geojson/landmarks.geojson"},"download",8,gh)):It("",!0)]),re("div",null,[re("input",{ref_key:"landmarksInput",ref:c,accept:".json, .geojson",id:"landmarks_file",type:"file",onChange:p},null,544)])],2)]))}}),yh=gr(mh,[["__scopeId","data-v-e466f88b"]]),vh={id:"root",class:"container"},bh={id:"params"},wh={class:"editor-line"},_h={class:"editor-line"},xh={class:"editor-line"},Sh={class:"editor-line"},Oh=["disabled"],Eh=["title"],Ch=["disabled"],kh={key:0,class:"progress"},Th={id:"path-output"},Ph={class:"right"},Ah=Zr({__name:"App",setup(e){const t=Ue({coordinates:[0,0]}),r=Ue({coordinates:[0,0]}),s=Ue(!1),l=Ue(0),a=Ue(""),c=Ue([]),h=Ue(1e3),p=Ue(300),k=Ue(null);Ko("set-display-point",function(K){k.value=K});const b=Gr(()=>({left:!0,"left-fullwidth":k.value===null}));async function T(K,P){if(!K||!P)return;const F=[K.coordinates[0],-K.coordinates[1]],X=[P.coordinates[0],-P.coordinates[1]];if(s.value||!be.translocatorsGeojson)return;s.value=!0,l.value=0;const he=hh(be.translocatorsGeojson,{from:F,to:X,queryExpansionStartDist:h.value,translocatorWeight:p.value,enableQuadTreeQueryExpansion:!0});let we;for(;!(we=await he.next()).done;)typeof we.value=="string"?a.value=we.value:l.value=we.value,await new Promise(ve=>setTimeout(ve,0));const le=(await we).value;c.value=le,s.value=!1}function B(){T(t.value,r.value)}function H(K){be.isEditingServer||document.querySelectorAll(".multiselect__content-wrapper").entries().every(P=>P[1].style.display==="none")&&K.key==="Enter"&&T(t.value,r.value)}return Po(async()=>{window.addEventListener("keydown",H)}),Ao(async()=>{window.removeEventListener("keydown",H)}),(K,P)=>(Ke(),qe(et,null,[P[8]||(P[8]=re("header",null,null,-1)),re("main",null,[re("div",vh,[re("div",{class:Nt(b.value)},[re("div",bh,[re("div",wh,[P[3]||(P[3]=ze(" Select server: ")),He(yh)]),re("div",_h,[P[4]||(P[4]=ze(" From: ")),He(ta,{modelValue:t.value,"onUpdate:modelValue":P[0]||(P[0]=F=>t.value=F)},null,8,["modelValue"])]),re("div",xh,[P[5]||(P[5]=ze(" To: ")),He(ta,{modelValue:r.value,"onUpdate:modelValue":P[1]||(P[1]=F=>r.value=F)},null,8,["modelValue"])]),re("div",Sh,[P[6]||(P[6]=ze(" More teleporting ")),Jt(re("input",{disabled:ut(be).isEditingServer,type:"range",min:"0",max:"1000","onUpdate:modelValue":P[2]||(P[2]=F=>p.value=F)},null,8,Oh),[[co,p.value,void 0,{number:!0}]]),P[7]||(P[7]=ze(" more walking. ")),re("span",null,"(Translocator weight "+xt(p.value)+")",1),re("span",{class:"help-tooltip",title:p.value===0?"0 means you don't want any extra walking for less teleportations":`This means you're fine walking extra ${p.value} for one less teleportation`,onclick:"alert(this.title)"},"?",8,Eh)]),re("button",{disabled:ut(be).isEditingServer,onClick:B,class:"calculate-button"},"Calculate",8,Ch),s.value?(Ke(),qe("div",kh,[re("p",null,xt(a.value)+": "+xt(l.value.toFixed(1))+"%",1)])):It("",!0)]),re("div",Th,[He(sh,{path:c.value},null,8,["path"])])],2),re("div",Ph,[He(ch)])])])],64))}});pd(Ah).mount("#app");
