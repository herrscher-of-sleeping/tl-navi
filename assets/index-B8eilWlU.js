(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function go(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Be={},cr=[],Qt=()=>{},Lu=()=>!1,Gi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),mo=e=>e.startsWith("onUpdate:"),at=Object.assign,yo=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},$u=Object.prototype.hasOwnProperty,Ke=(e,t)=>$u.call(e,t),pe=Array.isArray,fr=e=>Qr(e)==="[object Map]",yr=e=>Qr(e)==="[object Set]",dl=e=>Qr(e)==="[object Date]",be=e=>typeof e=="function",Qe=e=>typeof e=="string",qt=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",ea=e=>(Fe(e)||be(e))&&be(e.then)&&be(e.catch),ta=Object.prototype.toString,Qr=e=>ta.call(e),Bu=e=>Qr(e).slice(8,-1),na=e=>Qr(e)==="[object Object]",vo=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kr=go(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zi=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Fu=/-(\w)/g,Cn=zi(e=>e.replace(Fu,(t,r)=>r?r.toUpperCase():"")),Nu=/\B([A-Z])/g,An=zi(e=>e.replace(Nu,"-$1").toLowerCase()),ra=zi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rs=zi(e=>e?`on${ra(e)}`:""),En=(e,t)=>!Object.is(e,t),Ii=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Js=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},Li=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Vu=e=>{const t=Qe(e)?Number(e):NaN;return isNaN(t)?e:t};let hl;const Yi=()=>hl||(hl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $t(e){if(pe(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],l=Qe(s)?Wu(s):$t(s);if(l)for(const u in l)t[u]=l[u]}return t}else if(Qe(e)||Fe(e))return e}const qu=/;(?![^(]*\))/g,Hu=/:([^]+)/,Uu=/\/\*[^]*?\*\//g;function Wu(e){const t={};return e.replace(Uu,"").split(qu).forEach(r=>{if(r){const s=r.split(Hu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Mt(e){let t="";if(Qe(e))t=e;else if(pe(e))for(let r=0;r<e.length;r++){const s=Mt(e[r]);s&&(t+=s+" ")}else if(Fe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Gu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zu=go(Gu);function ia(e){return!!e||e===""}function Yu(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=Zr(e[s],t[s]);return r}function Zr(e,t){if(e===t)return!0;let r=dl(e),s=dl(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=qt(e),s=qt(t),r||s)return e===t;if(r=pe(e),s=pe(t),r||s)return r&&s?Yu(e,t):!1;if(r=Fe(e),s=Fe(t),r||s){if(!r||!s)return!1;const l=Object.keys(e).length,u=Object.keys(t).length;if(l!==u)return!1;for(const c in e){const h=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(h&&!p||!h&&p||!Zr(e[c],t[c]))return!1}}return String(e)===String(t)}function bo(e,t){return e.findIndex(r=>Zr(r,t))}const sa=e=>!!(e&&e.__v_isRef===!0),St=e=>Qe(e)?e:e==null?"":pe(e)||Fe(e)&&(e.toString===ta||!be(e.toString))?sa(e)?St(e.value):JSON.stringify(e,oa,2):String(e),oa=(e,t)=>sa(t)?oa(e,t.value):fr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,l],u)=>(r[Ls(s,u)+" =>"]=l,r),{})}:yr(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Ls(r))}:qt(t)?Ls(t):Fe(t)&&!pe(t)&&!na(t)?String(t):t,Ls=(e,t="")=>{var r;return qt(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Ju{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!t&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Ct;try{return Ct=this,t()}finally{Ct=r}}}on(){++this._on===1&&(this.prevScope=Ct,Ct=this)}off(){this._on>0&&--this._on===0&&(Ct=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function Xu(){return Ct}let Ve;const $s=new WeakSet;class la{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$s.has(this)&&($s.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ua(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pl(this),ca(this);const t=Ve,r=Vt;Ve=this,Vt=!0;try{return this.fn()}finally{fa(this),Ve=t,Vt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)xo(t);this.deps=this.depsTail=void 0,pl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$s.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xs(this)&&this.run()}get dirty(){return Xs(this)}}let aa=0,Rr,Lr;function ua(e,t=!1){if(e.flags|=8,t){e.next=Lr,Lr=e;return}e.next=Rr,Rr=e}function wo(){aa++}function _o(){if(--aa>0)return;if(Lr){let t=Lr;for(Lr=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Rr;){let t=Rr;for(Rr=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function ca(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function fa(e){let t,r=e.depsTail,s=r;for(;s;){const l=s.prevDep;s.version===-1?(s===r&&(r=l),xo(s),Qu(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=l}e.deps=t,e.depsTail=r}function Xs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(da(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function da(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vr)||(e.globalVersion=Vr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Xs(e))))return;e.flags|=2;const t=e.dep,r=Ve,s=Vt;Ve=e,Vt=!0;try{ca(e);const l=e.fn(e._value);(t.version===0||En(l,e._value))&&(e.flags|=128,e._value=l,t.version++)}catch(l){throw t.version++,l}finally{Ve=r,Vt=s,fa(e),e.flags&=-3}}function xo(e,t=!1){const{dep:r,prevSub:s,nextSub:l}=e;if(s&&(s.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let u=r.computed.deps;u;u=u.nextDep)xo(u,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Qu(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Vt=!0;const ha=[];function un(){ha.push(Vt),Vt=!1}function cn(){const e=ha.pop();Vt=e===void 0?!0:e}function pl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Ve;Ve=void 0;try{t()}finally{Ve=r}}}let Vr=0;class Zu{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class So{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ve||!Vt||Ve===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ve)r=this.activeLink=new Zu(Ve,this),Ve.deps?(r.prevDep=Ve.depsTail,Ve.depsTail.nextDep=r,Ve.depsTail=r):Ve.deps=Ve.depsTail=r,pa(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=Ve.depsTail,r.nextDep=void 0,Ve.depsTail.nextDep=r,Ve.depsTail=r,Ve.deps===r&&(Ve.deps=s)}return r}trigger(t){this.version++,Vr++,this.notify(t)}notify(t){wo();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{_o()}}}function pa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)pa(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Qs=new WeakMap,Un=Symbol(""),Zs=Symbol(""),qr=Symbol("");function pt(e,t,r){if(Vt&&Ve){let s=Qs.get(e);s||Qs.set(e,s=new Map);let l=s.get(r);l||(s.set(r,l=new So),l.map=s,l.key=r),l.track()}}function on(e,t,r,s,l,u){const c=Qs.get(e);if(!c){Vr++;return}const h=p=>{p&&p.trigger()};if(wo(),t==="clear")c.forEach(h);else{const p=pe(e),E=p&&vo(r);if(p&&r==="length"){const b=Number(s);c.forEach((T,K)=>{(K==="length"||K===qr||!qt(K)&&K>=b)&&h(T)})}else switch((r!==void 0||c.has(void 0))&&h(c.get(r)),E&&h(c.get(qr)),t){case"add":p?E&&h(c.get("length")):(h(c.get(Un)),fr(e)&&h(c.get(Zs)));break;case"delete":p||(h(c.get(Un)),fr(e)&&h(c.get(Zs)));break;case"set":fr(e)&&h(c.get(Un));break}}_o()}function or(e){const t=De(e);return t===e?t:(pt(t,"iterate",qr),Bt(e)?t:t.map(ut))}function Ji(e){return pt(e=De(e),"iterate",qr),e}const ec={__proto__:null,[Symbol.iterator](){return Bs(this,Symbol.iterator,ut)},concat(...e){return or(this).concat(...e.map(t=>pe(t)?or(t):t))},entries(){return Bs(this,"entries",e=>(e[1]=ut(e[1]),e))},every(e,t){return nn(this,"every",e,t,void 0,arguments)},filter(e,t){return nn(this,"filter",e,t,r=>r.map(ut),arguments)},find(e,t){return nn(this,"find",e,t,ut,arguments)},findIndex(e,t){return nn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return nn(this,"findLast",e,t,ut,arguments)},findLastIndex(e,t){return nn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return nn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Fs(this,"includes",e)},indexOf(...e){return Fs(this,"indexOf",e)},join(e){return or(this).join(e)},lastIndexOf(...e){return Fs(this,"lastIndexOf",e)},map(e,t){return nn(this,"map",e,t,void 0,arguments)},pop(){return Ar(this,"pop")},push(...e){return Ar(this,"push",e)},reduce(e,...t){return gl(this,"reduce",e,t)},reduceRight(e,...t){return gl(this,"reduceRight",e,t)},shift(){return Ar(this,"shift")},some(e,t){return nn(this,"some",e,t,void 0,arguments)},splice(...e){return Ar(this,"splice",e)},toReversed(){return or(this).toReversed()},toSorted(e){return or(this).toSorted(e)},toSpliced(...e){return or(this).toSpliced(...e)},unshift(...e){return Ar(this,"unshift",e)},values(){return Bs(this,"values",ut)}};function Bs(e,t,r){const s=Ji(e),l=s[t]();return s!==e&&!Bt(e)&&(l._next=l.next,l.next=()=>{const u=l._next();return u.value&&(u.value=r(u.value)),u}),l}const tc=Array.prototype;function nn(e,t,r,s,l,u){const c=Ji(e),h=c!==e&&!Bt(e),p=c[t];if(p!==tc[t]){const T=p.apply(e,u);return h?ut(T):T}let E=r;c!==e&&(h?E=function(T,K){return r.call(this,ut(T),K,e)}:r.length>2&&(E=function(T,K){return r.call(this,T,K,e)}));const b=p.call(c,E,s);return h&&l?l(b):b}function gl(e,t,r,s){const l=Ji(e);let u=r;return l!==e&&(Bt(e)?r.length>3&&(u=function(c,h,p){return r.call(this,c,h,p,e)}):u=function(c,h,p){return r.call(this,c,ut(h),p,e)}),l[t](u,...s)}function Fs(e,t,r){const s=De(e);pt(s,"iterate",qr);const l=s[t](...r);return(l===-1||l===!1)&&Eo(r[0])?(r[0]=De(r[0]),s[t](...r)):l}function Ar(e,t,r=[]){un(),wo();const s=De(e)[t].apply(e,r);return _o(),cn(),s}const nc=go("__proto__,__v_isRef,__isVue"),ga=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qt));function rc(e){qt(e)||(e=String(e));const t=De(this);return pt(t,"has",e),t.hasOwnProperty(e)}class ma{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const l=this._isReadonly,u=this._isShallow;if(r==="__v_isReactive")return!l;if(r==="__v_isReadonly")return l;if(r==="__v_isShallow")return u;if(r==="__v_raw")return s===(l?u?hc:wa:u?ba:va).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const c=pe(t);if(!l){let p;if(c&&(p=ec[r]))return p;if(r==="hasOwnProperty")return rc}const h=Reflect.get(t,r,yt(t)?t:s);return(qt(r)?ga.has(r):nc(r))||(l||pt(t,"get",r),u)?h:yt(h)?c&&vo(r)?h:h.value:Fe(h)?l?_a(h):Xi(h):h}}class ya extends ma{constructor(t=!1){super(!1,t)}set(t,r,s,l){let u=t[r];if(!this._isShallow){const p=Tn(u);if(!Bt(s)&&!Tn(s)&&(u=De(u),s=De(s)),!pe(t)&&yt(u)&&!yt(s))return p?!1:(u.value=s,!0)}const c=pe(t)&&vo(r)?Number(r)<t.length:Ke(t,r),h=Reflect.set(t,r,s,yt(t)?t:l);return t===De(l)&&(c?En(s,u)&&on(t,"set",r,s):on(t,"add",r,s)),h}deleteProperty(t,r){const s=Ke(t,r);t[r];const l=Reflect.deleteProperty(t,r);return l&&s&&on(t,"delete",r,void 0),l}has(t,r){const s=Reflect.has(t,r);return(!qt(r)||!ga.has(r))&&pt(t,"has",r),s}ownKeys(t){return pt(t,"iterate",pe(t)?"length":Un),Reflect.ownKeys(t)}}class ic extends ma{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const sc=new ya,oc=new ic,lc=new ya(!0);const eo=e=>e,Ci=e=>Reflect.getPrototypeOf(e);function ac(e,t,r){return function(...s){const l=this.__v_raw,u=De(l),c=fr(u),h=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,E=l[e](...s),b=r?eo:t?$i:ut;return!t&&pt(u,"iterate",p?Zs:Un),{next(){const{value:T,done:K}=E.next();return K?{value:T,done:K}:{value:h?[b(T[0]),b(T[1])]:b(T),done:K}},[Symbol.iterator](){return this}}}}function Ti(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function uc(e,t){const r={get(l){const u=this.__v_raw,c=De(u),h=De(l);e||(En(l,h)&&pt(c,"get",l),pt(c,"get",h));const{has:p}=Ci(c),E=t?eo:e?$i:ut;if(p.call(c,l))return E(u.get(l));if(p.call(c,h))return E(u.get(h));u!==c&&u.get(l)},get size(){const l=this.__v_raw;return!e&&pt(De(l),"iterate",Un),Reflect.get(l,"size",l)},has(l){const u=this.__v_raw,c=De(u),h=De(l);return e||(En(l,h)&&pt(c,"has",l),pt(c,"has",h)),l===h?u.has(l):u.has(l)||u.has(h)},forEach(l,u){const c=this,h=c.__v_raw,p=De(h),E=t?eo:e?$i:ut;return!e&&pt(p,"iterate",Un),h.forEach((b,T)=>l.call(u,E(b),E(T),c))}};return at(r,e?{add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear")}:{add(l){!t&&!Bt(l)&&!Tn(l)&&(l=De(l));const u=De(this);return Ci(u).has.call(u,l)||(u.add(l),on(u,"add",l,l)),this},set(l,u){!t&&!Bt(u)&&!Tn(u)&&(u=De(u));const c=De(this),{has:h,get:p}=Ci(c);let E=h.call(c,l);E||(l=De(l),E=h.call(c,l));const b=p.call(c,l);return c.set(l,u),E?En(u,b)&&on(c,"set",l,u):on(c,"add",l,u),this},delete(l){const u=De(this),{has:c,get:h}=Ci(u);let p=c.call(u,l);p||(l=De(l),p=c.call(u,l)),h&&h.call(u,l);const E=u.delete(l);return p&&on(u,"delete",l,void 0),E},clear(){const l=De(this),u=l.size!==0,c=l.clear();return u&&on(l,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(l=>{r[l]=ac(l,e,t)}),r}function Oo(e,t){const r=uc(e,t);return(s,l,u)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?s:Reflect.get(Ke(r,l)&&l in s?r:s,l,u)}const cc={get:Oo(!1,!1)},fc={get:Oo(!1,!0)},dc={get:Oo(!0,!1)};const va=new WeakMap,ba=new WeakMap,wa=new WeakMap,hc=new WeakMap;function pc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gc(e){return e.__v_skip||!Object.isExtensible(e)?0:pc(Bu(e))}function Xi(e){return Tn(e)?e:ko(e,!1,sc,cc,va)}function mc(e){return ko(e,!1,lc,fc,ba)}function _a(e){return ko(e,!0,oc,dc,wa)}function ko(e,t,r,s,l){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=gc(e);if(u===0)return e;const c=l.get(e);if(c)return c;const h=new Proxy(e,u===2?s:r);return l.set(e,h),h}function dr(e){return Tn(e)?dr(e.__v_raw):!!(e&&e.__v_isReactive)}function Tn(e){return!!(e&&e.__v_isReadonly)}function Bt(e){return!!(e&&e.__v_isShallow)}function Eo(e){return e?!!e.__v_raw:!1}function De(e){const t=e&&e.__v_raw;return t?De(t):e}function yc(e){return!Ke(e,"__v_skip")&&Object.isExtensible(e)&&Js(e,"__v_skip",!0),e}const ut=e=>Fe(e)?Xi(e):e,$i=e=>Fe(e)?_a(e):e;function yt(e){return e?e.__v_isRef===!0:!1}function $e(e){return vc(e,!1)}function vc(e,t){return yt(e)?e:new bc(e,t)}class bc{constructor(t,r){this.dep=new So,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:De(t),this._value=r?t:ut(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||Bt(t)||Tn(t);t=s?t:De(t),En(t,r)&&(this._rawValue=t,this._value=s?t:ut(t),this.dep.trigger())}}function Re(e){return yt(e)?e.value:e}const wc={get:(e,t,r)=>t==="__v_raw"?e:Re(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const l=e[t];return yt(l)&&!yt(r)?(l.value=r,!0):Reflect.set(e,t,r,s)}};function xa(e){return dr(e)?e:new Proxy(e,wc)}class _c{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new So(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ve!==this)return ua(this,!0),!0}get value(){const t=this.dep.track();return da(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xc(e,t,r=!1){let s,l;return be(e)?s=e:(s=e.get,l=e.set),new _c(s,l,r)}const Pi={},Bi=new WeakMap;let Vn;function Sc(e,t=!1,r=Vn){if(r){let s=Bi.get(r);s||Bi.set(r,s=[]),s.push(e)}}function Oc(e,t,r=Be){const{immediate:s,deep:l,once:u,scheduler:c,augmentJob:h,call:p}=r,E=Z=>l?Z:Bt(Z)||l===!1||l===0?ln(Z,1):ln(Z);let b,T,K,U,ne=!1,H=!1;if(yt(e)?(T=()=>e.value,ne=Bt(e)):dr(e)?(T=()=>E(e),ne=!0):pe(e)?(H=!0,ne=e.some(Z=>dr(Z)||Bt(Z)),T=()=>e.map(Z=>{if(yt(Z))return Z.value;if(dr(Z))return E(Z);if(be(Z))return p?p(Z,2):Z()})):be(e)?t?T=p?()=>p(e,2):e:T=()=>{if(K){un();try{K()}finally{cn()}}const Z=Vn;Vn=b;try{return p?p(e,3,[U]):e(U)}finally{Vn=Z}}:T=Qt,t&&l){const Z=T,ye=l===!0?1/0:l;T=()=>ln(Z(),ye)}const F=Xu(),L=()=>{b.stop(),F&&F.active&&yo(F.effects,b)};if(u&&t){const Z=t;t=(...ye)=>{Z(...ye),L()}}let $=H?new Array(e.length).fill(Pi):Pi;const Q=Z=>{if(!(!(b.flags&1)||!b.dirty&&!Z))if(t){const ye=b.run();if(l||ne||(H?ye.some((Ie,Ee)=>En(Ie,$[Ee])):En(ye,$))){K&&K();const Ie=Vn;Vn=b;try{const Ee=[ye,$===Pi?void 0:H&&$[0]===Pi?[]:$,U];$=ye,p?p(t,3,Ee):t(...Ee)}finally{Vn=Ie}}}else b.run()};return h&&h(Q),b=new la(T),b.scheduler=c?()=>c(Q,!1):Q,U=Z=>Sc(Z,!1,b),K=b.onStop=()=>{const Z=Bi.get(b);if(Z){if(p)p(Z,4);else for(const ye of Z)ye();Bi.delete(b)}},t?s?Q(!0):$=b.run():c?c(Q.bind(null,!0),!0):b.run(),L.pause=b.pause.bind(b),L.resume=b.resume.bind(b),L.stop=L,L}function ln(e,t=1/0,r){if(t<=0||!Fe(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,yt(e))ln(e.value,t,r);else if(pe(e))for(let s=0;s<e.length;s++)ln(e[s],t,r);else if(yr(e)||fr(e))e.forEach(s=>{ln(s,t,r)});else if(na(e)){for(const s in e)ln(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&ln(e[s],t,r)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ei(e,t,r,s){try{return s?e(...s):e()}catch(l){Qi(l,t,r)}}function Ht(e,t,r,s){if(be(e)){const l=ei(e,t,r,s);return l&&ea(l)&&l.catch(u=>{Qi(u,t,r)}),l}if(pe(e)){const l=[];for(let u=0;u<e.length;u++)l.push(Ht(e[u],t,r,s));return l}}function Qi(e,t,r,s=!0){const l=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||Be;if(t){let h=t.parent;const p=t.proxy,E=`https://vuejs.org/error-reference/#runtime-${r}`;for(;h;){const b=h.ec;if(b){for(let T=0;T<b.length;T++)if(b[T](e,p,E)===!1)return}h=h.parent}if(u){un(),ei(u,null,10,[e,p,E]),cn();return}}kc(e,r,l,s,c)}function kc(e,t,r,s=!0,l=!1){if(l)throw e;console.error(e)}const Ot=[];let Jt=-1;const hr=[];let xn=null,lr=0;const Sa=Promise.resolve();let Fi=null;function Co(e){const t=Fi||Sa;return e?t.then(this?e.bind(this):e):t}function Ec(e){let t=Jt+1,r=Ot.length;for(;t<r;){const s=t+r>>>1,l=Ot[s],u=Hr(l);u<e||u===e&&l.flags&2?t=s+1:r=s}return t}function To(e){if(!(e.flags&1)){const t=Hr(e),r=Ot[Ot.length-1];!r||!(e.flags&2)&&t>=Hr(r)?Ot.push(e):Ot.splice(Ec(t),0,e),e.flags|=1,Oa()}}function Oa(){Fi||(Fi=Sa.then(Ea))}function Cc(e){pe(e)?hr.push(...e):xn&&e.id===-1?xn.splice(lr+1,0,e):e.flags&1||(hr.push(e),e.flags|=1),Oa()}function ml(e,t,r=Jt+1){for(;r<Ot.length;r++){const s=Ot[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ot.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ka(e){if(hr.length){const t=[...new Set(hr)].sort((r,s)=>Hr(r)-Hr(s));if(hr.length=0,xn){xn.push(...t);return}for(xn=t,lr=0;lr<xn.length;lr++){const r=xn[lr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}xn=null,lr=0}}const Hr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ea(e){try{for(Jt=0;Jt<Ot.length;Jt++){const t=Ot[Jt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ei(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Jt<Ot.length;Jt++){const t=Ot[Jt];t&&(t.flags&=-2)}Jt=-1,Ot.length=0,ka(),Fi=null,(Ot.length||hr.length)&&Ea()}}let ct=null,Ca=null;function Ni(e){const t=ct;return ct=e,Ca=e&&e.type.__scopeId||null,t}function to(e,t=ct,r){if(!t||e._n)return e;const s=(...l)=>{s._d&&El(-1);const u=Ni(t);let c;try{c=e(...l)}finally{Ni(u),s._d&&El(1)}return c};return s._n=!0,s._c=!0,s._d=!0,s}function Nt(e,t){if(ct===null)return e;const r=rs(ct),s=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[u,c,h,p=Be]=t[l];u&&(be(u)&&(u={mounted:u,updated:u}),u.deep&&ln(c),s.push({dir:u,instance:r,value:c,oldValue:void 0,arg:h,modifiers:p}))}return e}function $n(e,t,r,s){const l=e.dirs,u=t&&t.dirs;for(let c=0;c<l.length;c++){const h=l[c];u&&(h.oldValue=u[c].value);let p=h.dir[s];p&&(un(),Ht(p,r,8,[e.el,h,e,t]),cn())}}const Tc=Symbol("_vte"),Ta=e=>e.__isTeleport,Sn=Symbol("_leaveCb"),Ai=Symbol("_enterCb");function Pc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Po(()=>{e.isMounted=!0}),Ra(()=>{e.isUnmounting=!0}),e}const Lt=[Function,Array],Pa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Lt,onEnter:Lt,onAfterEnter:Lt,onEnterCancelled:Lt,onBeforeLeave:Lt,onLeave:Lt,onAfterLeave:Lt,onLeaveCancelled:Lt,onBeforeAppear:Lt,onAppear:Lt,onAfterAppear:Lt,onAppearCancelled:Lt},Aa=e=>{const t=e.subTree;return t.component?Aa(t.component):t},Ac={name:"BaseTransition",props:Pa,setup(e,{slots:t}){const r=Ef(),s=Pc();return()=>{const l=t.default&&Ma(t.default(),!0);if(!l||!l.length)return;const u=Ia(l),c=De(e),{mode:h}=c;if(s.isLeaving)return Ns(u);const p=yl(u);if(!p)return Ns(u);let E=no(p,c,s,r,T=>E=T);p.type!==gt&&Ur(p,E);let b=r.subTree&&yl(r.subTree);if(b&&b.type!==gt&&!qn(p,b)&&Aa(r).type!==gt){let T=no(b,c,s,r);if(Ur(b,T),h==="out-in"&&p.type!==gt)return s.isLeaving=!0,T.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete T.afterLeave,b=void 0},Ns(u);h==="in-out"&&p.type!==gt?T.delayLeave=(K,U,ne)=>{const H=ja(s,b);H[String(b.key)]=b,K[Sn]=()=>{U(),K[Sn]=void 0,delete E.delayedLeave,b=void 0},E.delayedLeave=()=>{ne(),delete E.delayedLeave,b=void 0}}:b=void 0}else b&&(b=void 0);return u}}};function Ia(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==gt){t=r;break}}return t}const Ic=Ac;function ja(e,t){const{leavingVNodes:r}=e;let s=r.get(t.type);return s||(s=Object.create(null),r.set(t.type,s)),s}function no(e,t,r,s,l){const{appear:u,mode:c,persisted:h=!1,onBeforeEnter:p,onEnter:E,onAfterEnter:b,onEnterCancelled:T,onBeforeLeave:K,onLeave:U,onAfterLeave:ne,onLeaveCancelled:H,onBeforeAppear:F,onAppear:L,onAfterAppear:$,onAppearCancelled:Q}=t,Z=String(e.key),ye=ja(r,e),Ie=(me,xe)=>{me&&Ht(me,s,9,xe)},Ee=(me,xe)=>{const Ne=xe[1];Ie(me,xe),pe(me)?me.every(ce=>ce.length<=1)&&Ne():me.length<=1&&Ne()},tt={mode:c,persisted:h,beforeEnter(me){let xe=p;if(!r.isMounted)if(u)xe=F||p;else return;me[Sn]&&me[Sn](!0);const Ne=ye[Z];Ne&&qn(e,Ne)&&Ne.el[Sn]&&Ne.el[Sn](),Ie(xe,[me])},enter(me){let xe=E,Ne=b,ce=T;if(!r.isMounted)if(u)xe=L||E,Ne=$||b,ce=Q||T;else return;let je=!1;const rt=me[Ai]=Tt=>{je||(je=!0,Tt?Ie(ce,[me]):Ie(Ne,[me]),tt.delayedLeave&&tt.delayedLeave(),me[Ai]=void 0)};xe?Ee(xe,[me,rt]):rt()},leave(me,xe){const Ne=String(e.key);if(me[Ai]&&me[Ai](!0),r.isUnmounting)return xe();Ie(K,[me]);let ce=!1;const je=me[Sn]=rt=>{ce||(ce=!0,xe(),rt?Ie(H,[me]):Ie(ne,[me]),me[Sn]=void 0,ye[Ne]===e&&delete ye[Ne])};ye[Ne]=e,U?Ee(U,[me,je]):je()},clone(me){const xe=no(me,t,r,s,l);return l&&l(xe),xe}};return tt}function Ns(e){if(Zi(e))return e=Pn(e),e.children=null,e}function yl(e){if(!Zi(e))return Ta(e.type)&&e.children?Ia(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&be(r.default))return r.default()}}function Ur(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ur(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ma(e,t=!1,r){let s=[],l=0;for(let u=0;u<e.length;u++){let c=e[u];const h=r==null?c.key:String(r)+String(c.key!=null?c.key:u);c.type===nt?(c.patchFlag&128&&l++,s=s.concat(Ma(c.children,t,h))):(t||c.type!==gt)&&s.push(h!=null?Pn(c,{key:h}):c)}if(l>1)for(let u=0;u<s.length;u++)s[u].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function vr(e,t){return be(e)?at({name:e.name},t,{setup:e}):e}function Da(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function $r(e,t,r,s,l=!1){if(pe(e)){e.forEach((ne,H)=>$r(ne,t&&(pe(t)?t[H]:t),r,s,l));return}if(pr(s)&&!l){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&$r(e,t,r,s.component.subTree);return}const u=s.shapeFlag&4?rs(s.component):s.el,c=l?null:u,{i:h,r:p}=e,E=t&&t.r,b=h.refs===Be?h.refs={}:h.refs,T=h.setupState,K=De(T),U=T===Be?()=>!1:ne=>Ke(K,ne);if(E!=null&&E!==p&&(Qe(E)?(b[E]=null,U(E)&&(T[E]=null)):yt(E)&&(E.value=null)),be(p))ei(p,h,12,[c,b]);else{const ne=Qe(p),H=yt(p);if(ne||H){const F=()=>{if(e.f){const L=ne?U(p)?T[p]:b[p]:p.value;l?pe(L)&&yo(L,u):pe(L)?L.includes(u)||L.push(u):ne?(b[p]=[u],U(p)&&(T[p]=b[p])):(p.value=[u],e.k&&(b[e.k]=p.value))}else ne?(b[p]=c,U(p)&&(T[p]=c)):H&&(p.value=c,e.k&&(b[e.k]=c))};c?(F.id=-1,It(F,r)):F()}}}Yi().requestIdleCallback;Yi().cancelIdleCallback;const pr=e=>!!e.type.__asyncLoader,Zi=e=>e.type.__isKeepAlive;function jc(e,t){Ka(e,"a",t)}function Mc(e,t){Ka(e,"da",t)}function Ka(e,t,r=mt){const s=e.__wdc||(e.__wdc=()=>{let l=r;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(es(t,s,r),r){let l=r.parent;for(;l&&l.parent;)Zi(l.parent.vnode)&&Dc(s,t,r,l),l=l.parent}}function Dc(e,t,r,s){const l=es(t,e,s,!0);Ao(()=>{yo(s[t],l)},r)}function es(e,t,r=mt,s=!1){if(r){const l=r[e]||(r[e]=[]),u=t.__weh||(t.__weh=(...c)=>{un();const h=ti(r),p=Ht(t,r,e,c);return h(),cn(),p});return s?l.unshift(u):l.push(u),u}}const fn=e=>(t,r=mt)=>{(!zr||e==="sp")&&es(e,(...s)=>t(...s),r)},Kc=fn("bm"),Po=fn("m"),Rc=fn("bu"),Lc=fn("u"),Ra=fn("bum"),Ao=fn("um"),$c=fn("sp"),Bc=fn("rtg"),Fc=fn("rtc");function Nc(e,t=mt){es("ec",e,t)}const Vc=Symbol.for("v-ndc");function Vi(e,t,r,s){let l;const u=r,c=pe(e);if(c||Qe(e)){const h=c&&dr(e);let p=!1,E=!1;h&&(p=!Bt(e),E=Tn(e),e=Ji(e)),l=new Array(e.length);for(let b=0,T=e.length;b<T;b++)l[b]=t(p?E?$i(ut(e[b])):ut(e[b]):e[b],b,void 0,u)}else if(typeof e=="number"){l=new Array(e);for(let h=0;h<e;h++)l[h]=t(h+1,h,void 0,u)}else if(Fe(e))if(e[Symbol.iterator])l=Array.from(e,(h,p)=>t(h,p,void 0,u));else{const h=Object.keys(e);l=new Array(h.length);for(let p=0,E=h.length;p<E;p++){const b=h[p];l[p]=t(e[b],b,p,u)}}else l=[];return l}function wt(e,t,r={},s,l){if(ct.ce||ct.parent&&pr(ct.parent)&&ct.parent.ce)return t!=="default"&&(r.name=t),Pe(),Gn(nt,null,[We("slot",r,s&&s())],64);let u=e[t];u&&u._c&&(u._d=!1),Pe();const c=u&&La(u(r)),h=r.key||c&&c.key,p=Gn(nt,{key:(h&&!qt(h)?h:`_${t}`)+(!c&&s?"_fb":"")},c||(s?s():[]),c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),u&&u._c&&(u._d=!0),p}function La(e){return e.some(t=>Gr(t)?!(t.type===gt||t.type===nt&&!La(t.children)):!0)?e:null}const ro=e=>e?ru(e)?rs(e):ro(e.parent):null,Br=at(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ro(e.parent),$root:e=>ro(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ba(e),$forceUpdate:e=>e.f||(e.f=()=>{To(e.update)}),$nextTick:e=>e.n||(e.n=Co.bind(e.proxy)),$watch:e=>ff.bind(e)}),Vs=(e,t)=>e!==Be&&!e.__isScriptSetup&&Ke(e,t),qc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:l,props:u,accessCache:c,type:h,appContext:p}=e;let E;if(t[0]!=="$"){const U=c[t];if(U!==void 0)switch(U){case 1:return s[t];case 2:return l[t];case 4:return r[t];case 3:return u[t]}else{if(Vs(s,t))return c[t]=1,s[t];if(l!==Be&&Ke(l,t))return c[t]=2,l[t];if((E=e.propsOptions[0])&&Ke(E,t))return c[t]=3,u[t];if(r!==Be&&Ke(r,t))return c[t]=4,r[t];io&&(c[t]=0)}}const b=Br[t];let T,K;if(b)return t==="$attrs"&&pt(e.attrs,"get",""),b(e);if((T=h.__cssModules)&&(T=T[t]))return T;if(r!==Be&&Ke(r,t))return c[t]=4,r[t];if(K=p.config.globalProperties,Ke(K,t))return K[t]},set({_:e},t,r){const{data:s,setupState:l,ctx:u}=e;return Vs(l,t)?(l[t]=r,!0):s!==Be&&Ke(s,t)?(s[t]=r,!0):Ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:l,propsOptions:u}},c){let h;return!!r[c]||e!==Be&&Ke(e,c)||Vs(t,c)||(h=u[0])&&Ke(h,c)||Ke(s,c)||Ke(Br,c)||Ke(l.config.globalProperties,c)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ke(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function vl(e){return pe(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let io=!0;function Hc(e){const t=Ba(e),r=e.proxy,s=e.ctx;io=!1,t.beforeCreate&&bl(t.beforeCreate,e,"bc");const{data:l,computed:u,methods:c,watch:h,provide:p,inject:E,created:b,beforeMount:T,mounted:K,beforeUpdate:U,updated:ne,activated:H,deactivated:F,beforeDestroy:L,beforeUnmount:$,destroyed:Q,unmounted:Z,render:ye,renderTracked:Ie,renderTriggered:Ee,errorCaptured:tt,serverPrefetch:me,expose:xe,inheritAttrs:Ne,components:ce,directives:je,filters:rt}=t;if(E&&Uc(E,s,null),c)for(const qe in c){const Ce=c[qe];be(Ce)&&(s[qe]=Ce.bind(r))}if(l){const qe=l.call(r,r);Fe(qe)&&(e.data=Xi(qe))}if(io=!0,u)for(const qe in u){const Ce=u[qe],kt=be(Ce)?Ce.bind(r,r):be(Ce.get)?Ce.get.bind(r,r):Qt,Et=!be(Ce)&&be(Ce.set)?Ce.set.bind(r):Qt,Ft=Yr({get:kt,set:Et});Object.defineProperty(s,qe,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:Dt=>Ft.value=Dt})}if(h)for(const qe in h)$a(h[qe],s,r,qe);if(p){const qe=be(p)?p.call(r):p;Reflect.ownKeys(qe).forEach(Ce=>{Xc(Ce,qe[Ce])})}b&&bl(b,e,"c");function ze(qe,Ce){pe(Ce)?Ce.forEach(kt=>qe(kt.bind(r))):Ce&&qe(Ce.bind(r))}if(ze(Kc,T),ze(Po,K),ze(Rc,U),ze(Lc,ne),ze(jc,H),ze(Mc,F),ze(Nc,tt),ze(Fc,Ie),ze(Bc,Ee),ze(Ra,$),ze(Ao,Z),ze($c,me),pe(xe))if(xe.length){const qe=e.exposed||(e.exposed={});xe.forEach(Ce=>{Object.defineProperty(qe,Ce,{get:()=>r[Ce],set:kt=>r[Ce]=kt})})}else e.exposed||(e.exposed={});ye&&e.render===Qt&&(e.render=ye),Ne!=null&&(e.inheritAttrs=Ne),ce&&(e.components=ce),je&&(e.directives=je),me&&Da(e)}function Uc(e,t,r=Qt){pe(e)&&(e=so(e));for(const s in e){const l=e[s];let u;Fe(l)?"default"in l?u=ji(l.from||s,l.default,!0):u=ji(l.from||s):u=ji(l),yt(u)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:c=>u.value=c}):t[s]=u}}function bl(e,t,r){Ht(pe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function $a(e,t,r,s){let l=s.includes(".")?Qa(r,s):()=>r[s];if(Qe(e)){const u=t[e];be(u)&&Wn(l,u)}else if(be(e))Wn(l,e.bind(r));else if(Fe(e))if(pe(e))e.forEach(u=>$a(u,t,r,s));else{const u=be(e.handler)?e.handler.bind(r):t[e.handler];be(u)&&Wn(l,u,e)}}function Ba(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:l,optionsCache:u,config:{optionMergeStrategies:c}}=e.appContext,h=u.get(t);let p;return h?p=h:!l.length&&!r&&!s?p=t:(p={},l.length&&l.forEach(E=>qi(p,E,c,!0)),qi(p,t,c)),Fe(t)&&u.set(t,p),p}function qi(e,t,r,s=!1){const{mixins:l,extends:u}=t;u&&qi(e,u,r,!0),l&&l.forEach(c=>qi(e,c,r,!0));for(const c in t)if(!(s&&c==="expose")){const h=Wc[c]||r&&r[c];e[c]=h?h(e[c],t[c]):t[c]}return e}const Wc={data:wl,props:_l,emits:_l,methods:Dr,computed:Dr,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:Dr,directives:Dr,watch:zc,provide:wl,inject:Gc};function wl(e,t){return t?e?function(){return at(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function Gc(e,t){return Dr(so(e),so(t))}function so(e){if(pe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function _t(e,t){return e?[...new Set([].concat(e,t))]:t}function Dr(e,t){return e?at(Object.create(null),e,t):t}function _l(e,t){return e?pe(e)&&pe(t)?[...new Set([...e,...t])]:at(Object.create(null),vl(e),vl(t??{})):t}function zc(e,t){if(!e)return t;if(!t)return e;const r=at(Object.create(null),e);for(const s in t)r[s]=_t(e[s],t[s]);return r}function Fa(){return{app:null,config:{isNativeTag:Lu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yc=0;function Jc(e,t){return function(s,l=null){be(s)||(s=at({},s)),l!=null&&!Fe(l)&&(l=null);const u=Fa(),c=new WeakSet,h=[];let p=!1;const E=u.app={_uid:Yc++,_component:s,_props:l,_container:null,_context:u,_instance:null,version:jf,get config(){return u.config},set config(b){},use(b,...T){return c.has(b)||(b&&be(b.install)?(c.add(b),b.install(E,...T)):be(b)&&(c.add(b),b(E,...T))),E},mixin(b){return u.mixins.includes(b)||u.mixins.push(b),E},component(b,T){return T?(u.components[b]=T,E):u.components[b]},directive(b,T){return T?(u.directives[b]=T,E):u.directives[b]},mount(b,T,K){if(!p){const U=E._ceVNode||We(s,l);return U.appContext=u,K===!0?K="svg":K===!1&&(K=void 0),e(U,b,K),p=!0,E._container=b,b.__vue_app__=E,rs(U.component)}},onUnmount(b){h.push(b)},unmount(){p&&(Ht(h,E._instance,16),e(null,E._container),delete E._container.__vue_app__)},provide(b,T){return u.provides[b]=T,E},runWithContext(b){const T=gr;gr=E;try{return b()}finally{gr=T}}};return E}}let gr=null;function Xc(e,t){if(mt){let r=mt.provides;const s=mt.parent&&mt.parent.provides;s===r&&(r=mt.provides=Object.create(s)),r[e]=t}}function ji(e,t,r=!1){const s=mt||ct;if(s||gr){let l=gr?gr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return r&&be(t)?t.call(s&&s.proxy):t}}const Na={},Va=()=>Object.create(Na),qa=e=>Object.getPrototypeOf(e)===Na;function Qc(e,t,r,s=!1){const l={},u=Va();e.propsDefaults=Object.create(null),Ha(e,t,l,u);for(const c in e.propsOptions[0])c in l||(l[c]=void 0);r?e.props=s?l:mc(l):e.type.props?e.props=l:e.props=u,e.attrs=u}function Zc(e,t,r,s){const{props:l,attrs:u,vnode:{patchFlag:c}}=e,h=De(l),[p]=e.propsOptions;let E=!1;if((s||c>0)&&!(c&16)){if(c&8){const b=e.vnode.dynamicProps;for(let T=0;T<b.length;T++){let K=b[T];if(ts(e.emitsOptions,K))continue;const U=t[K];if(p)if(Ke(u,K))U!==u[K]&&(u[K]=U,E=!0);else{const ne=Cn(K);l[ne]=oo(p,h,ne,U,e,!1)}else U!==u[K]&&(u[K]=U,E=!0)}}}else{Ha(e,t,l,u)&&(E=!0);let b;for(const T in h)(!t||!Ke(t,T)&&((b=An(T))===T||!Ke(t,b)))&&(p?r&&(r[T]!==void 0||r[b]!==void 0)&&(l[T]=oo(p,h,T,void 0,e,!0)):delete l[T]);if(u!==h)for(const T in u)(!t||!Ke(t,T))&&(delete u[T],E=!0)}E&&on(e.attrs,"set","")}function Ha(e,t,r,s){const[l,u]=e.propsOptions;let c=!1,h;if(t)for(let p in t){if(Kr(p))continue;const E=t[p];let b;l&&Ke(l,b=Cn(p))?!u||!u.includes(b)?r[b]=E:(h||(h={}))[b]=E:ts(e.emitsOptions,p)||(!(p in s)||E!==s[p])&&(s[p]=E,c=!0)}if(u){const p=De(r),E=h||Be;for(let b=0;b<u.length;b++){const T=u[b];r[T]=oo(l,p,T,E[T],e,!Ke(E,T))}}return c}function oo(e,t,r,s,l,u){const c=e[r];if(c!=null){const h=Ke(c,"default");if(h&&s===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&be(p)){const{propsDefaults:E}=l;if(r in E)s=E[r];else{const b=ti(l);s=E[r]=p.call(null,t),b()}}else s=p;l.ce&&l.ce._setProp(r,s)}c[0]&&(u&&!h?s=!1:c[1]&&(s===""||s===An(r))&&(s=!0))}return s}const ef=new WeakMap;function Ua(e,t,r=!1){const s=r?ef:t.propsCache,l=s.get(e);if(l)return l;const u=e.props,c={},h=[];let p=!1;if(!be(e)){const b=T=>{p=!0;const[K,U]=Ua(T,t,!0);at(c,K),U&&h.push(...U)};!r&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!u&&!p)return Fe(e)&&s.set(e,cr),cr;if(pe(u))for(let b=0;b<u.length;b++){const T=Cn(u[b]);xl(T)&&(c[T]=Be)}else if(u)for(const b in u){const T=Cn(b);if(xl(T)){const K=u[b],U=c[T]=pe(K)||be(K)?{type:K}:at({},K),ne=U.type;let H=!1,F=!0;if(pe(ne))for(let L=0;L<ne.length;++L){const $=ne[L],Q=be($)&&$.name;if(Q==="Boolean"){H=!0;break}else Q==="String"&&(F=!1)}else H=be(ne)&&ne.name==="Boolean";U[0]=H,U[1]=F,(H||Ke(U,"default"))&&h.push(T)}}const E=[c,h];return Fe(e)&&s.set(e,E),E}function xl(e){return e[0]!=="$"&&!Kr(e)}const Io=e=>e[0]==="_"||e==="$stable",jo=e=>pe(e)?e.map(Xt):[Xt(e)],tf=(e,t,r)=>{if(t._n)return t;const s=to((...l)=>jo(t(...l)),r);return s._c=!1,s},Wa=(e,t,r)=>{const s=e._ctx;for(const l in e){if(Io(l))continue;const u=e[l];if(be(u))t[l]=tf(l,u,s);else if(u!=null){const c=jo(u);t[l]=()=>c}}},Ga=(e,t)=>{const r=jo(t);e.slots.default=()=>r},za=(e,t,r)=>{for(const s in t)(r||!Io(s))&&(e[s]=t[s])},nf=(e,t,r)=>{const s=e.slots=Va();if(e.vnode.shapeFlag&32){const l=t.__;l&&Js(s,"__",l,!0);const u=t._;u?(za(s,t,r),r&&Js(s,"_",u,!0)):Wa(t,s)}else t&&Ga(e,t)},rf=(e,t,r)=>{const{vnode:s,slots:l}=e;let u=!0,c=Be;if(s.shapeFlag&32){const h=t._;h?r&&h===1?u=!1:za(l,t,r):(u=!t.$stable,Wa(t,l)),c=t}else t&&(Ga(e,t),c={default:1});if(u)for(const h in l)!Io(h)&&c[h]==null&&delete l[h]},It=vf;function sf(e){return of(e)}function of(e,t){const r=Yi();r.__VUE__=!0;const{insert:s,remove:l,patchProp:u,createElement:c,createText:h,createComment:p,setText:E,setElementText:b,parentNode:T,nextSibling:K,setScopeId:U=Qt,insertStaticContent:ne}=e,H=(m,x,D,V=null,N=null,q=null,oe=void 0,te=null,J=!!x.dynamicChildren)=>{if(m===x)return;m&&!qn(m,x)&&(V=dn(m),Dt(m,N,q,!0),m=null),x.patchFlag===-2&&(J=!1,x.dynamicChildren=null);const{type:B,ref:he,shapeFlag:re}=x;switch(B){case ns:F(m,x,D,V);break;case gt:L(m,x,D,V);break;case Hs:m==null&&$(x,D,V,oe);break;case nt:ce(m,x,D,V,N,q,oe,te,J);break;default:re&1?ye(m,x,D,V,N,q,oe,te,J):re&6?je(m,x,D,V,N,q,oe,te,J):(re&64||re&128)&&B.process(m,x,D,V,N,q,oe,te,J,hn)}he!=null&&N?$r(he,m&&m.ref,q,x||m,!x):he==null&&m&&m.ref!=null&&$r(m.ref,null,q,m,!0)},F=(m,x,D,V)=>{if(m==null)s(x.el=h(x.children),D,V);else{const N=x.el=m.el;x.children!==m.children&&E(N,x.children)}},L=(m,x,D,V)=>{m==null?s(x.el=p(x.children||""),D,V):x.el=m.el},$=(m,x,D,V)=>{[m.el,m.anchor]=ne(m.children,x,D,V,m.el,m.anchor)},Q=({el:m,anchor:x},D,V)=>{let N;for(;m&&m!==x;)N=K(m),s(m,D,V),m=N;s(x,D,V)},Z=({el:m,anchor:x})=>{let D;for(;m&&m!==x;)D=K(m),l(m),m=D;l(x)},ye=(m,x,D,V,N,q,oe,te,J)=>{x.type==="svg"?oe="svg":x.type==="math"&&(oe="mathml"),m==null?Ie(x,D,V,N,q,oe,te,J):me(m,x,N,q,oe,te,J)},Ie=(m,x,D,V,N,q,oe,te)=>{let J,B;const{props:he,shapeFlag:re,transition:fe,dirs:ge}=m;if(J=m.el=c(m.type,q,he&&he.is,he),re&8?b(J,m.children):re&16&&tt(m.children,J,null,V,N,qs(m,q),oe,te),ge&&$n(m,null,V,"created"),Ee(J,m,m.scopeId,oe,V),he){for(const Te in he)Te!=="value"&&!Kr(Te)&&u(J,Te,null,he[Te],q,V);"value"in he&&u(J,"value",null,he.value,q),(B=he.onVnodeBeforeMount)&&zt(B,V,m)}ge&&$n(m,null,V,"beforeMount");const we=lf(N,fe);we&&fe.beforeEnter(J),s(J,x,D),((B=he&&he.onVnodeMounted)||we||ge)&&It(()=>{B&&zt(B,V,m),we&&fe.enter(J),ge&&$n(m,null,V,"mounted")},N)},Ee=(m,x,D,V,N)=>{if(D&&U(m,D),V)for(let q=0;q<V.length;q++)U(m,V[q]);if(N){let q=N.subTree;if(x===q||eu(q.type)&&(q.ssContent===x||q.ssFallback===x)){const oe=N.vnode;Ee(m,oe,oe.scopeId,oe.slotScopeIds,N.parent)}}},tt=(m,x,D,V,N,q,oe,te,J=0)=>{for(let B=J;B<m.length;B++){const he=m[B]=te?On(m[B]):Xt(m[B]);H(null,he,x,D,V,N,q,oe,te)}},me=(m,x,D,V,N,q,oe)=>{const te=x.el=m.el;let{patchFlag:J,dynamicChildren:B,dirs:he}=x;J|=m.patchFlag&16;const re=m.props||Be,fe=x.props||Be;let ge;if(D&&Bn(D,!1),(ge=fe.onVnodeBeforeUpdate)&&zt(ge,D,x,m),he&&$n(x,m,D,"beforeUpdate"),D&&Bn(D,!0),(re.innerHTML&&fe.innerHTML==null||re.textContent&&fe.textContent==null)&&b(te,""),B?xe(m.dynamicChildren,B,te,D,V,qs(x,N),q):oe||Ce(m,x,te,null,D,V,qs(x,N),q,!1),J>0){if(J&16)Ne(te,re,fe,D,N);else if(J&2&&re.class!==fe.class&&u(te,"class",null,fe.class,N),J&4&&u(te,"style",re.style,fe.style,N),J&8){const we=x.dynamicProps;for(let Te=0;Te<we.length;Te++){const Ae=we[Te],Ze=re[Ae],it=fe[Ae];(it!==Ze||Ae==="value")&&u(te,Ae,Ze,it,N,D)}}J&1&&m.children!==x.children&&b(te,x.children)}else!oe&&B==null&&Ne(te,re,fe,D,N);((ge=fe.onVnodeUpdated)||he)&&It(()=>{ge&&zt(ge,D,x,m),he&&$n(x,m,D,"updated")},V)},xe=(m,x,D,V,N,q,oe)=>{for(let te=0;te<x.length;te++){const J=m[te],B=x[te],he=J.el&&(J.type===nt||!qn(J,B)||J.shapeFlag&198)?T(J.el):D;H(J,B,he,null,V,N,q,oe,!0)}},Ne=(m,x,D,V,N)=>{if(x!==D){if(x!==Be)for(const q in x)!Kr(q)&&!(q in D)&&u(m,q,x[q],null,N,V);for(const q in D){if(Kr(q))continue;const oe=D[q],te=x[q];oe!==te&&q!=="value"&&u(m,q,te,oe,N,V)}"value"in D&&u(m,"value",x.value,D.value,N)}},ce=(m,x,D,V,N,q,oe,te,J)=>{const B=x.el=m?m.el:h(""),he=x.anchor=m?m.anchor:h("");let{patchFlag:re,dynamicChildren:fe,slotScopeIds:ge}=x;ge&&(te=te?te.concat(ge):ge),m==null?(s(B,D,V),s(he,D,V),tt(x.children||[],D,he,N,q,oe,te,J)):re>0&&re&64&&fe&&m.dynamicChildren?(xe(m.dynamicChildren,fe,D,N,q,oe,te),(x.key!=null||N&&x===N.subTree)&&Ya(m,x,!0)):Ce(m,x,D,he,N,q,oe,te,J)},je=(m,x,D,V,N,q,oe,te,J)=>{x.slotScopeIds=te,m==null?x.shapeFlag&512?N.ctx.activate(x,D,V,oe,J):rt(x,D,V,N,q,oe,J):Tt(m,x,J)},rt=(m,x,D,V,N,q,oe)=>{const te=m.component=kf(m,V,N);if(Zi(m)&&(te.ctx.renderer=hn),Cf(te,!1,oe),te.asyncDep){if(N&&N.registerDep(te,ze,oe),!m.el){const J=te.subTree=We(gt);L(null,J,x,D)}}else ze(te,m,x,D,N,q,oe)},Tt=(m,x,D)=>{const V=x.component=m.component;if(mf(m,x,D))if(V.asyncDep&&!V.asyncResolved){qe(V,x,D);return}else V.next=x,V.update();else x.el=m.el,V.vnode=x},ze=(m,x,D,V,N,q,oe)=>{const te=()=>{if(m.isMounted){let{next:re,bu:fe,u:ge,parent:we,vnode:Te}=m;{const st=Ja(m);if(st){re&&(re.el=Te.el,qe(m,re,oe)),st.asyncDep.then(()=>{m.isUnmounted||te()});return}}let Ae=re,Ze;Bn(m,!1),re?(re.el=Te.el,qe(m,re,oe)):re=Te,fe&&Ii(fe),(Ze=re.props&&re.props.onVnodeBeforeUpdate)&&zt(Ze,we,re,Te),Bn(m,!0);const it=Ol(m),vt=m.subTree;m.subTree=it,H(vt,it,T(vt.el),dn(vt),m,N,q),re.el=it.el,Ae===null&&yf(m,it.el),ge&&It(ge,N),(Ze=re.props&&re.props.onVnodeUpdated)&&It(()=>zt(Ze,we,re,Te),N)}else{let re;const{el:fe,props:ge}=x,{bm:we,m:Te,parent:Ae,root:Ze,type:it}=m,vt=pr(x);Bn(m,!1),we&&Ii(we),!vt&&(re=ge&&ge.onVnodeBeforeMount)&&zt(re,Ae,x),Bn(m,!0);{Ze.ce&&Ze.ce._def.shadowRoot!==!1&&Ze.ce._injectChildStyle(it);const st=m.subTree=Ol(m);H(null,st,D,V,m,N,q),x.el=st.el}if(Te&&It(Te,N),!vt&&(re=ge&&ge.onVnodeMounted)){const st=x;It(()=>zt(re,Ae,st),N)}(x.shapeFlag&256||Ae&&pr(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&m.a&&It(m.a,N),m.isMounted=!0,x=D=V=null}};m.scope.on();const J=m.effect=new la(te);m.scope.off();const B=m.update=J.run.bind(J),he=m.job=J.runIfDirty.bind(J);he.i=m,he.id=m.uid,J.scheduler=()=>To(he),Bn(m,!0),B()},qe=(m,x,D)=>{x.component=m;const V=m.vnode.props;m.vnode=x,m.next=null,Zc(m,x.props,V,D),rf(m,x.children,D),un(),ml(m),cn()},Ce=(m,x,D,V,N,q,oe,te,J=!1)=>{const B=m&&m.children,he=m?m.shapeFlag:0,re=x.children,{patchFlag:fe,shapeFlag:ge}=x;if(fe>0){if(fe&128){Et(B,re,D,V,N,q,oe,te,J);return}else if(fe&256){kt(B,re,D,V,N,q,oe,te,J);return}}ge&8?(he&16&&Kt(B,N,q),re!==B&&b(D,re)):he&16?ge&16?Et(B,re,D,V,N,q,oe,te,J):Kt(B,N,q,!0):(he&8&&b(D,""),ge&16&&tt(re,D,V,N,q,oe,te,J))},kt=(m,x,D,V,N,q,oe,te,J)=>{m=m||cr,x=x||cr;const B=m.length,he=x.length,re=Math.min(B,he);let fe;for(fe=0;fe<re;fe++){const ge=x[fe]=J?On(x[fe]):Xt(x[fe]);H(m[fe],ge,D,null,N,q,oe,te,J)}B>he?Kt(m,N,q,!0,!1,re):tt(x,D,V,N,q,oe,te,J,re)},Et=(m,x,D,V,N,q,oe,te,J)=>{let B=0;const he=x.length;let re=m.length-1,fe=he-1;for(;B<=re&&B<=fe;){const ge=m[B],we=x[B]=J?On(x[B]):Xt(x[B]);if(qn(ge,we))H(ge,we,D,null,N,q,oe,te,J);else break;B++}for(;B<=re&&B<=fe;){const ge=m[re],we=x[fe]=J?On(x[fe]):Xt(x[fe]);if(qn(ge,we))H(ge,we,D,null,N,q,oe,te,J);else break;re--,fe--}if(B>re){if(B<=fe){const ge=fe+1,we=ge<he?x[ge].el:V;for(;B<=fe;)H(null,x[B]=J?On(x[B]):Xt(x[B]),D,we,N,q,oe,te,J),B++}}else if(B>fe)for(;B<=re;)Dt(m[B],N,q,!0),B++;else{const ge=B,we=B,Te=new Map;for(B=we;B<=fe;B++){const Ye=x[B]=J?On(x[B]):Xt(x[B]);Ye.key!=null&&Te.set(Ye.key,B)}let Ae,Ze=0;const it=fe-we+1;let vt=!1,st=0;const Ut=new Array(it);for(B=0;B<it;B++)Ut[B]=0;for(B=ge;B<=re;B++){const Ye=m[B];if(Ze>=it){Dt(Ye,N,q,!0);continue}let ae;if(Ye.key!=null)ae=Te.get(Ye.key);else for(Ae=we;Ae<=fe;Ae++)if(Ut[Ae-we]===0&&qn(Ye,x[Ae])){ae=Ae;break}ae===void 0?Dt(Ye,N,q,!0):(Ut[ae-we]=B+1,ae>=st?st=ae:vt=!0,H(Ye,x[ae],D,null,N,q,oe,te,J),Ze++)}const Qn=vt?af(Ut):cr;for(Ae=Qn.length-1,B=it-1;B>=0;B--){const Ye=we+B,ae=x[Ye],pn=Ye+1<he?x[Ye+1].el:V;Ut[B]===0?H(null,ae,D,pn,N,q,oe,te,J):vt&&(Ae<0||B!==Qn[Ae]?Ft(ae,D,pn,2):Ae--)}}},Ft=(m,x,D,V,N=null)=>{const{el:q,type:oe,transition:te,children:J,shapeFlag:B}=m;if(B&6){Ft(m.component.subTree,x,D,V);return}if(B&128){m.suspense.move(x,D,V);return}if(B&64){oe.move(m,x,D,hn);return}if(oe===nt){s(q,x,D);for(let re=0;re<J.length;re++)Ft(J[re],x,D,V);s(m.anchor,x,D);return}if(oe===Hs){Q(m,x,D);return}if(V!==2&&B&1&&te)if(V===0)te.beforeEnter(q),s(q,x,D),It(()=>te.enter(q),N);else{const{leave:re,delayLeave:fe,afterLeave:ge}=te,we=()=>{m.ctx.isUnmounted?l(q):s(q,x,D)},Te=()=>{re(q,()=>{we(),ge&&ge()})};fe?fe(q,we,Te):Te()}else s(q,x,D)},Dt=(m,x,D,V=!1,N=!1)=>{const{type:q,props:oe,ref:te,children:J,dynamicChildren:B,shapeFlag:he,patchFlag:re,dirs:fe,cacheIndex:ge}=m;if(re===-2&&(N=!1),te!=null&&(un(),$r(te,null,D,m,!0),cn()),ge!=null&&(x.renderCache[ge]=void 0),he&256){x.ctx.deactivate(m);return}const we=he&1&&fe,Te=!pr(m);let Ae;if(Te&&(Ae=oe&&oe.onVnodeBeforeUnmount)&&zt(Ae,x,m),he&6)Xn(m.component,D,V);else{if(he&128){m.suspense.unmount(D,V);return}we&&$n(m,null,x,"beforeUnmount"),he&64?m.type.remove(m,x,D,hn,V):B&&!B.hasOnce&&(q!==nt||re>0&&re&64)?Kt(B,x,D,!1,!0):(q===nt&&re&384||!N&&he&16)&&Kt(J,x,D),V&&Zt(m)}(Te&&(Ae=oe&&oe.onVnodeUnmounted)||we)&&It(()=>{Ae&&zt(Ae,x,m),we&&$n(m,null,x,"unmounted")},D)},Zt=m=>{const{type:x,el:D,anchor:V,transition:N}=m;if(x===nt){ni(D,V);return}if(x===Hs){Z(m);return}const q=()=>{l(D),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(m.shapeFlag&1&&N&&!N.persisted){const{leave:oe,delayLeave:te}=N,J=()=>oe(D,q);te?te(m.el,q,J):J()}else q()},ni=(m,x)=>{let D;for(;m!==x;)D=K(m),l(m),m=D;l(x)},Xn=(m,x,D)=>{const{bum:V,scope:N,job:q,subTree:oe,um:te,m:J,a:B,parent:he,slots:{__:re}}=m;Sl(J),Sl(B),V&&Ii(V),he&&pe(re)&&re.forEach(fe=>{he.renderCache[fe]=void 0}),N.stop(),q&&(q.flags|=8,Dt(oe,m,x,D)),te&&It(te,x),It(()=>{m.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},Kt=(m,x,D,V=!1,N=!1,q=0)=>{for(let oe=q;oe<m.length;oe++)Dt(m[oe],x,D,V,N)},dn=m=>{if(m.shapeFlag&6)return dn(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const x=K(m.anchor||m.el),D=x&&x[Tc];return D?K(D):x};let br=!1;const de=(m,x,D)=>{m==null?x._vnode&&Dt(x._vnode,null,null,!0):H(x._vnode||null,m,x,null,null,null,D),x._vnode=m,br||(br=!0,ml(),ka(),br=!1)},hn={p:H,um:Dt,m:Ft,r:Zt,mt:rt,mc:tt,pc:Ce,pbc:xe,n:dn,o:e};return{render:de,hydrate:void 0,createApp:Jc(de)}}function qs({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Bn({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function lf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ya(e,t,r=!1){const s=e.children,l=t.children;if(pe(s)&&pe(l))for(let u=0;u<s.length;u++){const c=s[u];let h=l[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=l[u]=On(l[u]),h.el=c.el),!r&&h.patchFlag!==-2&&Ya(c,h)),h.type===ns&&(h.el=c.el),h.type===gt&&!h.el&&(h.el=c.el)}}function af(e){const t=e.slice(),r=[0];let s,l,u,c,h;const p=e.length;for(s=0;s<p;s++){const E=e[s];if(E!==0){if(l=r[r.length-1],e[l]<E){t[s]=l,r.push(s);continue}for(u=0,c=r.length-1;u<c;)h=u+c>>1,e[r[h]]<E?u=h+1:c=h;E<e[r[u]]&&(u>0&&(t[s]=r[u-1]),r[u]=s)}}for(u=r.length,c=r[u-1];u-- >0;)r[u]=c,c=t[c];return r}function Ja(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ja(t)}function Sl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const uf=Symbol.for("v-scx"),cf=()=>ji(uf);function Wn(e,t,r){return Xa(e,t,r)}function Xa(e,t,r=Be){const{immediate:s,deep:l,flush:u,once:c}=r,h=at({},r),p=t&&s||!t&&u!=="post";let E;if(zr){if(u==="sync"){const U=cf();E=U.__watcherHandles||(U.__watcherHandles=[])}else if(!p){const U=()=>{};return U.stop=Qt,U.resume=Qt,U.pause=Qt,U}}const b=mt;h.call=(U,ne,H)=>Ht(U,b,ne,H);let T=!1;u==="post"?h.scheduler=U=>{It(U,b&&b.suspense)}:u!=="sync"&&(T=!0,h.scheduler=(U,ne)=>{ne?U():To(U)}),h.augmentJob=U=>{t&&(U.flags|=4),T&&(U.flags|=2,b&&(U.id=b.uid,U.i=b))};const K=Oc(e,t,h);return zr&&(E?E.push(K):p&&K()),K}function ff(e,t,r){const s=this.proxy,l=Qe(e)?e.includes(".")?Qa(s,e):()=>s[e]:e.bind(s,s);let u;be(t)?u=t:(u=t.handler,r=t);const c=ti(this),h=Xa(l,u.bind(s),r);return c(),h}function Qa(e,t){const r=t.split(".");return()=>{let s=e;for(let l=0;l<r.length&&s;l++)s=s[r[l]];return s}}const df=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Cn(t)}Modifiers`]||e[`${An(t)}Modifiers`];function hf(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||Be;let l=r;const u=t.startsWith("update:"),c=u&&df(s,t.slice(7));c&&(c.trim&&(l=r.map(b=>Qe(b)?b.trim():b)),c.number&&(l=r.map(Li)));let h,p=s[h=Rs(t)]||s[h=Rs(Cn(t))];!p&&u&&(p=s[h=Rs(An(t))]),p&&Ht(p,e,6,l);const E=s[h+"Once"];if(E){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Ht(E,e,6,l)}}function Za(e,t,r=!1){const s=t.emitsCache,l=s.get(e);if(l!==void 0)return l;const u=e.emits;let c={},h=!1;if(!be(e)){const p=E=>{const b=Za(E,t,!0);b&&(h=!0,at(c,b))};!r&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!u&&!h?(Fe(e)&&s.set(e,null),null):(pe(u)?u.forEach(p=>c[p]=null):at(c,u),Fe(e)&&s.set(e,c),c)}function ts(e,t){return!e||!Gi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ke(e,t[0].toLowerCase()+t.slice(1))||Ke(e,An(t))||Ke(e,t))}function Ol(e){const{type:t,vnode:r,proxy:s,withProxy:l,propsOptions:[u],slots:c,attrs:h,emit:p,render:E,renderCache:b,props:T,data:K,setupState:U,ctx:ne,inheritAttrs:H}=e,F=Ni(e);let L,$;try{if(r.shapeFlag&4){const Z=l||s,ye=Z;L=Xt(E.call(ye,Z,b,T,U,K,ne)),$=h}else{const Z=t;L=Xt(Z.length>1?Z(T,{attrs:h,slots:c,emit:p}):Z(T,null)),$=t.props?h:pf(h)}}catch(Z){Fr.length=0,Qi(Z,e,1),L=We(gt)}let Q=L;if($&&H!==!1){const Z=Object.keys($),{shapeFlag:ye}=Q;Z.length&&ye&7&&(u&&Z.some(mo)&&($=gf($,u)),Q=Pn(Q,$,!1,!0))}return r.dirs&&(Q=Pn(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(r.dirs):r.dirs),r.transition&&Ur(Q,r.transition),L=Q,Ni(F),L}const pf=e=>{let t;for(const r in e)(r==="class"||r==="style"||Gi(r))&&((t||(t={}))[r]=e[r]);return t},gf=(e,t)=>{const r={};for(const s in e)(!mo(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function mf(e,t,r){const{props:s,children:l,component:u}=e,{props:c,children:h,patchFlag:p}=t,E=u.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&p>=0){if(p&1024)return!0;if(p&16)return s?kl(s,c,E):!!c;if(p&8){const b=t.dynamicProps;for(let T=0;T<b.length;T++){const K=b[T];if(c[K]!==s[K]&&!ts(E,K))return!0}}}else return(l||h)&&(!h||!h.$stable)?!0:s===c?!1:s?c?kl(s,c,E):!0:!!c;return!1}function kl(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let l=0;l<s.length;l++){const u=s[l];if(t[u]!==e[u]&&!ts(r,u))return!0}return!1}function yf({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const eu=e=>e.__isSuspense;function vf(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):Cc(e)}const nt=Symbol.for("v-fgt"),ns=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),Hs=Symbol.for("v-stc"),Fr=[];let jt=null;function Pe(e=!1){Fr.push(jt=e?null:[])}function bf(){Fr.pop(),jt=Fr[Fr.length-1]||null}let Wr=1;function El(e,t=!1){Wr+=e,e<0&&jt&&t&&(jt.hasOnce=!0)}function tu(e){return e.dynamicChildren=Wr>0?jt||cr:null,bf(),Wr>0&&jt&&jt.push(e),e}function Le(e,t,r,s,l,u){return tu(z(e,t,r,s,l,u,!0))}function Gn(e,t,r,s,l){return tu(We(e,t,r,s,l,!0))}function Gr(e){return e?e.__v_isVNode===!0:!1}function qn(e,t){return e.type===t.type&&e.key===t.key}const nu=({key:e})=>e??null,Mi=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||yt(e)||be(e)?{i:ct,r:e,k:t,f:!!r}:e:null);function z(e,t=null,r=null,s=0,l=null,u=e===nt?0:1,c=!1,h=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nu(t),ref:t&&Mi(t),scopeId:Ca,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:s,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:ct};return h?(Mo(p,r),u&128&&e.normalize(p)):r&&(p.shapeFlag|=Qe(r)?8:16),Wr>0&&!c&&jt&&(p.patchFlag>0||u&6)&&p.patchFlag!==32&&jt.push(p),p}const We=wf;function wf(e,t=null,r=null,s=0,l=null,u=!1){if((!e||e===Vc)&&(e=gt),Gr(e)){const h=Pn(e,t,!0);return r&&Mo(h,r),Wr>0&&!u&&jt&&(h.shapeFlag&6?jt[jt.indexOf(e)]=h:jt.push(h)),h.patchFlag=-2,h}if(If(e)&&(e=e.__vccOpts),t){t=_f(t);let{class:h,style:p}=t;h&&!Qe(h)&&(t.class=Mt(h)),Fe(p)&&(Eo(p)&&!pe(p)&&(p=at({},p)),t.style=$t(p))}const c=Qe(e)?1:eu(e)?128:Ta(e)?64:Fe(e)?4:be(e)?2:0;return z(e,t,r,s,l,c,u,!0)}function _f(e){return e?Eo(e)||qa(e)?at({},e):e:null}function Pn(e,t,r=!1,s=!1){const{props:l,ref:u,patchFlag:c,children:h,transition:p}=e,E=t?xf(l||{},t):l,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:E,key:E&&nu(E),ref:t&&t.ref?r&&u?pe(u)?u.concat(Mi(t)):[u,Mi(t)]:Mi(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pn(e.ssContent),ssFallback:e.ssFallback&&Pn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&s&&Ur(b,p.clone(b)),b}function Ge(e=" ",t=0){return We(ns,null,e,t)}function xt(e="",t=!1){return t?(Pe(),Gn(gt,null,e)):We(gt,null,e)}function Xt(e){return e==null||typeof e=="boolean"?We(gt):pe(e)?We(nt,null,e.slice()):Gr(e)?On(e):We(ns,null,String(e))}function On(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pn(e)}function Mo(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(pe(t))r=16;else if(typeof t=="object")if(s&65){const l=t.default;l&&(l._c&&(l._d=!1),Mo(e,l()),l._c&&(l._d=!0));return}else{r=32;const l=t._;!l&&!qa(t)?t._ctx=ct:l===3&&ct&&(ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:ct},r=32):(t=String(t),s&64?(r=16,t=[Ge(t)]):r=8);e.children=t,e.shapeFlag|=r}function xf(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const l in s)if(l==="class")t.class!==s.class&&(t.class=Mt([t.class,s.class]));else if(l==="style")t.style=$t([t.style,s.style]);else if(Gi(l)){const u=t[l],c=s[l];c&&u!==c&&!(pe(u)&&u.includes(c))&&(t[l]=u?[].concat(u,c):c)}else l!==""&&(t[l]=s[l])}return t}function zt(e,t,r,s=null){Ht(e,t,7,[r,s])}const Sf=Fa();let Of=0;function kf(e,t,r){const s=e.type,l=(t?t.appContext:e.appContext)||Sf,u={uid:Of++,vnode:e,type:s,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ju(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ua(s,l),emitsOptions:Za(s,l),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:s.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=hf.bind(null,u),e.ce&&e.ce(u),u}let mt=null;const Ef=()=>mt||ct;let Hi,lo;{const e=Yi(),t=(r,s)=>{let l;return(l=e[r])||(l=e[r]=[]),l.push(s),u=>{l.length>1?l.forEach(c=>c(u)):l[0](u)}};Hi=t("__VUE_INSTANCE_SETTERS__",r=>mt=r),lo=t("__VUE_SSR_SETTERS__",r=>zr=r)}const ti=e=>{const t=mt;return Hi(e),e.scope.on(),()=>{e.scope.off(),Hi(t)}},Cl=()=>{mt&&mt.scope.off(),Hi(null)};function ru(e){return e.vnode.shapeFlag&4}let zr=!1;function Cf(e,t=!1,r=!1){t&&lo(t);const{props:s,children:l}=e.vnode,u=ru(e);Qc(e,s,u,t),nf(e,l,r||t);const c=u?Tf(e,t):void 0;return t&&lo(!1),c}function Tf(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,qc);const{setup:s}=r;if(s){un();const l=e.setupContext=s.length>1?Af(e):null,u=ti(e),c=ei(s,e,0,[e.props,l]),h=ea(c);if(cn(),u(),(h||e.sp)&&!pr(e)&&Da(e),h){if(c.then(Cl,Cl),t)return c.then(p=>{Tl(e,p)}).catch(p=>{Qi(p,e,0)});e.asyncDep=c}else Tl(e,c)}else iu(e)}function Tl(e,t,r){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=xa(t)),iu(e)}function iu(e,t,r){const s=e.type;e.render||(e.render=s.render||Qt);{const l=ti(e);un();try{Hc(e)}finally{cn(),l()}}}const Pf={get(e,t){return pt(e,"get",""),e[t]}};function Af(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Pf),slots:e.slots,emit:e.emit,expose:t}}function rs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(xa(yc(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Br)return Br[r](e)},has(t,r){return r in t||r in Br}})):e.proxy}function If(e){return be(e)&&"__vccOpts"in e}const Yr=(e,t)=>xc(e,t,zr);function ar(e,t,r){const s=arguments.length;return s===2?Fe(t)&&!pe(t)?Gr(t)?We(e,null,[t]):We(e,t):We(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Gr(r)&&(r=[r]),We(e,t,r))}const jf="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ao;const Pl=typeof window<"u"&&window.trustedTypes;if(Pl)try{ao=Pl.createPolicy("vue",{createHTML:e=>e})}catch{}const su=ao?e=>ao.createHTML(e):e=>e,Mf="http://www.w3.org/2000/svg",Df="http://www.w3.org/1998/Math/MathML",sn=typeof document<"u"?document:null,Al=sn&&sn.createElement("template"),Kf={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const l=t==="svg"?sn.createElementNS(Mf,e):t==="mathml"?sn.createElementNS(Df,e):r?sn.createElement(e,{is:r}):sn.createElement(e);return e==="select"&&s&&s.multiple!=null&&l.setAttribute("multiple",s.multiple),l},createText:e=>sn.createTextNode(e),createComment:e=>sn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>sn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,l,u){const c=r?r.previousSibling:t.lastChild;if(l&&(l===u||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),r),!(l===u||!(l=l.nextSibling)););else{Al.innerHTML=su(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const h=Al.content;if(s==="svg"||s==="mathml"){const p=h.firstChild;for(;p.firstChild;)h.appendChild(p.firstChild);h.removeChild(p)}t.insertBefore(h,r)}return[c?c.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},_n="transition",Ir="animation",Jr=Symbol("_vtc"),ou={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rf=at({},Pa,ou),Lf=e=>(e.displayName="Transition",e.props=Rf,e),Il=Lf((e,{slots:t})=>ar(Ic,$f(e),t)),Fn=(e,t=[])=>{pe(e)?e.forEach(r=>r(...t)):e&&e(...t)},jl=e=>e?pe(e)?e.some(t=>t.length>1):e.length>1:!1;function $f(e){const t={};for(const ce in e)ce in ou||(t[ce]=e[ce]);if(e.css===!1)return t;const{name:r="v",type:s,duration:l,enterFromClass:u=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:h=`${r}-enter-to`,appearFromClass:p=u,appearActiveClass:E=c,appearToClass:b=h,leaveFromClass:T=`${r}-leave-from`,leaveActiveClass:K=`${r}-leave-active`,leaveToClass:U=`${r}-leave-to`}=e,ne=Bf(l),H=ne&&ne[0],F=ne&&ne[1],{onBeforeEnter:L,onEnter:$,onEnterCancelled:Q,onLeave:Z,onLeaveCancelled:ye,onBeforeAppear:Ie=L,onAppear:Ee=$,onAppearCancelled:tt=Q}=t,me=(ce,je,rt,Tt)=>{ce._enterCancelled=Tt,Nn(ce,je?b:h),Nn(ce,je?E:c),rt&&rt()},xe=(ce,je)=>{ce._isLeaving=!1,Nn(ce,T),Nn(ce,U),Nn(ce,K),je&&je()},Ne=ce=>(je,rt)=>{const Tt=ce?Ee:$,ze=()=>me(je,ce,rt);Fn(Tt,[je,ze]),Ml(()=>{Nn(je,ce?p:u),rn(je,ce?b:h),jl(Tt)||Dl(je,s,H,ze)})};return at(t,{onBeforeEnter(ce){Fn(L,[ce]),rn(ce,u),rn(ce,c)},onBeforeAppear(ce){Fn(Ie,[ce]),rn(ce,p),rn(ce,E)},onEnter:Ne(!1),onAppear:Ne(!0),onLeave(ce,je){ce._isLeaving=!0;const rt=()=>xe(ce,je);rn(ce,T),ce._enterCancelled?(rn(ce,K),Ll()):(Ll(),rn(ce,K)),Ml(()=>{ce._isLeaving&&(Nn(ce,T),rn(ce,U),jl(Z)||Dl(ce,s,F,rt))}),Fn(Z,[ce,rt])},onEnterCancelled(ce){me(ce,!1,void 0,!0),Fn(Q,[ce])},onAppearCancelled(ce){me(ce,!0,void 0,!0),Fn(tt,[ce])},onLeaveCancelled(ce){xe(ce),Fn(ye,[ce])}})}function Bf(e){if(e==null)return null;if(Fe(e))return[Us(e.enter),Us(e.leave)];{const t=Us(e);return[t,t]}}function Us(e){return Vu(e)}function rn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Jr]||(e[Jr]=new Set)).add(t)}function Nn(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const r=e[Jr];r&&(r.delete(t),r.size||(e[Jr]=void 0))}function Ml(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ff=0;function Dl(e,t,r,s){const l=e._endId=++Ff,u=()=>{l===e._endId&&s()};if(r!=null)return setTimeout(u,r);const{type:c,timeout:h,propCount:p}=Nf(e,t);if(!c)return s();const E=c+"end";let b=0;const T=()=>{e.removeEventListener(E,K),u()},K=U=>{U.target===e&&++b>=p&&T()};setTimeout(()=>{b<p&&T()},h+1),e.addEventListener(E,K)}function Nf(e,t){const r=window.getComputedStyle(e),s=ne=>(r[ne]||"").split(", "),l=s(`${_n}Delay`),u=s(`${_n}Duration`),c=Kl(l,u),h=s(`${Ir}Delay`),p=s(`${Ir}Duration`),E=Kl(h,p);let b=null,T=0,K=0;t===_n?c>0&&(b=_n,T=c,K=u.length):t===Ir?E>0&&(b=Ir,T=E,K=p.length):(T=Math.max(c,E),b=T>0?c>E?_n:Ir:null,K=b?b===_n?u.length:p.length:0);const U=b===_n&&/\b(transform|all)(,|$)/.test(s(`${_n}Property`).toString());return{type:b,timeout:T,propCount:K,hasTransform:U}}function Kl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,s)=>Rl(r)+Rl(e[s])))}function Rl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ll(){return document.body.offsetHeight}function Vf(e,t,r){const s=e[Jr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Ui=Symbol("_vod"),lu=Symbol("_vsh"),jr={beforeMount(e,{value:t},{transition:r}){e[Ui]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Mr(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:s}){!t!=!r&&(s?t?(s.beforeEnter(e),Mr(e,!0),s.enter(e)):s.leave(e,()=>{Mr(e,!1)}):Mr(e,t))},beforeUnmount(e,{value:t}){Mr(e,t)}};function Mr(e,t){e.style.display=t?e[Ui]:"none",e[lu]=!t}const qf=Symbol(""),Hf=/(^|;)\s*display\s*:/;function Uf(e,t,r){const s=e.style,l=Qe(r);let u=!1;if(r&&!l){if(t)if(Qe(t))for(const c of t.split(";")){const h=c.slice(0,c.indexOf(":")).trim();r[h]==null&&Di(s,h,"")}else for(const c in t)r[c]==null&&Di(s,c,"");for(const c in r)c==="display"&&(u=!0),Di(s,c,r[c])}else if(l){if(t!==r){const c=s[qf];c&&(r+=";"+c),s.cssText=r,u=Hf.test(r)}}else t&&e.removeAttribute("style");Ui in e&&(e[Ui]=u?s.display:"",e[lu]&&(s.display="none"))}const $l=/\s*!important$/;function Di(e,t,r){if(pe(r))r.forEach(s=>Di(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=Wf(e,t);$l.test(r)?e.setProperty(An(s),r.replace($l,""),"important"):e[s]=r}}const Bl=["Webkit","Moz","ms"],Ws={};function Wf(e,t){const r=Ws[t];if(r)return r;let s=Cn(t);if(s!=="filter"&&s in e)return Ws[t]=s;s=ra(s);for(let l=0;l<Bl.length;l++){const u=Bl[l]+s;if(u in e)return Ws[t]=u}return t}const Fl="http://www.w3.org/1999/xlink";function Nl(e,t,r,s,l,u=zu(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Fl,t.slice(6,t.length)):e.setAttributeNS(Fl,t,r):r==null||u&&!ia(r)?e.removeAttribute(t):e.setAttribute(t,u?"":qt(r)?String(r):r)}function Vl(e,t,r,s,l){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?su(r):r);return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const h=u==="OPTION"?e.getAttribute("value")||"":e.value,p=r==null?e.type==="checkbox"?"on":"":String(r);(h!==p||!("_value"in e))&&(e.value=p),r==null&&e.removeAttribute(t),e._value=r;return}let c=!1;if(r===""||r==null){const h=typeof e[t];h==="boolean"?r=ia(r):r==null&&h==="string"?(r="",c=!0):h==="number"&&(r=0,c=!0)}try{e[t]=r}catch{}c&&e.removeAttribute(l||t)}function kn(e,t,r,s){e.addEventListener(t,r,s)}function Gf(e,t,r,s){e.removeEventListener(t,r,s)}const ql=Symbol("_vei");function zf(e,t,r,s,l=null){const u=e[ql]||(e[ql]={}),c=u[t];if(s&&c)c.value=s;else{const[h,p]=Yf(t);if(s){const E=u[t]=Qf(s,l);kn(e,h,E,p)}else c&&(Gf(e,h,c,p),u[t]=void 0)}}const Hl=/(?:Once|Passive|Capture)$/;function Yf(e){let t;if(Hl.test(e)){t={};let s;for(;s=e.match(Hl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):An(e.slice(2)),t]}let Gs=0;const Jf=Promise.resolve(),Xf=()=>Gs||(Jf.then(()=>Gs=0),Gs=Date.now());function Qf(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Ht(Zf(s,r.value),t,5,[s])};return r.value=e,r.attached=Xf(),r}function Zf(e,t){if(pe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>l=>!l._stopped&&s&&s(l))}else return t}const Ul=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ed=(e,t,r,s,l,u)=>{const c=l==="svg";t==="class"?Vf(e,s,c):t==="style"?Uf(e,r,s):Gi(t)?mo(t)||zf(e,t,r,s,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):td(e,t,s,c))?(Vl(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Nl(e,t,s,c,u,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Qe(s))?Vl(e,Cn(t),s,u,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Nl(e,t,s,c))};function td(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ul(t)&&be(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Ul(t)&&Qe(r)?!1:t in e}const mr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?r=>Ii(t,r):t};function nd(e){e.target.composing=!0}function Wl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const an=Symbol("_assign"),uo={created(e,{modifiers:{lazy:t,trim:r,number:s}},l){e[an]=mr(l);const u=s||l.props&&l.props.type==="number";kn(e,t?"change":"input",c=>{if(c.target.composing)return;let h=e.value;r&&(h=h.trim()),u&&(h=Li(h)),e[an](h)}),r&&kn(e,"change",()=>{e.value=e.value.trim()}),t||(kn(e,"compositionstart",nd),kn(e,"compositionend",Wl),kn(e,"change",Wl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:l,number:u}},c){if(e[an]=mr(c),e.composing)return;const h=(u||e.type==="number")&&!/^0\d/.test(e.value)?Li(e.value):e.value,p=t??"";h!==p&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||l&&e.value.trim()===p)||(e.value=p))}},au={deep:!0,created(e,t,r){e[an]=mr(r),kn(e,"change",()=>{const s=e._modelValue,l=Xr(e),u=e.checked,c=e[an];if(pe(s)){const h=bo(s,l),p=h!==-1;if(u&&!p)c(s.concat(l));else if(!u&&p){const E=[...s];E.splice(h,1),c(E)}}else if(yr(s)){const h=new Set(s);u?h.add(l):h.delete(l),c(h)}else c(uu(e,u))})},mounted:Gl,beforeUpdate(e,t,r){e[an]=mr(r),Gl(e,t,r)}};function Gl(e,{value:t,oldValue:r},s){e._modelValue=t;let l;if(pe(t))l=bo(t,s.props.value)>-1;else if(yr(t))l=t.has(s.props.value);else{if(t===r)return;l=Zr(t,uu(e,!0))}e.checked!==l&&(e.checked=l)}const rd={deep:!0,created(e,{value:t,modifiers:{number:r}},s){const l=yr(t);kn(e,"change",()=>{const u=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>r?Li(Xr(c)):Xr(c));e[an](e.multiple?l?new Set(u):u:u[0]),e._assigning=!0,Co(()=>{e._assigning=!1})}),e[an]=mr(s)},mounted(e,{value:t}){zl(e,t)},beforeUpdate(e,t,r){e[an]=mr(r)},updated(e,{value:t}){e._assigning||zl(e,t)}};function zl(e,t){const r=e.multiple,s=pe(t);if(!(r&&!s&&!yr(t))){for(let l=0,u=e.options.length;l<u;l++){const c=e.options[l],h=Xr(c);if(r)if(s){const p=typeof h;p==="string"||p==="number"?c.selected=t.some(E=>String(E)===String(h)):c.selected=bo(t,h)>-1}else c.selected=t.has(h);else if(Zr(Xr(c),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Xr(e){return"_value"in e?e._value:e.value}function uu(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const id=["ctrl","shift","alt","meta"],sd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>id.some(r=>e[`${r}Key`]&&!t.includes(r))},et=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=(l,...u)=>{for(let c=0;c<t.length;c++){const h=sd[t[c]];if(h&&h(l,t))return}return e(l,...u)})},od={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Yt=(e,t)=>{const r=e._withKeys||(e._withKeys={}),s=t.join(".");return r[s]||(r[s]=l=>{if(!("key"in l))return;const u=An(l.key);if(t.some(c=>c===u||od[c]===u))return e(l)})},ld=at({patchProp:ed},Kf);let Yl;function ad(){return Yl||(Yl=sf(ld))}const ud=(...e)=>{const t=ad().createApp(...e),{mount:r}=t;return t.mount=s=>{const l=fd(s);if(!l)return;const u=t._component;!be(u)&&!u.render&&!u.template&&(u.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const c=r(l,!1,cd(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),c},t};function cd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function fd(e){return Qe(e)?document.querySelector(e):e}function zs(e){return e===0?!1:Array.isArray(e)&&e.length===0?!0:!e}function dd(e){return(...t)=>!e(...t)}function hd(e,t){return e===void 0&&(e="undefined"),e===null&&(e="null"),e===!1&&(e="false"),e.toString().toLowerCase().indexOf(t.trim())!==-1}function pd(e){return e.filter(t=>!t.$isLabel)}function Ys(e,t){return r=>r.reduce((s,l)=>l[e]&&l[e].length?(s.push({$groupLabel:l[t],$isLabel:!0}),s.concat(l[e])):s,[])}const Jl=(...e)=>t=>e.reduce((r,s)=>s(r),t);var gd={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(e,t){return zs(e)?"":t?e[t]:e}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1},filteringSortFunc:{type:Function,default:null}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const e=this.search||"",t=e.toLowerCase().trim();let r=this.options.concat();return this.internalSearch?r=this.groupValues?this.filterAndFlat(r,t,this.label):this.filterOptions(r,t,this.label,this.customLabel):r=this.groupValues?Ys(this.groupValues,this.groupLabel)(r):r,r=this.hideSelected?r.filter(dd(this.isSelected)):r,this.taggable&&t.length&&!this.isExistingOption(t)&&(this.tagPosition==="bottom"?r.push({isTag:!0,label:e}):r.unshift({isTag:!0,label:e})),r.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(e=>e[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(t=>this.customLabel(t,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(e,t,r){return Jl(this.filterGroups(t,r,this.groupValues,this.groupLabel,this.customLabel),Ys(this.groupValues,this.groupLabel))(e)},flatAndStrip(e){return Jl(Ys(this.groupValues,this.groupLabel),pd)(e)},updateSearch(e){this.search=e},isExistingOption(e){return this.options?this.optionKeys.indexOf(e)>-1:!1},isSelected(e){const t=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(t)>-1},isOptionDisabled(e){return!!e.$isDisabled},getOptionLabel(e){if(zs(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;const t=this.customLabel(e,this.label);return zs(t)?"":t},select(e,t){if(e.$isLabel&&this.groupSelect){this.selectGroup(e);return}if(!(this.blockKeys.indexOf(t)!==-1||this.disabled||e.$isDisabled||e.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(t==="Tab"&&!this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e)){t!=="Tab"&&this.removeElement(e);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([e])):this.$emit("update:modelValue",e),this.$emit("select",e,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(e){const t=this.options.find(r=>r[this.groupLabel]===e.$groupLabel);if(t){if(this.wholeGroupSelected(t)){this.$emit("remove",t[this.groupValues],this.id);const r=this.trackBy?t[this.groupValues].map(l=>l[this.trackBy]):t[this.groupValues],s=this.internalValue.filter(l=>r.indexOf(this.trackBy?l[this.trackBy]:l)===-1);this.$emit("update:modelValue",s)}else{const r=t[this.groupValues].filter(s=>!(this.isOptionDisabled(s)||this.isSelected(s)));this.max&&r.splice(this.max-this.internalValue.length),this.$emit("select",r,this.id),this.$emit("update:modelValue",this.internalValue.concat(r))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(e){return e[this.groupValues].every(t=>this.isSelected(t)||this.isOptionDisabled(t))},wholeGroupDisabled(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement(e,t=!0){if(this.disabled||e.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const r=typeof e=="object"?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.multiple){const s=this.internalValue.slice(0,r).concat(this.internalValue.slice(r+1));this.$emit("update:modelValue",s)}else this.$emit("update:modelValue",null);this.$emit("remove",e,this.id),this.closeOnSelect&&t&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const e=this.$el.getBoundingClientRect().top,t=window.innerHeight-this.$el.getBoundingClientRect().bottom;t>this.maxHeight||t>e||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(t-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))},filterOptions(e,t,r,s){return t?e.filter(l=>hd(s(l,r),t)).sort((l,u)=>typeof this.filteringSortFunc=="function"?this.filteringSortFunc(l,u):s(l,r).length-s(u,r).length):e},filterGroups(e,t,r,s,l){return u=>u.map(c=>{if(!c[r])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const h=this.filterOptions(c[r],e,t,l);return h.length?{[s]:c[s],[r]:h}:[]})}}},md={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(e,t){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(t)}},groupHighlight(e,t){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":t.$isLabel}];const r=this.options.find(s=>s[this.groupLabel]===t.$groupLabel);return r&&!this.wholeGroupDisabled(r)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(r)}]:"multiselect__option--disabled"},addPointerElement({key:e}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],e),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(e){this.pointer=e,this.pointerDirty=!0}}},Do={name:"vue-multiselect",mixins:[gd,md],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:e=>`and ${e} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0},required:{type:Boolean,default:!1}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)},isRequired(){return this.required===!1?!1:this.internalValue.length<=0}}};const yd=["tabindex","aria-expanded","aria-owns","aria-activedescendant"],vd={ref:"tags",class:"multiselect__tags"},bd={class:"multiselect__tags-wrap"},wd=["textContent"],_d=["onKeypress","onMousedown"],xd=["textContent"],Sd={class:"multiselect__spinner"},Od=["name","id","spellcheck","placeholder","required","value","disabled","tabindex","aria-label","aria-controls"],kd=["id","aria-multiselectable"],Ed={key:0},Cd={class:"multiselect__option"},Td=["aria-selected","id","role"],Pd=["onClick","onMouseenter","data-select","data-selected","data-deselect"],Ad=["data-select","data-deselect","onMouseenter","onMousedown"],Id={class:"multiselect__option"},jd={class:"multiselect__option"};function Md(e,t,r,s,l,u){return Pe(),Le("div",{tabindex:e.searchable?-1:r.tabindex,class:Mt([{"multiselect--active":e.isOpen,"multiselect--disabled":r.disabled,"multiselect--above":u.isAbove,"multiselect--has-options-group":u.hasOptionGroup},"multiselect"]),onFocus:t[14]||(t[14]=c=>e.activate()),onBlur:t[15]||(t[15]=c=>e.searchable?!1:e.deactivate()),onKeydown:[t[16]||(t[16]=Yt(et(c=>e.pointerForward(),["self","prevent"]),["down"])),t[17]||(t[17]=Yt(et(c=>e.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:t[18]||(t[18]=Yt(et(c=>e.addPointerElement(c),["stop","self"]),["enter","tab"])),onKeyup:t[19]||(t[19]=Yt(c=>e.deactivate(),["esc"])),role:"combobox","aria-expanded":e.isOpen,"aria-owns":"listbox-"+e.id,"aria-activedescendant":e.isOpen&&e.pointer!==null?e.id+"-"+e.pointer:null},[wt(e.$slots,"caret",{toggle:e.toggle},()=>[z("div",{onMousedown:t[0]||(t[0]=et(c=>e.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),wt(e.$slots,"clear",{search:e.search}),z("div",vd,[wt(e.$slots,"selection",{search:e.search,remove:e.removeElement,values:u.visibleValues,isOpen:e.isOpen},()=>[Nt(z("div",bd,[(Pe(!0),Le(nt,null,Vi(u.visibleValues,(c,h)=>wt(e.$slots,"tag",{option:c,search:e.search,remove:e.removeElement},()=>[(Pe(),Le("span",{class:"multiselect__tag",key:h,onMousedown:t[1]||(t[1]=et(()=>{},["prevent"]))},[z("span",{textContent:St(e.getOptionLabel(c))},null,8,wd),z("i",{tabindex:"1",onKeypress:Yt(et(p=>e.removeElement(c),["prevent"]),["enter"]),onMousedown:et(p=>e.removeElement(c),["prevent"]),class:"multiselect__tag-icon"},null,40,_d)],32))])),256))],512),[[jr,u.visibleValues.length>0]]),e.internalValue&&e.internalValue.length>r.limit?wt(e.$slots,"limit",{key:0},()=>[z("strong",{class:"multiselect__strong",textContent:St(r.limitText(e.internalValue.length-r.limit))},null,8,xd)]):xt("v-if",!0)]),We(Il,{name:"multiselect__loading"},{default:to(()=>[wt(e.$slots,"loading",{},()=>[Nt(z("div",Sd,null,512),[[jr,r.loading]])])]),_:3}),e.searchable?(Pe(),Le("input",{key:0,ref:"search",name:r.name,id:e.id,type:"text",autocomplete:"off",spellcheck:r.spellcheck,placeholder:e.placeholder,required:u.isRequired,style:$t(u.inputStyle),value:e.search,disabled:r.disabled,tabindex:r.tabindex,"aria-label":r.name+"-searchbox",onInput:t[2]||(t[2]=c=>e.updateSearch(c.target.value)),onFocus:t[3]||(t[3]=et(c=>e.activate(),["prevent"])),onBlur:t[4]||(t[4]=et(c=>e.deactivate(),["prevent"])),onKeyup:t[5]||(t[5]=Yt(c=>e.deactivate(),["esc"])),onKeydown:[t[6]||(t[6]=Yt(et(c=>e.pointerForward(),["prevent"]),["down"])),t[7]||(t[7]=Yt(et(c=>e.pointerBackward(),["prevent"]),["up"])),t[9]||(t[9]=Yt(et(c=>e.removeLastElement(),["stop"]),["delete"]))],onKeypress:t[8]||(t[8]=Yt(et(c=>e.addPointerElement(c),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+e.id},null,44,Od)):xt("v-if",!0),u.isSingleLabelVisible?(Pe(),Le("span",{key:1,class:"multiselect__single",onMousedown:t[10]||(t[10]=et((...c)=>e.toggle&&e.toggle(...c),["prevent"]))},[wt(e.$slots,"singleLabel",{option:u.singleValue},()=>[Ge(St(e.currentOptionLabel),1)])],32)):xt("v-if",!0),u.isPlaceholderVisible?(Pe(),Le("span",{key:2,class:"multiselect__placeholder",onMousedown:t[11]||(t[11]=et((...c)=>e.toggle&&e.toggle(...c),["prevent"]))},[wt(e.$slots,"placeholder",{},()=>[Ge(St(e.placeholder),1)])],32)):xt("v-if",!0)],512),We(Il,{name:"multiselect",persisted:""},{default:to(()=>[Nt(z("div",{class:"multiselect__content-wrapper",onFocus:t[12]||(t[12]=(...c)=>e.activate&&e.activate(...c)),tabindex:"-1",onMousedown:t[13]||(t[13]=et(()=>{},["prevent"])),style:$t({maxHeight:e.optimizedHeight+"px"}),ref:"list"},[z("ul",{class:"multiselect__content",style:$t(u.contentStyle),role:"listbox",id:"listbox-"+e.id,"aria-multiselectable":e.multiple},[wt(e.$slots,"beforeList"),e.multiple&&e.max===e.internalValue.length?(Pe(),Le("li",Ed,[z("span",Cd,[wt(e.$slots,"maxElements",{},()=>[Ge("Maximum of "+St(e.max)+" options selected. First remove a selected option to select another.",1)])])])):xt("v-if",!0),!e.max||e.internalValue.length<e.max?(Pe(!0),Le(nt,{key:1},Vi(e.filteredOptions,(c,h)=>(Pe(),Le("li",{class:"multiselect__element",key:h,"aria-selected":e.isSelected(c),id:e.id+"-"+h,role:c&&(c.$isLabel||c.$isDisabled)?null:"option"},[c&&(c.$isLabel||c.$isDisabled)?xt("v-if",!0):(Pe(),Le("span",{key:0,class:Mt([e.optionHighlight(h,c),"multiselect__option"]),onClick:et(p=>e.select(c),["stop"]),onMouseenter:et(p=>e.pointerSet(h),["self"]),"data-select":c&&c.isTag?e.tagPlaceholder:u.selectLabelText,"data-selected":u.selectedLabelText,"data-deselect":u.deselectLabelText},[wt(e.$slots,"option",{option:c,search:e.search,index:h},()=>[z("span",null,St(e.getOptionLabel(c)),1)])],42,Pd)),c&&(c.$isLabel||c.$isDisabled)?(Pe(),Le("span",{key:1,"data-select":e.groupSelect&&u.selectGroupLabelText,"data-deselect":e.groupSelect&&u.deselectGroupLabelText,class:Mt([e.groupHighlight(h,c),"multiselect__option"]),onMouseenter:et(p=>e.groupSelect&&e.pointerSet(h),["self"]),onMousedown:et(p=>e.selectGroup(c),["prevent"])},[wt(e.$slots,"option",{option:c,search:e.search,index:h},()=>[z("span",null,St(e.getOptionLabel(c)),1)])],42,Ad)):xt("v-if",!0)],8,Td))),128)):xt("v-if",!0),Nt(z("li",null,[z("span",Id,[wt(e.$slots,"noResult",{search:e.search},()=>[t[20]||(t[20]=Ge("No elements found. Consider changing the search query."))])])],512),[[jr,r.showNoResults&&e.filteredOptions.length===0&&e.search&&!r.loading]]),Nt(z("li",null,[z("span",jd,[wt(e.$slots,"noOptions",{},()=>[t[21]||(t[21]=Ge("List is empty."))])])],512),[[jr,r.showNoOptions&&(e.options.length===0||u.hasOptionGroup===!0&&e.filteredOptions.length===0)&&!e.search&&!r.loading]]),wt(e.$slots,"afterList")],12,kd)],36),[[jr,e.isOpen]])]),_:3})],42,yd)}Do.render=Md;var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ki={exports:{}},Rd=Ki.exports,Xl;function Ld(){return Xl||(Xl=1,function(e,t){(function(r,s){e.exports=s()})(Rd,function(){var r=function(n,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(o[f]=a[f])})(n,i)},s=function(){return(s=Object.assign||function(n){for(var i,o=1,a=arguments.length;o<a;o++)for(var f in i=arguments[o])Object.prototype.hasOwnProperty.call(i,f)&&(n[f]=i[f]);return n}).apply(this,arguments)};function l(n,i,o){for(var a,f=0,d=i.length;f<d;f++)!a&&f in i||((a=a||Array.prototype.slice.call(i,0,f))[f]=i[f]);return n.concat(a||Array.prototype.slice.call(i))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Dd,c=Object.keys,h=Array.isArray;function p(n,i){return typeof i!="object"||c(i).forEach(function(o){n[o]=i[o]}),n}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var E=Object.getPrototypeOf,b={}.hasOwnProperty;function T(n,i){return b.call(n,i)}function K(n,i){typeof i=="function"&&(i=i(E(n))),(typeof Reflect>"u"?c:Reflect.ownKeys)(i).forEach(function(o){ne(n,o,i[o])})}var U=Object.defineProperty;function ne(n,i,o,a){U(n,i,p(o&&T(o,"get")&&typeof o.get=="function"?{get:o.get,set:o.set,configurable:!0}:{value:o,configurable:!0,writable:!0},a))}function H(n){return{from:function(i){return n.prototype=Object.create(i.prototype),ne(n.prototype,"constructor",n),{extend:K.bind(null,n.prototype)}}}}var F=Object.getOwnPropertyDescriptor,L=[].slice;function $(n,i,o){return L.call(n,i,o)}function Q(n,i){return i(n)}function Z(n){if(!n)throw new Error("Assertion Failed")}function ye(n){u.setImmediate?setImmediate(n):setTimeout(n,0)}function Ie(n,i){if(typeof i=="string"&&T(n,i))return n[i];if(!i)return n;if(typeof i!="string"){for(var o=[],a=0,f=i.length;a<f;++a){var d=Ie(n,i[a]);o.push(d)}return o}var g=i.indexOf(".");if(g!==-1){var y=n[i.substr(0,g)];return y==null?void 0:Ie(y,i.substr(g+1))}}function Ee(n,i,o){if(n&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof i!="string"&&"length"in i){Z(typeof o!="string"&&"length"in o);for(var a=0,f=i.length;a<f;++a)Ee(n,i[a],o[a])}else{var d,g,y=i.indexOf(".");y!==-1?(d=i.substr(0,y),(g=i.substr(y+1))===""?o===void 0?h(n)&&!isNaN(parseInt(d))?n.splice(d,1):delete n[d]:n[d]=o:Ee(y=!(y=n[d])||!T(n,d)?n[d]={}:y,g,o)):o===void 0?h(n)&&!isNaN(parseInt(i))?n.splice(i,1):delete n[i]:n[i]=o}}function tt(n){var i,o={};for(i in n)T(n,i)&&(o[i]=n[i]);return o}var me=[].concat;function xe(n){return me.apply([],n)}var we="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(xe([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(i){return i+n+"Array"})}))).filter(function(n){return u[n]}),Ne=new Set(we.map(function(n){return u[n]})),ce=null;function je(n){return ce=new WeakMap,n=function i(o){if(!o||typeof o!="object")return o;var a=ce.get(o);if(a)return a;if(h(o)){a=[],ce.set(o,a);for(var f=0,d=o.length;f<d;++f)a.push(i(o[f]))}else if(Ne.has(o.constructor))a=o;else{var g,y=E(o);for(g in a=y===Object.prototype?{}:Object.create(y),ce.set(o,a),o)T(o,g)&&(a[g]=i(o[g]))}return a}(n),ce=null,n}var rt={}.toString;function Tt(n){return rt.call(n).slice(8,-1)}var ze=typeof Symbol<"u"?Symbol.iterator:"@@iterator",qe=typeof ze=="symbol"?function(n){var i;return n!=null&&(i=n[ze])&&i.apply(n)}:function(){return null};function Ce(n,i){return i=n.indexOf(i),0<=i&&n.splice(i,1),0<=i}var kt={};function Et(n){var i,o,a,f;if(arguments.length===1){if(h(n))return n.slice();if(this===kt&&typeof n=="string")return[n];if(f=qe(n)){for(o=[];!(a=f.next()).done;)o.push(a.value);return o}if(n==null)return[n];if(typeof(i=n.length)!="number")return[n];for(o=new Array(i);i--;)o[i]=n[i];return o}for(i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return o}var Ft=typeof Symbol<"u"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ge=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Rt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ge),Dt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Zt(n,i){this.name=n,this.message=i}function ni(n,i){return n+". Errors: "+Object.keys(i).map(function(o){return i[o].toString()}).filter(function(o,a,f){return f.indexOf(o)===a}).join(`
`)}function Xn(n,i,o,a){this.failures=i,this.failedKeys=a,this.successCount=o,this.message=ni(n,i)}function Kt(n,i){this.name="BulkError",this.failures=Object.keys(i).map(function(o){return i[o]}),this.failuresByPos=i,this.message=ni(n,this.failures)}H(Zt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),H(Xn).from(Zt),H(Kt).from(Zt);var dn=Rt.reduce(function(n,i){return n[i]=i+"Error",n},{}),br=Zt,de=Rt.reduce(function(n,i){var o=i+"Error";function a(f,d){this.name=o,f?typeof f=="string"?(this.message="".concat(f).concat(d?`
 `+d:""),this.inner=d||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=Dt[i]||o,this.inner=null)}return H(a).from(br),n[i]=a,n},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var hn=ge.reduce(function(n,i){return n[i+"Error"]=de[i],n},{}),wr=Rt.reduce(function(n,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(n[i+"Error"]=de[i]),n},{});function m(){}function x(n){return n}function D(n,i){return n==null||n===x?i:function(o){return i(n(o))}}function V(n,i){return function(){n.apply(this,arguments),i.apply(this,arguments)}}function N(n,i){return n===m?i:function(){var o=n.apply(this,arguments);o!==void 0&&(arguments[0]=o);var a=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var d=i.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?V(a,this.onsuccess):a),f&&(this.onerror=this.onerror?V(f,this.onerror):f),d!==void 0?d:o}}function q(n,i){return n===m?i:function(){n.apply(this,arguments);var o=this.onsuccess,a=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?V(o,this.onsuccess):o),a&&(this.onerror=this.onerror?V(a,this.onerror):a)}}function oe(n,i){return n===m?i:function(o){var a=n.apply(this,arguments);p(o,a);var f=this.onsuccess,d=this.onerror;return this.onsuccess=null,this.onerror=null,o=i.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?V(f,this.onsuccess):f),d&&(this.onerror=this.onerror?V(d,this.onerror):d),a===void 0?o===void 0?void 0:o:p(a,o)}}function te(n,i){return n===m?i:function(){return i.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function J(n,i){return n===m?i:function(){var o=n.apply(this,arguments);if(o&&typeof o.then=="function"){for(var a=this,f=arguments.length,d=new Array(f);f--;)d[f]=arguments[f];return o.then(function(){return i.apply(a,d)})}return i.apply(this,arguments)}}wr.ModifyError=Xn,wr.DexieError=Zt,wr.BulkError=Kt;var B=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function he(n){B=n}var re={},fe=100,we=typeof Promise>"u"?[]:function(){var n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,E(n),n];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,E(i),n]}(),ge=we[0],Rt=we[1],we=we[2],Rt=Rt&&Rt.then,Te=ge&&ge.constructor,Ae=!!we,Ze=function(n,i){pn.push([n,i]),vt&&(queueMicrotask(hu),vt=!1)},it=!0,vt=!0,st=[],Ut=[],Qn=x,Ye={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:m,pgp:!1,env:{},finalize:m},ae=Ye,pn=[],In=0,ri=[];function le(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=ae;if(typeof n!="function"){if(n!==re)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ss(this,this._value))}this._state=null,this._value=null,++i.ref,function o(a,f){try{f(function(d){if(a._state===null){if(d===a)throw new TypeError("A promise cannot be resolved with itself.");var g=a._lib&&Zn();d&&typeof d.then=="function"?o(a,function(y,w){d instanceof le?d._then(y,w):d.then(y,w)}):(a._state=!0,a._value=d,Ro(a)),g&&er()}},ss.bind(null,a))}catch(d){ss(a,d)}}(this,n)}var is={get:function(){var n=ae,i=li;function o(a,f){var d=this,g=!n.global&&(n!==ae||i!==li),y=g&&!mn(),w=new le(function(S,C){os(d,new Ko($o(a,n,g,y),$o(f,n,g,y),S,C,n))});return this._consoleTask&&(w._consoleTask=this._consoleTask),w}return o.prototype=re,o},set:function(n){ne(this,"then",n&&n.prototype===re?is:{get:function(){return n},set:is.set})}};function Ko(n,i,o,a,f){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof i=="function"?i:null,this.resolve=o,this.reject=a,this.psd=f}function ss(n,i){var o,a;Ut.push(i),n._state===null&&(o=n._lib&&Zn(),i=Qn(i),n._state=!1,n._value=i,a=n,st.some(function(f){return f._value===a._value})||st.push(a),Ro(n),o&&er())}function Ro(n){var i=n._listeners;n._listeners=[];for(var o=0,a=i.length;o<a;++o)os(n,i[o]);var f=n._PSD;--f.ref||f.finalize(),In===0&&(++In,Ze(function(){--In==0&&ls()},[]))}function os(n,i){if(n._state!==null){var o=n._state?i.onFulfilled:i.onRejected;if(o===null)return(n._state?i.resolve:i.reject)(n._value);++i.psd.ref,++In,Ze(du,[o,n,i])}else n._listeners.push(i)}function du(n,i,o){try{var a,f=i._value;!i._state&&Ut.length&&(Ut=[]),a=B&&i._consoleTask?i._consoleTask.run(function(){return n(f)}):n(f),i._state||Ut.indexOf(f)!==-1||function(d){for(var g=st.length;g;)if(st[--g]._value===d._value)return st.splice(g,1)}(i),o.resolve(a)}catch(d){o.reject(d)}finally{--In==0&&ls(),--o.psd.ref||o.psd.finalize()}}function hu(){jn(Ye,function(){Zn()&&er()})}function Zn(){var n=it;return vt=it=!1,n}function er(){var n,i,o;do for(;0<pn.length;)for(n=pn,pn=[],o=n.length,i=0;i<o;++i){var a=n[i];a[0].apply(null,a[1])}while(0<pn.length);vt=it=!0}function ls(){var n=st;st=[],n.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});for(var i=ri.slice(0),o=i.length;o;)i[--o]()}function ii(n){return new le(re,!1,n)}function Ue(n,i){var o=ae;return function(){var a=Zn(),f=ae;try{return yn(o,!0),n.apply(this,arguments)}catch(d){i&&i(d)}finally{yn(f,!1),a&&er()}}}K(le.prototype,{then:is,_then:function(n,i){os(this,new Ko(null,null,n,i,ae))},catch:function(n){if(arguments.length===1)return this.then(null,n);var i=n,o=arguments[1];return typeof i=="function"?this.then(null,function(a){return(a instanceof i?o:ii)(a)}):this.then(null,function(a){return(a&&a.name===i?o:ii)(a)})},finally:function(n){return this.then(function(i){return le.resolve(n()).then(function(){return i})},function(i){return le.resolve(n()).then(function(){return ii(i)})})},timeout:function(n,i){var o=this;return n<1/0?new le(function(a,f){var d=setTimeout(function(){return f(new de.Timeout(i))},n);o.then(a,f).finally(clearTimeout.bind(null,d))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ne(le.prototype,Symbol.toStringTag,"Dexie.Promise"),Ye.env=Lo(),K(le,{all:function(){var n=Et.apply(null,arguments).map(ai);return new le(function(i,o){n.length===0&&i([]);var a=n.length;n.forEach(function(f,d){return le.resolve(f).then(function(g){n[d]=g,--a||i(n)},o)})})},resolve:function(n){return n instanceof le?n:n&&typeof n.then=="function"?new le(function(i,o){n.then(i,o)}):new le(re,!0,n)},reject:ii,race:function(){var n=Et.apply(null,arguments).map(ai);return new le(function(i,o){n.map(function(a){return le.resolve(a).then(i,o)})})},PSD:{get:function(){return ae},set:function(n){return ae=n}},totalEchoes:{get:function(){return li}},newPSD:gn,usePSD:jn,scheduler:{get:function(){return Ze},set:function(n){Ze=n}},rejectionMapper:{get:function(){return Qn},set:function(n){Qn=n}},follow:function(n,i){return new le(function(o,a){return gn(function(f,d){var g=ae;g.unhandleds=[],g.onunhandled=d,g.finalize=V(function(){var y,w=this;y=function(){w.unhandleds.length===0?f():d(w.unhandleds[0])},ri.push(function S(){y(),ri.splice(ri.indexOf(S),1)}),++In,Ze(function(){--In==0&&ls()},[])},g.finalize),n()},i,o,a)})}}),Te&&(Te.allSettled&&ne(le,"allSettled",function(){var n=Et.apply(null,arguments).map(ai);return new le(function(i){n.length===0&&i([]);var o=n.length,a=new Array(o);n.forEach(function(f,d){return le.resolve(f).then(function(g){return a[d]={status:"fulfilled",value:g}},function(g){return a[d]={status:"rejected",reason:g}}).then(function(){return--o||i(a)})})})}),Te.any&&typeof AggregateError<"u"&&ne(le,"any",function(){var n=Et.apply(null,arguments).map(ai);return new le(function(i,o){n.length===0&&o(new AggregateError([]));var a=n.length,f=new Array(a);n.forEach(function(d,g){return le.resolve(d).then(function(y){return i(y)},function(y){f[g]=y,--a||o(new AggregateError(f))})})})}),Te.withResolvers&&(le.withResolvers=Te.withResolvers));var ot={awaits:0,echoes:0,id:0},pu=0,si=[],oi=0,li=0,gu=0;function gn(n,i,o,a){var f=ae,d=Object.create(f);return d.parent=f,d.ref=0,d.global=!1,d.id=++gu,Ye.env,d.env=Ae?{Promise:le,PromiseProp:{value:le,configurable:!0,writable:!0},all:le.all,race:le.race,allSettled:le.allSettled,any:le.any,resolve:le.resolve,reject:le.reject}:{},i&&p(d,i),++f.ref,d.finalize=function(){--this.parent.ref||this.parent.finalize()},a=jn(d,n,o,a),d.ref===0&&d.finalize(),a}function tr(){return ot.id||(ot.id=++pu),++ot.awaits,ot.echoes+=fe,ot.id}function mn(){return!!ot.awaits&&(--ot.awaits==0&&(ot.id=0),ot.echoes=ot.awaits*fe,!0)}function ai(n){return ot.echoes&&n&&n.constructor===Te?(tr(),n.then(function(i){return mn(),i},function(i){return mn(),Je(i)})):n}function mu(){var n=si[si.length-1];si.pop(),yn(n,!1)}function yn(n,i){var o,a=ae;(i?!ot.echoes||oi++&&n===ae:!oi||--oi&&n===ae)||queueMicrotask(i?(function(f){++li,ot.echoes&&--ot.echoes!=0||(ot.echoes=ot.awaits=ot.id=0),si.push(ae),yn(f,!0)}).bind(null,n):mu),n!==ae&&(ae=n,a===Ye&&(Ye.env=Lo()),Ae&&(o=Ye.env.Promise,i=n.env,(a.global||n.global)&&(Object.defineProperty(u,"Promise",i.PromiseProp),o.all=i.all,o.race=i.race,o.resolve=i.resolve,o.reject=i.reject,i.allSettled&&(o.allSettled=i.allSettled),i.any&&(o.any=i.any))))}function Lo(){var n=u.Promise;return Ae?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject}:{}}function jn(n,i,o,a,f){var d=ae;try{return yn(n,!0),i(o,a,f)}finally{yn(d,!1)}}function $o(n,i,o,a){return typeof n!="function"?n:function(){var f=ae;o&&tr(),yn(i,!0);try{return n.apply(this,arguments)}finally{yn(f,!1),a&&queueMicrotask(mn)}}}function as(n){Promise===Te&&ot.echoes===0?oi===0?n():enqueueNativeMicroTask(n):setTimeout(n,0)}(""+Rt).indexOf("[native code]")===-1&&(tr=mn=m);var Je=le.reject,Mn="￿",en="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Bo="String expected.",nr=[],ui="__dbnames",us="readonly",cs="readwrite";function Dn(n,i){return n?i?function(){return n.apply(this,arguments)&&i.apply(this,arguments)}:n:i}var Fo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ci(n){return typeof n!="string"||/\./.test(n)?function(i){return i}:function(i){return i[n]===void 0&&n in i&&delete(i=je(i))[n],i}}function No(){throw de.Type()}function ke(n,i){try{var o=Vo(n),a=Vo(i);if(o!==a)return o==="Array"?1:a==="Array"?-1:o==="binary"?1:a==="binary"?-1:o==="string"?1:a==="string"?-1:o==="Date"?1:a!=="Date"?NaN:-1;switch(o){case"number":case"Date":case"string":return i<n?1:n<i?-1:0;case"binary":return function(f,d){for(var g=f.length,y=d.length,w=g<y?g:y,S=0;S<w;++S)if(f[S]!==d[S])return f[S]<d[S]?-1:1;return g===y?0:g<y?-1:1}(qo(n),qo(i));case"Array":return function(f,d){for(var g=f.length,y=d.length,w=g<y?g:y,S=0;S<w;++S){var C=ke(f[S],d[S]);if(C!==0)return C}return g===y?0:g<y?-1:1}(n,i)}}catch{}return NaN}function Vo(n){var i=typeof n;return i!="object"?i:ArrayBuffer.isView(n)?"binary":(n=Tt(n),n==="ArrayBuffer"?"binary":n)}function qo(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}var Ho=(He.prototype._trans=function(n,i,o){var a=this._tx||ae.trans,f=this.name,d=B&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function g(S,C,v){if(!v.schema[f])throw new de.NotFound("Table "+f+" not part of transaction");return i(v.idbtrans,v)}var y=Zn();try{var w=a&&a.db._novip===this.db._novip?a===ae.trans?a._promise(n,g,o):gn(function(){return a._promise(n,g,o)},{trans:a,transless:ae.transless||ae}):function S(C,v,A,_){if(C.idbdb&&(C._state.openComplete||ae.letThrough||C._vip)){var k=C._createTransaction(v,A,C._dbSchema);try{k.create(),C._state.PR1398_maxLoop=3}catch(P){return P.name===dn.InvalidState&&C.isOpen()&&0<--C._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),C.close({disableAutoOpen:!1}),C.open().then(function(){return S(C,v,A,_)})):Je(P)}return k._promise(v,function(P,O){return gn(function(){return ae.trans=k,_(P,O,k)})}).then(function(P){if(v==="readwrite")try{k.idbtrans.commit()}catch{}return v==="readonly"?P:k._completion.then(function(){return P})})}if(C._state.openComplete)return Je(new de.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return Je(new de.DatabaseClosed);C.open().catch(m)}return C._state.dbReadyPromise.then(function(){return S(C,v,A,_)})}(this.db,n,[this.name],g);return d&&(w._consoleTask=d,w=w.catch(function(S){return console.trace(S),Je(S)})),w}finally{y&&er()}},He.prototype.get=function(n,i){var o=this;return n&&n.constructor===Object?this.where(n).first(i):n==null?Je(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(a){return o.core.get({trans:a,key:n}).then(function(f){return o.hook.reading.fire(f)})}).then(i)},He.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(h(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var i=c(n);if(i.length===1)return this.where(i[0]).equals(n[i[0]]);var o=this.schema.indexes.concat(this.schema.primKey).filter(function(y){if(y.compound&&i.every(function(S){return 0<=y.keyPath.indexOf(S)})){for(var w=0;w<i.length;++w)if(i.indexOf(y.keyPath[w])===-1)return!1;return!0}return!1}).sort(function(y,w){return y.keyPath.length-w.keyPath.length})[0];if(o&&this.db._maxKey!==Mn){var d=o.keyPath.slice(0,i.length);return this.where(d).equals(d.map(function(w){return n[w]}))}!o&&B&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var a=this.schema.idxByName;function f(y,w){return ke(y,w)===0}var g=i.reduce(function(v,w){var S=v[0],C=v[1],v=a[w],A=n[w];return[S||v,S||!v?Dn(C,v&&v.multi?function(_){return _=Ie(_,w),h(_)&&_.some(function(k){return f(A,k)})}:function(_){return f(A,Ie(_,w))}):C]},[null,null]),d=g[0],g=g[1];return d?this.where(d.name).equals(n[d.keyPath]).filter(g):o?this.filter(g):this.where(i).equals("")},He.prototype.filter=function(n){return this.toCollection().and(n)},He.prototype.count=function(n){return this.toCollection().count(n)},He.prototype.offset=function(n){return this.toCollection().offset(n)},He.prototype.limit=function(n){return this.toCollection().limit(n)},He.prototype.each=function(n){return this.toCollection().each(n)},He.prototype.toArray=function(n){return this.toCollection().toArray(n)},He.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},He.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,h(n)?"[".concat(n.join("+"),"]"):n))},He.prototype.reverse=function(){return this.toCollection().reverse()},He.prototype.mapToClass=function(n){var i,o=this.db,a=this.name;function f(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=n).prototype instanceof No&&(function(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function C(){this.constructor=w}r(w,S),w.prototype=S===null?Object.create(S):(C.prototype=S.prototype,new C)}(f,i=n),Object.defineProperty(f.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),f.prototype.table=function(){return a},n=f);for(var d=new Set,g=n.prototype;g;g=E(g))Object.getOwnPropertyNames(g).forEach(function(w){return d.add(w)});function y(w){if(!w)return w;var S,C=Object.create(n.prototype);for(S in w)if(!d.has(S))try{C[S]=w[S]}catch{}return C}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),n},He.prototype.defineClass=function(){return this.mapToClass(function(n){p(this,n)})},He.prototype.add=function(n,i){var o=this,a=this.schema.primKey,f=a.auto,d=a.keyPath,g=n;return d&&f&&(g=ci(d)(n)),this._trans("readwrite",function(y){return o.core.mutate({trans:y,type:"add",keys:i!=null?[i]:null,values:[g]})}).then(function(y){return y.numFailures?le.reject(y.failures[0]):y.lastResult}).then(function(y){if(d)try{Ee(n,d,y)}catch{}return y})},He.prototype.update=function(n,i){return typeof n!="object"||h(n)?this.where(":id").equals(n).modify(i):(n=Ie(n,this.schema.primKey.keyPath),n===void 0?Je(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(i))},He.prototype.put=function(n,i){var o=this,a=this.schema.primKey,f=a.auto,d=a.keyPath,g=n;return d&&f&&(g=ci(d)(n)),this._trans("readwrite",function(y){return o.core.mutate({trans:y,type:"put",values:[g],keys:i!=null?[i]:null})}).then(function(y){return y.numFailures?le.reject(y.failures[0]):y.lastResult}).then(function(y){if(d)try{Ee(n,d,y)}catch{}return y})},He.prototype.delete=function(n){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"delete",keys:[n]})}).then(function(o){return o.numFailures?le.reject(o.failures[0]):void 0})},He.prototype.clear=function(){var n=this;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"deleteRange",range:Fo})}).then(function(i){return i.numFailures?le.reject(i.failures[0]):void 0})},He.prototype.bulkGet=function(n){var i=this;return this._trans("readonly",function(o){return i.core.getMany({keys:n,trans:o}).then(function(a){return a.map(function(f){return i.hook.reading.fire(f)})})})},He.prototype.bulkAdd=function(n,i,o){var a=this,f=Array.isArray(i)?i:void 0,d=(o=o||(f?void 0:i))?o.allKeys:void 0;return this._trans("readwrite",function(g){var S=a.schema.primKey,y=S.auto,S=S.keyPath;if(S&&f)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==n.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,S=S&&y?n.map(ci(S)):n;return a.core.mutate({trans:g,type:"add",keys:f,values:S,wantResults:d}).then(function(k){var v=k.numFailures,A=k.results,_=k.lastResult,k=k.failures;if(v===0)return d?A:_;throw new Kt("".concat(a.name,".bulkAdd(): ").concat(v," of ").concat(w," operations failed"),k)})})},He.prototype.bulkPut=function(n,i,o){var a=this,f=Array.isArray(i)?i:void 0,d=(o=o||(f?void 0:i))?o.allKeys:void 0;return this._trans("readwrite",function(g){var S=a.schema.primKey,y=S.auto,S=S.keyPath;if(S&&f)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==n.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,S=S&&y?n.map(ci(S)):n;return a.core.mutate({trans:g,type:"put",keys:f,values:S,wantResults:d}).then(function(k){var v=k.numFailures,A=k.results,_=k.lastResult,k=k.failures;if(v===0)return d?A:_;throw new Kt("".concat(a.name,".bulkPut(): ").concat(v," of ").concat(w," operations failed"),k)})})},He.prototype.bulkUpdate=function(n){var i=this,o=this.core,a=n.map(function(g){return g.key}),f=n.map(function(g){return g.changes}),d=[];return this._trans("readwrite",function(g){return o.getMany({trans:g,keys:a,cache:"clone"}).then(function(y){var w=[],S=[];n.forEach(function(v,A){var _=v.key,k=v.changes,P=y[A];if(P){for(var O=0,I=Object.keys(k);O<I.length;O++){var j=I[O],M=k[j];if(j===i.schema.primKey.keyPath){if(ke(M,_)!==0)throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else Ee(P,j,M)}d.push(A),w.push(_),S.push(P)}});var C=w.length;return o.mutate({trans:g,type:"put",keys:w,values:S,updates:{keys:a,changeSpecs:f}}).then(function(v){var A=v.numFailures,_=v.failures;if(A===0)return C;for(var k=0,P=Object.keys(_);k<P.length;k++){var O,I=P[k],j=d[Number(I)];j!=null&&(O=_[I],delete _[I],_[j]=O)}throw new Kt("".concat(i.name,".bulkUpdate(): ").concat(A," of ").concat(C," operations failed"),_)})})})},He.prototype.bulkDelete=function(n){var i=this,o=n.length;return this._trans("readwrite",function(a){return i.core.mutate({trans:a,type:"delete",keys:n})}).then(function(g){var f=g.numFailures,d=g.lastResult,g=g.failures;if(f===0)return d;throw new Kt("".concat(i.name,".bulkDelete(): ").concat(f," of ").concat(o," operations failed"),g)})},He);function He(){}function _r(n){function i(g,y){if(y){for(var w=arguments.length,S=new Array(w-1);--w;)S[w-1]=arguments[w];return o[g].subscribe.apply(null,S),n}if(typeof g=="string")return o[g]}var o={};i.addEventType=d;for(var a=1,f=arguments.length;a<f;++a)d(arguments[a]);return i;function d(g,y,w){if(typeof g!="object"){var S;y=y||te;var C={subscribers:[],fire:w=w||m,subscribe:function(v){C.subscribers.indexOf(v)===-1&&(C.subscribers.push(v),C.fire=y(C.fire,v))},unsubscribe:function(v){C.subscribers=C.subscribers.filter(function(A){return A!==v}),C.fire=C.subscribers.reduce(y,w)}};return o[g]=i[g]=C}c(S=g).forEach(function(v){var A=S[v];if(h(A))d(v,S[v][0],S[v][1]);else{if(A!=="asap")throw new de.InvalidArgument("Invalid event config");var _=d(v,x,function(){for(var k=arguments.length,P=new Array(k);k--;)P[k]=arguments[k];_.subscribers.forEach(function(O){ye(function(){O.apply(null,P)})})})}})}}function xr(n,i){return H(i).from({prototype:n}),i}function rr(n,i){return!(n.filter||n.algorithm||n.or)&&(i?n.justLimit:!n.replayFilter)}function fs(n,i){n.filter=Dn(n.filter,i)}function ds(n,i,o){var a=n.replayFilter;n.replayFilter=a?function(){return Dn(a(),i())}:i,n.justLimit=o&&!a}function fi(n,i){if(n.isPrimKey)return i.primaryKey;var o=i.getIndexByKeyPath(n.index);if(!o)throw new de.Schema("KeyPath "+n.index+" on object store "+i.name+" is not indexed");return o}function Uo(n,i,o){var a=fi(n,i.schema);return i.openCursor({trans:o,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:a,range:n.range}})}function di(n,i,o,a){var f=n.replayFilter?Dn(n.filter,n.replayFilter()):n.filter;if(n.or){var d={},g=function(y,w,S){var C,v;f&&!f(w,S,function(A){return w.stop(A)},function(A){return w.fail(A)})||((v=""+(C=w.primaryKey))=="[object ArrayBuffer]"&&(v=""+new Uint8Array(C)),T(d,v)||(d[v]=!0,i(y,w,S)))};return Promise.all([n.or._iterate(g,o),Wo(Uo(n,a,o),n.algorithm,g,!n.keysOnly&&n.valueMapper)])}return Wo(Uo(n,a,o),Dn(n.algorithm,f),i,!n.keysOnly&&n.valueMapper)}function Wo(n,i,o,a){var f=Ue(a?function(d,g,y){return o(a(d),g,y)}:o);return n.then(function(d){if(d)return d.start(function(){var g=function(){return d.continue()};i&&!i(d,function(y){return g=y},function(y){d.stop(y),g=m},function(y){d.fail(y),g=m})||f(d.value,d,function(y){return g=y}),g()})})}var Sr=(Go.prototype.execute=function(n){var i=this["@@propmod"];if(i.add!==void 0){var o=i.add;if(h(o))return l(l([],h(n)?n:[],!0),o).sort();if(typeof o=="number")return(Number(n)||0)+o;if(typeof o=="bigint")try{return BigInt(n)+o}catch{return BigInt(0)+o}throw new TypeError("Invalid term ".concat(o))}if(i.remove!==void 0){var a=i.remove;if(h(a))return h(n)?n.filter(function(f){return!a.includes(f)}).sort():[];if(typeof a=="number")return Number(n)-a;if(typeof a=="bigint")try{return BigInt(n)-a}catch{return BigInt(0)-a}throw new TypeError("Invalid subtrahend ".concat(a))}return o=(o=i.replacePrefix)===null||o===void 0?void 0:o[0],o&&typeof n=="string"&&n.startsWith(o)?i.replacePrefix[1]+n.substring(o.length):n},Go);function Go(n){this["@@propmod"]=n}var yu=(Me.prototype._read=function(n,i){var o=this._ctx;return o.error?o.table._trans(null,Je.bind(null,o.error)):o.table._trans("readonly",n).then(i)},Me.prototype._write=function(n){var i=this._ctx;return i.error?i.table._trans(null,Je.bind(null,i.error)):i.table._trans("readwrite",n,"locked")},Me.prototype._addAlgorithm=function(n){var i=this._ctx;i.algorithm=Dn(i.algorithm,n)},Me.prototype._iterate=function(n,i){return di(this._ctx,n,i,this._ctx.table.core)},Me.prototype.clone=function(n){var i=Object.create(this.constructor.prototype),o=Object.create(this._ctx);return n&&p(o,n),i._ctx=o,i},Me.prototype.raw=function(){return this._ctx.valueMapper=null,this},Me.prototype.each=function(n){var i=this._ctx;return this._read(function(o){return di(i,n,o,i.table.core)})},Me.prototype.count=function(n){var i=this;return this._read(function(o){var a=i._ctx,f=a.table.core;if(rr(a,!0))return f.count({trans:o,query:{index:fi(a,f.schema),range:a.range}}).then(function(g){return Math.min(g,a.limit)});var d=0;return di(a,function(){return++d,!1},o,f).then(function(){return d})}).then(n)},Me.prototype.sortBy=function(n,i){var o=n.split(".").reverse(),a=o[0],f=o.length-1;function d(w,S){return S?d(w[o[S]],S-1):w[a]}var g=this._ctx.dir==="next"?1:-1;function y(w,S){return ke(d(w,f),d(S,f))*g}return this.toArray(function(w){return w.sort(y)}).then(i)},Me.prototype.toArray=function(n){var i=this;return this._read(function(o){var a=i._ctx;if(a.dir==="next"&&rr(a,!0)&&0<a.limit){var f=a.valueMapper,d=fi(a,a.table.core.schema);return a.table.core.query({trans:o,limit:a.limit,values:!0,query:{index:d,range:a.range}}).then(function(y){return y=y.result,f?y.map(f):y})}var g=[];return di(a,function(y){return g.push(y)},o,a.table.core).then(function(){return g})},n)},Me.prototype.offset=function(n){var i=this._ctx;return n<=0||(i.offset+=n,rr(i)?ds(i,function(){var o=n;return function(a,f){return o===0||(o===1?--o:f(function(){a.advance(o),o=0}),!1)}}):ds(i,function(){var o=n;return function(){return--o<0}})),this},Me.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),ds(this._ctx,function(){var i=n;return function(o,a,f){return--i<=0&&a(f),0<=i}},!0),this},Me.prototype.until=function(n,i){return fs(this._ctx,function(o,a,f){return!n(o.value)||(a(f),i)}),this},Me.prototype.first=function(n){return this.limit(1).toArray(function(i){return i[0]}).then(n)},Me.prototype.last=function(n){return this.reverse().first(n)},Me.prototype.filter=function(n){var i;return fs(this._ctx,function(o){return n(o.value)}),(i=this._ctx).isMatch=Dn(i.isMatch,n),this},Me.prototype.and=function(n){return this.filter(n)},Me.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},Me.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Me.prototype.desc=function(){return this.reverse()},Me.prototype.eachKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,a){n(a.key,a)})},Me.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},Me.prototype.eachPrimaryKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,a){n(a.primaryKey,a)})},Me.prototype.keys=function(n){var i=this._ctx;i.keysOnly=!i.isMatch;var o=[];return this.each(function(a,f){o.push(f.key)}).then(function(){return o}).then(n)},Me.prototype.primaryKeys=function(n){var i=this._ctx;if(i.dir==="next"&&rr(i,!0)&&0<i.limit)return this._read(function(a){var f=fi(i,i.table.core.schema);return i.table.core.query({trans:a,values:!1,limit:i.limit,query:{index:f,range:i.range}})}).then(function(a){return a.result}).then(n);i.keysOnly=!i.isMatch;var o=[];return this.each(function(a,f){o.push(f.primaryKey)}).then(function(){return o}).then(n)},Me.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},Me.prototype.firstKey=function(n){return this.limit(1).keys(function(i){return i[0]}).then(n)},Me.prototype.lastKey=function(n){return this.reverse().firstKey(n)},Me.prototype.distinct=function(){var n=this._ctx,n=n.index&&n.table.schema.idxByName[n.index];if(!n||!n.multi)return this;var i={};return fs(this._ctx,function(f){var a=f.primaryKey.toString(),f=T(i,a);return i[a]=!0,!f}),this},Me.prototype.modify=function(n){var i=this,o=this._ctx;return this._write(function(a){var f,d,g;g=typeof n=="function"?n:(f=c(n),d=f.length,function(O){for(var I=!1,j=0;j<d;++j){var M=f[j],R=n[M],W=Ie(O,M);R instanceof Sr?(Ee(O,M,R.execute(W)),I=!0):W!==R&&(Ee(O,M,R),I=!0)}return I});var y=o.table.core,v=y.schema.primaryKey,w=v.outbound,S=v.extractKey,C=200,v=i.db._options.modifyChunkSize;v&&(C=typeof v=="object"?v[y.name]||v["*"]||200:v);function A(O,M){var j=M.failures,M=M.numFailures;k+=O-M;for(var R=0,W=c(j);R<W.length;R++){var ee=W[R];_.push(j[ee])}}var _=[],k=0,P=[];return i.clone().primaryKeys().then(function(O){function I(M){var R=Math.min(C,O.length-M);return y.getMany({trans:a,keys:O.slice(M,M+R),cache:"immutable"}).then(function(W){for(var ee=[],G=[],Y=w?[]:null,ie=[],X=0;X<R;++X){var ue=W[X],_e={value:je(ue),primKey:O[M+X]};g.call(_e,_e.value,_e)!==!1&&(_e.value==null?ie.push(O[M+X]):w||ke(S(ue),S(_e.value))===0?(G.push(_e.value),w&&Y.push(O[M+X])):(ie.push(O[M+X]),ee.push(_e.value)))}return Promise.resolve(0<ee.length&&y.mutate({trans:a,type:"add",values:ee}).then(function(Se){for(var Oe in Se.failures)ie.splice(parseInt(Oe),1);A(ee.length,Se)})).then(function(){return(0<G.length||j&&typeof n=="object")&&y.mutate({trans:a,type:"put",keys:Y,values:G,criteria:j,changeSpec:typeof n!="function"&&n,isAdditionalChunk:0<M}).then(function(Se){return A(G.length,Se)})}).then(function(){return(0<ie.length||j&&n===hs)&&y.mutate({trans:a,type:"delete",keys:ie,criteria:j,isAdditionalChunk:0<M}).then(function(Se){return A(ie.length,Se)})}).then(function(){return O.length>M+R&&I(M+C)})})}var j=rr(o)&&o.limit===1/0&&(typeof n!="function"||n===hs)&&{index:o.index,range:o.range};return I(0).then(function(){if(0<_.length)throw new Xn("Error modifying one or more objects",_,k,P);return O.length})})})},Me.prototype.delete=function(){var n=this._ctx,i=n.range;return rr(n)&&(n.isPrimKey||i.type===3)?this._write(function(o){var a=n.table.core.schema.primaryKey,f=i;return n.table.core.count({trans:o,query:{index:a,range:f}}).then(function(d){return n.table.core.mutate({trans:o,type:"deleteRange",range:f}).then(function(g){var y=g.failures;if(g.lastResult,g.results,g=g.numFailures,g)throw new Xn("Could not delete some values",Object.keys(y).map(function(w){return y[w]}),d-g);return d-g})})}):this.modify(hs)},Me);function Me(){}var hs=function(n,i){return i.value=null};function vu(n,i){return n<i?-1:n===i?0:1}function bu(n,i){return i<n?-1:n===i?0:1}function Pt(n,i,o){return n=n instanceof Yo?new n.Collection(n):n,n._ctx.error=new(o||TypeError)(i),n}function ir(n){return new n.Collection(n,function(){return zo("")}).limit(0)}function hi(n,i,o,a){var f,d,g,y,w,S,C,v=o.length;if(!o.every(function(k){return typeof k=="string"}))return Pt(n,Bo);function A(k){f=k==="next"?function(O){return O.toUpperCase()}:function(O){return O.toLowerCase()},d=k==="next"?function(O){return O.toLowerCase()}:function(O){return O.toUpperCase()},g=k==="next"?vu:bu;var P=o.map(function(O){return{lower:d(O),upper:f(O)}}).sort(function(O,I){return g(O.lower,I.lower)});y=P.map(function(O){return O.upper}),w=P.map(function(O){return O.lower}),C=(S=k)==="next"?"":a}A("next"),n=new n.Collection(n,function(){return vn(y[0],w[v-1]+a)}),n._ondirectionchange=function(k){A(k)};var _=0;return n._addAlgorithm(function(k,P,O){var I=k.key;if(typeof I!="string")return!1;var j=d(I);if(i(j,w,_))return!0;for(var M=null,R=_;R<v;++R){var W=function(ee,G,Y,ie,X,ue){for(var _e=Math.min(ee.length,ie.length),Se=-1,Oe=0;Oe<_e;++Oe){var At=G[Oe];if(At!==ie[Oe])return X(ee[Oe],Y[Oe])<0?ee.substr(0,Oe)+Y[Oe]+Y.substr(Oe+1):X(ee[Oe],ie[Oe])<0?ee.substr(0,Oe)+ie[Oe]+Y.substr(Oe+1):0<=Se?ee.substr(0,Se)+G[Se]+Y.substr(Se+1):null;X(ee[Oe],At)<0&&(Se=Oe)}return _e<ie.length&&ue==="next"?ee+Y.substr(ee.length):_e<ee.length&&ue==="prev"?ee.substr(0,Y.length):Se<0?null:ee.substr(0,Se)+ie[Se]+Y.substr(Se+1)}(I,j,y[R],w[R],g,S);W===null&&M===null?_=R+1:(M===null||0<g(M,W))&&(M=W)}return P(M!==null?function(){k.continue(M+C)}:O),!1}),n}function vn(n,i,o,a){return{type:2,lower:n,upper:i,lowerOpen:o,upperOpen:a}}function zo(n){return{type:1,lower:n,upper:n}}var Yo=(Object.defineProperty(lt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),lt.prototype.between=function(n,i,o,a){o=o!==!1,a=a===!0;try{return 0<this._cmp(n,i)||this._cmp(n,i)===0&&(o||a)&&(!o||!a)?ir(this):new this.Collection(this,function(){return vn(n,i,!o,!a)})}catch{return Pt(this,en)}},lt.prototype.equals=function(n){return n==null?Pt(this,en):new this.Collection(this,function(){return zo(n)})},lt.prototype.above=function(n){return n==null?Pt(this,en):new this.Collection(this,function(){return vn(n,void 0,!0)})},lt.prototype.aboveOrEqual=function(n){return n==null?Pt(this,en):new this.Collection(this,function(){return vn(n,void 0,!1)})},lt.prototype.below=function(n){return n==null?Pt(this,en):new this.Collection(this,function(){return vn(void 0,n,!1,!0)})},lt.prototype.belowOrEqual=function(n){return n==null?Pt(this,en):new this.Collection(this,function(){return vn(void 0,n)})},lt.prototype.startsWith=function(n){return typeof n!="string"?Pt(this,Bo):this.between(n,n+Mn,!0,!0)},lt.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):hi(this,function(i,o){return i.indexOf(o[0])===0},[n],Mn)},lt.prototype.equalsIgnoreCase=function(n){return hi(this,function(i,o){return i===o[0]},[n],"")},lt.prototype.anyOfIgnoreCase=function(){var n=Et.apply(kt,arguments);return n.length===0?ir(this):hi(this,function(i,o){return o.indexOf(i)!==-1},n,"")},lt.prototype.startsWithAnyOfIgnoreCase=function(){var n=Et.apply(kt,arguments);return n.length===0?ir(this):hi(this,function(i,o){return o.some(function(a){return i.indexOf(a)===0})},n,Mn)},lt.prototype.anyOf=function(){var n=this,i=Et.apply(kt,arguments),o=this._cmp;try{i.sort(o)}catch{return Pt(this,en)}if(i.length===0)return ir(this);var a=new this.Collection(this,function(){return vn(i[0],i[i.length-1])});a._ondirectionchange=function(d){o=d==="next"?n._ascending:n._descending,i.sort(o)};var f=0;return a._addAlgorithm(function(d,g,y){for(var w=d.key;0<o(w,i[f]);)if(++f===i.length)return g(y),!1;return o(w,i[f])===0||(g(function(){d.continue(i[f])}),!1)}),a},lt.prototype.notEqual=function(n){return this.inAnyRange([[-1/0,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},lt.prototype.noneOf=function(){var n=Et.apply(kt,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return Pt(this,en)}var i=n.reduce(function(o,a){return o?o.concat([[o[o.length-1][1],a]]):[[-1/0,a]]},null);return i.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},lt.prototype.inAnyRange=function(I,i){var o=this,a=this._cmp,f=this._ascending,d=this._descending,g=this._min,y=this._max;if(I.length===0)return ir(this);if(!I.every(function(j){return j[0]!==void 0&&j[1]!==void 0&&f(j[0],j[1])<=0}))return Pt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var w=!i||i.includeLowers!==!1,S=i&&i.includeUppers===!0,C,v=f;function A(j,M){return v(j[0],M[0])}try{(C=I.reduce(function(j,M){for(var R=0,W=j.length;R<W;++R){var ee=j[R];if(a(M[0],ee[1])<0&&0<a(M[1],ee[0])){ee[0]=g(ee[0],M[0]),ee[1]=y(ee[1],M[1]);break}}return R===W&&j.push(M),j},[])).sort(A)}catch{return Pt(this,en)}var _=0,k=S?function(j){return 0<f(j,C[_][1])}:function(j){return 0<=f(j,C[_][1])},P=w?function(j){return 0<d(j,C[_][0])}:function(j){return 0<=d(j,C[_][0])},O=k,I=new this.Collection(this,function(){return vn(C[0][0],C[C.length-1][1],!w,!S)});return I._ondirectionchange=function(j){v=j==="next"?(O=k,f):(O=P,d),C.sort(A)},I._addAlgorithm(function(j,M,R){for(var W,ee=j.key;O(ee);)if(++_===C.length)return M(R),!1;return!k(W=ee)&&!P(W)||(o._cmp(ee,C[_][1])===0||o._cmp(ee,C[_][0])===0||M(function(){v===f?j.continue(C[_][0]):j.continue(C[_][1])}),!1)}),I},lt.prototype.startsWithAnyOf=function(){var n=Et.apply(kt,arguments);return n.every(function(i){return typeof i=="string"})?n.length===0?ir(this):this.inAnyRange(n.map(function(i){return[i,i+Mn]})):Pt(this,"startsWithAnyOf() only works with strings")},lt);function lt(){}function Wt(n){return Ue(function(i){return Or(i),n(i.target.error),!1})}function Or(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var kr="storagemutated",ps="x-storagemutated-1",bn=_r(null,kr),wu=(Gt.prototype._lock=function(){return Z(!ae.global),++this._reculock,this._reculock!==1||ae.global||(ae.lockOwnerFor=this),this},Gt.prototype._unlock=function(){if(Z(!ae.global),--this._reculock==0)for(ae.global||(ae.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var n=this._blockedFuncs.shift();try{jn(n[1],n[0])}catch{}}return this},Gt.prototype._locked=function(){return this._reculock&&ae.lockOwnerFor!==this},Gt.prototype.create=function(n){var i=this;if(!this.mode)return this;var o=this.db.idbdb,a=this.db._state.dbOpenError;if(Z(!this.idbtrans),!n&&!o)switch(a&&a.name){case"DatabaseClosedError":throw new de.DatabaseClosed(a);case"MissingAPIError":throw new de.MissingAPI(a.message,a);default:throw new de.OpenFailed(a)}if(!this.active)throw new de.TransactionInactive;return Z(this._completion._state===null),(n=this.idbtrans=n||(this.db.core||o).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ue(function(f){Or(f),i._reject(n.error)}),n.onabort=Ue(function(f){Or(f),i.active&&i._reject(new de.Abort(n.error)),i.active=!1,i.on("abort").fire(f)}),n.oncomplete=Ue(function(){i.active=!1,i._resolve(),"mutatedParts"in n&&bn.storagemutated.fire(n.mutatedParts)}),this},Gt.prototype._promise=function(n,i,o){var a=this;if(n==="readwrite"&&this.mode!=="readwrite")return Je(new de.ReadOnly("Transaction is readonly"));if(!this.active)return Je(new de.TransactionInactive);if(this._locked())return new le(function(d,g){a._blockedFuncs.push([function(){a._promise(n,i,o).then(d,g)},ae])});if(o)return gn(function(){var d=new le(function(g,y){a._lock();var w=i(g,y,a);w&&w.then&&w.then(g,y)});return d.finally(function(){return a._unlock()}),d._lib=!0,d});var f=new le(function(d,g){var y=i(d,g,a);y&&y.then&&y.then(d,g)});return f._lib=!0,f},Gt.prototype._root=function(){return this.parent?this.parent._root():this},Gt.prototype.waitFor=function(n){var i,o=this._root(),a=le.resolve(n);o._waitingFor?o._waitingFor=o._waitingFor.then(function(){return a}):(o._waitingFor=a,o._waitingQueue=[],i=o.idbtrans.objectStore(o.storeNames[0]),function d(){for(++o._spinCount;o._waitingQueue.length;)o._waitingQueue.shift()();o._waitingFor&&(i.get(-1/0).onsuccess=d)}());var f=o._waitingFor;return new le(function(d,g){a.then(function(y){return o._waitingQueue.push(Ue(d.bind(null,y)))},function(y){return o._waitingQueue.push(Ue(g.bind(null,y)))}).finally(function(){o._waitingFor===f&&(o._waitingFor=null)})})},Gt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},Gt.prototype.table=function(n){var i=this._memoizedTables||(this._memoizedTables={});if(T(i,n))return i[n];var o=this.schema[n];if(!o)throw new de.NotFound("Table "+n+" not part of transaction");return o=new this.db.Table(n,o,this),o.core=this.db.core.table(n),i[n]=o},Gt);function Gt(){}function gs(n,i,o,a,f,d,g){return{name:n,keyPath:i,unique:o,multi:a,auto:f,compound:d,src:(o&&!g?"&":"")+(a?"*":"")+(f?"++":"")+Jo(i)}}function Jo(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function ms(n,i,o){return{name:n,primKey:i,indexes:o,mappedClass:null,idxByName:(a=function(f){return[f.name,f]},o.reduce(function(f,d,g){return g=a(d,g),g&&(f[g[0]]=g[1]),f},{}))};var a}var Er=function(n){try{return n.only([[]]),Er=function(){return[[]]},[[]]}catch{return Er=function(){return Mn},Mn}};function ys(n){return n==null?function(){}:typeof n=="string"?(i=n).split(".").length===1?function(o){return o[i]}:function(o){return Ie(o,i)}:function(o){return Ie(o,n)};var i}function Xo(n){return[].slice.call(n)}var _u=0;function Cr(n){return n==null?":id":typeof n=="string"?n:"[".concat(n.join("+"),"]")}function xu(n,i,w){function a(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _=O.lower,k=O.upper,P=O.lowerOpen,O=O.upperOpen;return _===void 0?k===void 0?null:i.upperBound(k,!!O):k===void 0?i.lowerBound(_,!!P):i.bound(_,k,!!P,!!O)}function f(A){var _,k=A.name;return{name:k,schema:A,mutate:function(P){var O=P.trans,I=P.type,j=P.keys,M=P.values,R=P.range;return new Promise(function(W,ee){W=Ue(W);var G=O.objectStore(k),Y=G.keyPath==null,ie=I==="put"||I==="add";if(!ie&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var X,ue=(j||M||{length:1}).length;if(j&&M&&j.length!==M.length)throw new Error("Given keys array must have same length as given values array.");if(ue===0)return W({numFailures:0,failures:{},results:[],lastResult:void 0});function _e(bt){++At,Or(bt)}var Se=[],Oe=[],At=0;if(I==="deleteRange"){if(R.type===4)return W({numFailures:At,failures:Oe,results:[],lastResult:void 0});R.type===3?Se.push(X=G.clear()):Se.push(X=G.delete(a(R)))}else{var Y=ie?Y?[M,j]:[M,null]:[j,null],ve=Y[0],dt=Y[1];if(ie)for(var ht=0;ht<ue;++ht)Se.push(X=dt&&dt[ht]!==void 0?G[I](ve[ht],dt[ht]):G[I](ve[ht])),X.onerror=_e;else for(ht=0;ht<ue;++ht)Se.push(X=G[I](ve[ht])),X.onerror=_e}function Ei(bt){bt=bt.target.result,Se.forEach(function(Ln,Ks){return Ln.error!=null&&(Oe[Ks]=Ln.error)}),W({numFailures:At,failures:Oe,results:I==="delete"?j:Se.map(function(Ln){return Ln.result}),lastResult:bt})}X.onerror=function(bt){_e(bt),Ei(bt)},X.onsuccess=Ei})},getMany:function(P){var O=P.trans,I=P.keys;return new Promise(function(j,M){j=Ue(j);for(var R,W=O.objectStore(k),ee=I.length,G=new Array(ee),Y=0,ie=0,X=function(Se){Se=Se.target,G[Se._pos]=Se.result,++ie===Y&&j(G)},ue=Wt(M),_e=0;_e<ee;++_e)I[_e]!=null&&((R=W.get(I[_e]))._pos=_e,R.onsuccess=X,R.onerror=ue,++Y);Y===0&&j(G)})},get:function(P){var O=P.trans,I=P.key;return new Promise(function(j,M){j=Ue(j);var R=O.objectStore(k).get(I);R.onsuccess=function(W){return j(W.target.result)},R.onerror=Wt(M)})},query:(_=S,function(P){return new Promise(function(O,I){O=Ue(O);var j,M,R,Y=P.trans,W=P.values,ee=P.limit,X=P.query,G=ee===1/0?void 0:ee,ie=X.index,X=X.range,Y=Y.objectStore(k),ie=ie.isPrimaryKey?Y:Y.index(ie.name),X=a(X);if(ee===0)return O({result:[]});_?((G=W?ie.getAll(X,G):ie.getAllKeys(X,G)).onsuccess=function(ue){return O({result:ue.target.result})},G.onerror=Wt(I)):(j=0,M=!W&&"openKeyCursor"in ie?ie.openKeyCursor(X):ie.openCursor(X),R=[],M.onsuccess=function(ue){var _e=M.result;return _e?(R.push(W?_e.value:_e.primaryKey),++j===ee?O({result:R}):void _e.continue()):O({result:R})},M.onerror=Wt(I))})}),openCursor:function(P){var O=P.trans,I=P.values,j=P.query,M=P.reverse,R=P.unique;return new Promise(function(W,ee){W=Ue(W);var ie=j.index,G=j.range,Y=O.objectStore(k),Y=ie.isPrimaryKey?Y:Y.index(ie.name),ie=M?R?"prevunique":"prev":R?"nextunique":"next",X=!I&&"openKeyCursor"in Y?Y.openKeyCursor(a(G),ie):Y.openCursor(a(G),ie);X.onerror=Wt(ee),X.onsuccess=Ue(function(ue){var _e,Se,Oe,At,ve=X.result;ve?(ve.___id=++_u,ve.done=!1,_e=ve.continue.bind(ve),Se=(Se=ve.continuePrimaryKey)&&Se.bind(ve),Oe=ve.advance.bind(ve),At=function(){throw new Error("Cursor not stopped")},ve.trans=O,ve.stop=ve.continue=ve.continuePrimaryKey=ve.advance=function(){throw new Error("Cursor not started")},ve.fail=Ue(ee),ve.next=function(){var dt=this,ht=1;return this.start(function(){return ht--?dt.continue():dt.stop()}).then(function(){return dt})},ve.start=function(dt){function ht(){if(X.result)try{dt()}catch(bt){ve.fail(bt)}else ve.done=!0,ve.start=function(){throw new Error("Cursor behind last entry")},ve.stop()}var Ei=new Promise(function(bt,Ln){bt=Ue(bt),X.onerror=Wt(Ln),ve.fail=Ln,ve.stop=function(Ks){ve.stop=ve.continue=ve.continuePrimaryKey=ve.advance=At,bt(Ks)}});return X.onsuccess=Ue(function(bt){X.onsuccess=ht,ht()}),ve.continue=_e,ve.continuePrimaryKey=Se,ve.advance=Oe,ht(),Ei},W(ve)):W(null)},ee)})},count:function(P){var O=P.query,I=P.trans,j=O.index,M=O.range;return new Promise(function(R,W){var ee=I.objectStore(k),G=j.isPrimaryKey?ee:ee.index(j.name),ee=a(M),G=ee?G.count(ee):G.count();G.onsuccess=Ue(function(Y){return R(Y.target.result)}),G.onerror=Wt(W)})}}}var d,g,y,C=(g=w,y=Xo((d=n).objectStoreNames),{schema:{name:d.name,tables:y.map(function(A){return g.objectStore(A)}).map(function(A){var _=A.keyPath,O=A.autoIncrement,k=h(_),P={},O={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_==null,compound:k,keyPath:_,autoIncrement:O,unique:!0,extractKey:ys(_)},indexes:Xo(A.indexNames).map(function(I){return A.index(I)}).map(function(R){var j=R.name,M=R.unique,W=R.multiEntry,R=R.keyPath,W={name:j,compound:h(R),keyPath:R,unique:M,multiEntry:W,extractKey:ys(R)};return P[Cr(R)]=W}),getIndexByKeyPath:function(I){return P[Cr(I)]}};return P[":id"]=O.primaryKey,_!=null&&(P[Cr(_)]=O.primaryKey),O})},hasGetAll:0<y.length&&"getAll"in g.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),w=C.schema,S=C.hasGetAll,C=w.tables.map(f),v={};return C.forEach(function(A){return v[A.name]=A}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(A){if(!v[A])throw new Error("Table '".concat(A,"' not found"));return v[A]},MIN_KEY:-1/0,MAX_KEY:Er(i),schema:w}}function Su(n,i,o,a){var f=o.IDBKeyRange;return o.indexedDB,{dbcore:(a=xu(i,f,a),n.dbcore.reduce(function(d,g){return g=g.create,s(s({},d),g(d))},a))}}function pi(n,a){var o=a.db,a=Su(n._middlewares,o,n._deps,a);n.core=a.dbcore,n.tables.forEach(function(f){var d=f.name;n.core.schema.tables.some(function(g){return g.name===d})&&(f.core=n.core.table(d),n[d]instanceof n.Table&&(n[d].core=f.core))})}function gi(n,i,o,a){o.forEach(function(f){var d=a[f];i.forEach(function(g){var y=function w(S,C){return F(S,C)||(S=E(S))&&w(S,C)}(g,f);(!y||"value"in y&&y.value===void 0)&&(g===n.Transaction.prototype||g instanceof n.Transaction?ne(g,f,{get:function(){return this.table(f)},set:function(w){U(this,f,{value:w,writable:!0,configurable:!0,enumerable:!0})}}):g[f]=new n.Table(f,d))})})}function vs(n,i){i.forEach(function(o){for(var a in o)o[a]instanceof n.Table&&delete o[a]})}function Ou(n,i){return n._cfg.version-i._cfg.version}function ku(n,i,o,a){var f=n._dbSchema;o.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=ms("$meta",Zo("")[0],[]),n._storeNames.push("$meta"));var d=n._createTransaction("readwrite",n._storeNames,f);d.create(o),d._completion.catch(a);var g=d._reject.bind(d),y=ae.transless||ae;gn(function(){return ae.trans=d,ae.transless=y,i!==0?(pi(n,o),S=i,((w=d).storeNames.includes("$meta")?w.table("$meta").get("version").then(function(C){return C??S}):le.resolve(S)).then(function(C){return A=C,_=d,k=o,P=[],C=(v=n)._versions,O=v._dbSchema=yi(0,v.idbdb,k),(C=C.filter(function(I){return I._cfg.version>=A})).length!==0?(C.forEach(function(I){P.push(function(){var j=O,M=I._cfg.dbschema;vi(v,j,k),vi(v,M,k),O=v._dbSchema=M;var R=bs(j,M);R.add.forEach(function(ie){ws(k,ie[0],ie[1].primKey,ie[1].indexes)}),R.change.forEach(function(ie){if(ie.recreate)throw new de.Upgrade("Not yet support for changing primary key");var X=k.objectStore(ie.name);ie.add.forEach(function(ue){return mi(X,ue)}),ie.change.forEach(function(ue){X.deleteIndex(ue.name),mi(X,ue)}),ie.del.forEach(function(ue){return X.deleteIndex(ue)})});var W=I._cfg.contentUpgrade;if(W&&I._cfg.version>A){pi(v,k),_._memoizedTables={};var ee=tt(M);R.del.forEach(function(ie){ee[ie]=j[ie]}),vs(v,[v.Transaction.prototype]),gi(v,[v.Transaction.prototype],c(ee),ee),_.schema=ee;var G,Y=Ft(W);return Y&&tr(),R=le.follow(function(){var ie;(G=W(_))&&Y&&(ie=mn.bind(null,null),G.then(ie,ie))}),G&&typeof G.then=="function"?le.resolve(G):R.then(function(){return G})}}),P.push(function(j){var M,R,W=I._cfg.dbschema;M=W,R=j,[].slice.call(R.db.objectStoreNames).forEach(function(ee){return M[ee]==null&&R.db.deleteObjectStore(ee)}),vs(v,[v.Transaction.prototype]),gi(v,[v.Transaction.prototype],v._storeNames,v._dbSchema),_.schema=v._dbSchema}),P.push(function(j){v.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(v.idbdb.version/10)===I._cfg.version?(v.idbdb.deleteObjectStore("$meta"),delete v._dbSchema.$meta,v._storeNames=v._storeNames.filter(function(M){return M!=="$meta"})):j.objectStore("$meta").put(I._cfg.version,"version"))})}),function I(){return P.length?le.resolve(P.shift()(_.idbtrans)).then(I):le.resolve()}().then(function(){Qo(O,k)})):le.resolve();var v,A,_,k,P,O}).catch(g)):(c(f).forEach(function(C){ws(o,C,f[C].primKey,f[C].indexes)}),pi(n,o),void le.follow(function(){return n.on.populate.fire(d)}).catch(g));var w,S})}function Eu(n,i){Qo(n._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var o=yi(0,n.idbdb,i);vi(n,n._dbSchema,i);for(var a=0,f=bs(o,n._dbSchema).change;a<f.length;a++){var d=function(g){if(g.change.length||g.recreate)return console.warn("Unable to patch indexes of table ".concat(g.name," because it has changes on the type of index or primary key.")),{value:void 0};var y=i.objectStore(g.name);g.add.forEach(function(w){B&&console.debug("Dexie upgrade patch: Creating missing index ".concat(g.name,".").concat(w.src)),mi(y,w)})}(f[a]);if(typeof d=="object")return d.value}}function bs(n,i){var o,a={del:[],add:[],change:[]};for(o in n)i[o]||a.del.push(o);for(o in i){var f=n[o],d=i[o];if(f){var g={name:o,def:d,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(d.primKey.keyPath||"")||f.primKey.auto!==d.primKey.auto)g.recreate=!0,a.change.push(g);else{var y=f.idxByName,w=d.idxByName,S=void 0;for(S in y)w[S]||g.del.push(S);for(S in w){var C=y[S],v=w[S];C?C.src!==v.src&&g.change.push(v):g.add.push(v)}(0<g.del.length||0<g.add.length||0<g.change.length)&&a.change.push(g)}}else a.add.push([o,d])}return a}function ws(n,i,o,a){var f=n.db.createObjectStore(i,o.keyPath?{keyPath:o.keyPath,autoIncrement:o.auto}:{autoIncrement:o.auto});return a.forEach(function(d){return mi(f,d)}),f}function Qo(n,i){c(n).forEach(function(o){i.db.objectStoreNames.contains(o)||(B&&console.debug("Dexie: Creating missing table",o),ws(i,o,n[o].primKey,n[o].indexes))})}function mi(n,i){n.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function yi(n,i,o){var a={};return $(i.objectStoreNames,0).forEach(function(f){for(var d=o.objectStore(f),g=gs(Jo(S=d.keyPath),S||"",!0,!1,!!d.autoIncrement,S&&typeof S!="string",!0),y=[],w=0;w<d.indexNames.length;++w){var C=d.index(d.indexNames[w]),S=C.keyPath,C=gs(C.name,S,!!C.unique,!!C.multiEntry,!1,S&&typeof S!="string",!1);y.push(C)}a[f]=ms(f,g,y)}),a}function vi(n,i,o){for(var a=o.db.objectStoreNames,f=0;f<a.length;++f){var d=a[f],g=o.objectStore(d);n._hasGetAll="getAll"in g;for(var y=0;y<g.indexNames.length;++y){var w=g.indexNames[y],S=g.index(w).keyPath,C=typeof S=="string"?S:"["+$(S).join("+")+"]";!i[d]||(S=i[d].idxByName[C])&&(S.name=w,delete i[d].idxByName[C],i[d].idxByName[w]=S)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function Zo(n){return n.split(",").map(function(i,o){var a=(i=i.trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(a)?a.match(/^\[(.*)\]$/)[1].split("+"):a;return gs(a,f||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),h(f),o===0)})}var Cu=(bi.prototype._parseStoresSpec=function(n,i){c(n).forEach(function(o){if(n[o]!==null){var a=Zo(n[o]),f=a.shift();if(f.unique=!0,f.multi)throw new de.Schema("Primary key cannot be multi-valued");a.forEach(function(d){if(d.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),i[o]=ms(o,f,a)}})},bi.prototype.stores=function(o){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,o):o;var o=i._versions,a={},f={};return o.forEach(function(d){p(a,d._cfg.storesSource),f=d._cfg.dbschema={},d._parseStoresSpec(a,f)}),i._dbSchema=f,vs(i,[i._allTables,i,i.Transaction.prototype]),gi(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],c(f),f),i._storeNames=c(f),this},bi.prototype.upgrade=function(n){return this._cfg.contentUpgrade=J(this._cfg.contentUpgrade||m,n),this},bi);function bi(){}function _s(n,i){var o=n._dbNamesDB;return o||(o=n._dbNamesDB=new tn(ui,{addons:[],indexedDB:n,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),o.table("dbnames")}function xs(n){return n&&typeof n.databases=="function"}function Ss(n){return gn(function(){return ae.letThrough=!0,n()})}function Os(n){return!("from"in n)}var ft=function(n,i){if(!this){var o=new ft;return n&&"d"in n&&p(o,n),o}p(this,arguments.length?{d:1,from:n,to:1<arguments.length?i:n}:{d:0})};function Tr(n,i,o){var a=ke(i,o);if(!isNaN(a)){if(0<a)throw RangeError();if(Os(n))return p(n,{from:i,to:o,d:1});var f=n.l,a=n.r;if(ke(o,n.from)<0)return f?Tr(f,i,o):n.l={from:i,to:o,d:1,l:null,r:null},tl(n);if(0<ke(i,n.to))return a?Tr(a,i,o):n.r={from:i,to:o,d:1,l:null,r:null},tl(n);ke(i,n.from)<0&&(n.from=i,n.l=null,n.d=a?a.d+1:1),0<ke(o,n.to)&&(n.to=o,n.r=null,n.d=n.l?n.l.d+1:1),o=!n.r,f&&!n.l&&Pr(n,f),a&&o&&Pr(n,a)}}function Pr(n,i){Os(i)||function o(a,w){var d=w.from,g=w.to,y=w.l,w=w.r;Tr(a,d,g),y&&o(a,y),w&&o(a,w)}(n,i)}function el(n,i){var o=wi(i),a=o.next();if(a.done)return!1;for(var f=a.value,d=wi(n),g=d.next(f.from),y=g.value;!a.done&&!g.done;){if(ke(y.from,f.to)<=0&&0<=ke(y.to,f.from))return!0;ke(f.from,y.from)<0?f=(a=o.next(y.from)).value:y=(g=d.next(f.from)).value}return!1}function wi(n){var i=Os(n)?null:{s:0,n};return{next:function(o){for(var a=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,a)for(;i.n.l&&ke(o,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!a||ke(o,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function tl(n){var i,o,a=(((i=n.r)===null||i===void 0?void 0:i.d)||0)-(((o=n.l)===null||o===void 0?void 0:o.d)||0),f=1<a?"r":a<-1?"l":"";f&&(i=f=="r"?"l":"r",o=s({},n),a=n[f],n.from=a.from,n.to=a.to,n[f]=a[f],o[f]=a[i],(n[i]=o).d=nl(o)),n.d=nl(n)}function nl(o){var i=o.r,o=o.l;return(i?o?Math.max(i.d,o.d):i.d:o?o.d:0)+1}function _i(n,i){return c(i).forEach(function(o){n[o]?Pr(n[o],i[o]):n[o]=function a(f){var d,g,y={};for(d in f)T(f,d)&&(g=f[d],y[d]=!g||typeof g!="object"||Ne.has(g.constructor)?g:a(g));return y}(i[o])}),n}function ks(n,i){return n.all||i.all||Object.keys(n).some(function(o){return i[o]&&el(i[o],n[o])})}K(ft.prototype,((Rt={add:function(n){return Pr(this,n),this},addKey:function(n){return Tr(this,n,n),this},addKeys:function(n){var i=this;return n.forEach(function(o){return Tr(i,o,o)}),this},hasKey:function(n){var i=wi(this).next(n).value;return i&&ke(i.from,n)<=0&&0<=ke(i.to,n)}})[ze]=function(){return wi(this)},Rt));var Kn={},Es={},Cs=!1;function xi(n){_i(Es,n),Cs||(Cs=!0,setTimeout(function(){Cs=!1,Ts(Es,!(Es={}))},0))}function Ts(n,i){i===void 0&&(i=!1);var o=new Set;if(n.all)for(var a=0,f=Object.values(Kn);a<f.length;a++)rl(g=f[a],n,o,i);else for(var d in n){var g,y=/^idb\:\/\/(.*)\/(.*)\//.exec(d);y&&(d=y[1],y=y[2],(g=Kn["idb://".concat(d,"/").concat(y)])&&rl(g,n,o,i))}o.forEach(function(w){return w()})}function rl(n,i,o,a){for(var f=[],d=0,g=Object.entries(n.queries.query);d<g.length;d++){for(var y=g[d],w=y[0],S=[],C=0,v=y[1];C<v.length;C++){var A=v[C];ks(i,A.obsSet)?A.subscribers.forEach(function(O){return o.add(O)}):a&&S.push(A)}a&&f.push([w,S])}if(a)for(var _=0,k=f;_<k.length;_++){var P=k[_],w=P[0],S=P[1];n.queries.query[w]=S}}function Tu(n){var i=n._state,o=n._deps.indexedDB;if(i.isBeingOpened||n.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?Je(i.dbOpenError):n});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var a=i.openCanceller,f=Math.round(10*n.verno),d=!1;function g(){if(i.openCanceller!==a)throw new de.DatabaseClosed("db.open() was cancelled")}function y(){return new le(function(A,_){if(g(),!o)throw new de.MissingAPI;var k=n.name,P=i.autoSchema||!f?o.open(k):o.open(k,f);if(!P)throw new de.MissingAPI;P.onerror=Wt(_),P.onblocked=Ue(n._fireOnBlocked),P.onupgradeneeded=Ue(function(O){var I;C=P.transaction,i.autoSchema&&!n._options.allowEmptyDB?(P.onerror=Or,C.abort(),P.result.close(),(I=o.deleteDatabase(k)).onsuccess=I.onerror=Ue(function(){_(new de.NoSuchDatabase("Database ".concat(k," doesnt exist")))})):(C.onerror=Wt(_),O=O.oldVersion>Math.pow(2,62)?0:O.oldVersion,v=O<1,n.idbdb=P.result,d&&Eu(n,C),ku(n,O/10,C,_))},_),P.onsuccess=Ue(function(){C=null;var O,I,j,M,R,W=n.idbdb=P.result,ee=$(W.objectStoreNames);if(0<ee.length)try{var G=W.transaction((M=ee).length===1?M[0]:M,"readonly");if(i.autoSchema)I=W,j=G,(O=n).verno=I.version/10,j=O._dbSchema=yi(0,I,j),O._storeNames=$(I.objectStoreNames,0),gi(O,[O._allTables],c(j),j);else if(vi(n,n._dbSchema,G),((R=bs(yi(0,(R=n).idbdb,G),R._dbSchema)).add.length||R.change.some(function(Y){return Y.add.length||Y.change.length}))&&!d)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),W.close(),f=W.version+1,d=!0,A(y());pi(n,G)}catch{}nr.push(n),W.onversionchange=Ue(function(Y){i.vcFired=!0,n.on("versionchange").fire(Y)}),W.onclose=Ue(function(Y){n.on("close").fire(Y)}),v&&(R=n._deps,G=k,W=R.indexedDB,R=R.IDBKeyRange,xs(W)||G===ui||_s(W,R).put({name:G}).catch(m)),A()},_)}).catch(function(A){switch(A?.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),y();break;case"VersionError":if(0<f)return f=0,y()}return le.reject(A)})}var w,S=i.dbReadyResolve,C=null,v=!1;return le.race([a,(typeof navigator>"u"?le.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(A){function _(){return indexedDB.databases().finally(A)}w=setInterval(_,100),_()}).finally(function(){return clearInterval(w)}):Promise.resolve()).then(y)]).then(function(){return g(),i.onReadyBeingFired=[],le.resolve(Ss(function(){return n.on.ready.fire(n.vip)})).then(function A(){if(0<i.onReadyBeingFired.length){var _=i.onReadyBeingFired.reduce(J,m);return i.onReadyBeingFired=[],le.resolve(Ss(function(){return _(n.vip)})).then(A)}})}).finally(function(){i.openCanceller===a&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(A){i.dbOpenError=A;try{C&&C.abort()}catch{}return a===i.openCanceller&&n._close(),Je(A)}).finally(function(){i.openComplete=!0,S()}).then(function(){var A;return v&&(A={},n.tables.forEach(function(_){_.schema.indexes.forEach(function(k){k.name&&(A["idb://".concat(n.name,"/").concat(_.name,"/").concat(k.name)]=new ft(-1/0,[[[]]]))}),A["idb://".concat(n.name,"/").concat(_.name,"/")]=A["idb://".concat(n.name,"/").concat(_.name,"/:dels")]=new ft(-1/0,[[[]]])}),bn(kr).fire(A),Ts(A,!0)),n})}function Ps(n){function i(d){return n.next(d)}var o=f(i),a=f(function(d){return n.throw(d)});function f(d){return function(w){var y=d(w),w=y.value;return y.done?w:w&&typeof w.then=="function"?w.then(o,a):h(w)?Promise.all(w).then(o,a):o(w)}}return f(i)()}function Si(n,i,o){for(var a=h(n)?n.slice():[n],f=0;f<o;++f)a.push(i);return a}var Pu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return s(s({},n),{table:function(i){var o=n.table(i),a=o.schema,f={},d=[];function g(v,A,_){var k=Cr(v),P=f[k]=f[k]||[],O=v==null?0:typeof v=="string"?1:v.length,I=0<A,I=s(s({},_),{name:I?"".concat(k,"(virtual-from:").concat(_.name,")"):_.name,lowLevelIndex:_,isVirtual:I,keyTail:A,keyLength:O,extractKey:ys(v),unique:!I&&_.unique});return P.push(I),I.isPrimaryKey||d.push(I),1<O&&g(O===2?v[0]:v.slice(0,O-1),A+1,_),P.sort(function(j,M){return j.keyTail-M.keyTail}),I}i=g(a.primaryKey.keyPath,0,a.primaryKey),f[":id"]=[i];for(var y=0,w=a.indexes;y<w.length;y++){var S=w[y];g(S.keyPath,0,S)}function C(v){var A,_=v.query.index;return _.isVirtual?s(s({},v),{query:{index:_.lowLevelIndex,range:(A=v.query.range,_=_.keyTail,{type:A.type===1?2:A.type,lower:Si(A.lower,A.lowerOpen?n.MAX_KEY:n.MIN_KEY,_),lowerOpen:!0,upper:Si(A.upper,A.upperOpen?n.MIN_KEY:n.MAX_KEY,_),upperOpen:!0})}}):v}return s(s({},o),{schema:s(s({},a),{primaryKey:i,indexes:d,getIndexByKeyPath:function(v){return(v=f[Cr(v)])&&v[0]}}),count:function(v){return o.count(C(v))},query:function(v){return o.query(C(v))},openCursor:function(v){var A=v.query.index,_=A.keyTail,k=A.isVirtual,P=A.keyLength;return k?o.openCursor(C(v)).then(function(I){return I&&O(I)}):o.openCursor(v);function O(I){return Object.create(I,{continue:{value:function(j){j!=null?I.continue(Si(j,v.reverse?n.MAX_KEY:n.MIN_KEY,_)):v.unique?I.continue(I.key.slice(0,P).concat(v.reverse?n.MIN_KEY:n.MAX_KEY,_)):I.continue()}},continuePrimaryKey:{value:function(j,M){I.continuePrimaryKey(Si(j,n.MAX_KEY,_),M)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var j=I.key;return P===1?j[0]:j.slice(0,P)}},value:{get:function(){return I.value}}})}}})}})}};function As(n,i,o,a){return o=o||{},a=a||"",c(n).forEach(function(f){var d,g,y;T(i,f)?(d=n[f],g=i[f],typeof d=="object"&&typeof g=="object"&&d&&g?(y=Tt(d))!==Tt(g)?o[a+f]=i[f]:y==="Object"?As(d,g,o,a+f+"."):d!==g&&(o[a+f]=i[f]):d!==g&&(o[a+f]=i[f])):o[a+f]=void 0}),c(i).forEach(function(f){T(n,f)||(o[a+f]=i[f])}),o}function Is(n,i){return i.type==="delete"?i.keys:i.keys||i.values.map(n.extractKey)}var Au={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return s(s({},n),{table:function(i){var o=n.table(i),a=o.schema.primaryKey;return s(s({},o),{mutate:function(f){var d=ae.trans,g=d.table(i).hook,y=g.deleting,w=g.creating,S=g.updating;switch(f.type){case"add":if(w.fire===m)break;return d._promise("readwrite",function(){return C(f)},!0);case"put":if(w.fire===m&&S.fire===m)break;return d._promise("readwrite",function(){return C(f)},!0);case"delete":if(y.fire===m)break;return d._promise("readwrite",function(){return C(f)},!0);case"deleteRange":if(y.fire===m)break;return d._promise("readwrite",function(){return function v(A,_,k){return o.query({trans:A,values:!1,query:{index:a,range:_},limit:k}).then(function(P){var O=P.result;return C({type:"delete",keys:O,trans:A}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):O.length<k?{failures:[],numFailures:0,lastResult:void 0}:v(A,s(s({},_),{lower:O[O.length-1],lowerOpen:!0}),k)})})}(f.trans,f.range,1e4)},!0)}return o.mutate(f);function C(v){var A,_,k,P=ae.trans,O=v.keys||Is(a,v);if(!O)throw new Error("Keys missing");return(v=v.type==="add"||v.type==="put"?s(s({},v),{keys:O}):s({},v)).type!=="delete"&&(v.values=l([],v.values)),v.keys&&(v.keys=l([],v.keys)),A=o,k=O,((_=v).type==="add"?Promise.resolve([]):A.getMany({trans:_.trans,keys:k,cache:"immutable"})).then(function(I){var j=O.map(function(M,R){var W,ee,G,Y=I[R],ie={onerror:null,onsuccess:null};return v.type==="delete"?y.fire.call(ie,M,Y,P):v.type==="add"||Y===void 0?(W=w.fire.call(ie,M,v.values[R],P),M==null&&W!=null&&(v.keys[R]=M=W,a.outbound||Ee(v.values[R],a.keyPath,M))):(W=As(Y,v.values[R]),(ee=S.fire.call(ie,W,M,Y,P))&&(G=v.values[R],Object.keys(ee).forEach(function(X){T(G,X)?G[X]=ee[X]:Ee(G,X,ee[X])}))),ie});return o.mutate(v).then(function(M){for(var R=M.failures,W=M.results,ee=M.numFailures,M=M.lastResult,G=0;G<O.length;++G){var Y=(W||O)[G],ie=j[G];Y==null?ie.onerror&&ie.onerror(R[G]):ie.onsuccess&&ie.onsuccess(v.type==="put"&&I[G]?v.values[G]:Y)}return{failures:R,results:W,numFailures:ee,lastResult:M}}).catch(function(M){return j.forEach(function(R){return R.onerror&&R.onerror(M)}),Promise.reject(M)})})}}})}})}};function il(n,i,o){try{if(!i||i.keys.length<n.length)return null;for(var a=[],f=0,d=0;f<i.keys.length&&d<n.length;++f)ke(i.keys[f],n[d])===0&&(a.push(o?je(i.values[f]):i.values[f]),++d);return a.length===n.length?a:null}catch{return null}}var Iu={stack:"dbcore",level:-1,create:function(n){return{table:function(i){var o=n.table(i);return s(s({},o),{getMany:function(a){if(!a.cache)return o.getMany(a);var f=il(a.keys,a.trans._cache,a.cache==="clone");return f?le.resolve(f):o.getMany(a).then(function(d){return a.trans._cache={keys:a.keys,values:a.cache==="clone"?je(d):d},d})},mutate:function(a){return a.type!=="add"&&(a.trans._cache=null),o.mutate(a)}})}}}};function sl(n,i){return n.trans.mode==="readonly"&&!!n.subscr&&!n.trans.explicit&&n.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function ol(n,i){switch(n){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ju={stack:"dbcore",level:0,name:"Observability",create:function(n){var i=n.schema.name,o=new ft(n.MIN_KEY,n.MAX_KEY);return s(s({},n),{transaction:function(a,f,d){if(ae.subscr&&f!=="readonly")throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ae.querier));return n.transaction(a,f,d)},table:function(a){var f=n.table(a),d=f.schema,g=d.primaryKey,v=d.indexes,y=g.extractKey,w=g.outbound,S=g.autoIncrement&&v.filter(function(_){return _.compound&&_.keyPath.includes(g.keyPath)}),C=s(s({},f),{mutate:function(_){function k(X){return X="idb://".concat(i,"/").concat(a,"/").concat(X),M[X]||(M[X]=new ft)}var P,O,I,j=_.trans,M=_.mutatedParts||(_.mutatedParts={}),R=k(""),W=k(":dels"),ee=_.type,ie=_.type==="deleteRange"?[_.range]:_.type==="delete"?[_.keys]:_.values.length<50?[Is(g,_).filter(function(X){return X}),_.values]:[],G=ie[0],Y=ie[1],ie=_.trans._cache;return h(G)?(R.addKeys(G),(ie=ee==="delete"||G.length===Y.length?il(G,ie):null)||W.addKeys(G),(ie||Y)&&(P=k,O=ie,I=Y,d.indexes.forEach(function(X){var ue=P(X.name||"");function _e(Oe){return Oe!=null?X.extractKey(Oe):null}function Se(Oe){return X.multiEntry&&h(Oe)?Oe.forEach(function(At){return ue.addKey(At)}):ue.addKey(Oe)}(O||I).forEach(function(Oe,dt){var ve=O&&_e(O[dt]),dt=I&&_e(I[dt]);ke(ve,dt)!==0&&(ve!=null&&Se(ve),dt!=null&&Se(dt))})}))):G?(Y={from:(Y=G.lower)!==null&&Y!==void 0?Y:n.MIN_KEY,to:(Y=G.upper)!==null&&Y!==void 0?Y:n.MAX_KEY},W.add(Y),R.add(Y)):(R.add(o),W.add(o),d.indexes.forEach(function(X){return k(X.name).add(o)})),f.mutate(_).then(function(X){return!G||_.type!=="add"&&_.type!=="put"||(R.addKeys(X.results),S&&S.forEach(function(ue){for(var _e=_.values.map(function(ve){return ue.extractKey(ve)}),Se=ue.keyPath.findIndex(function(ve){return ve===g.keyPath}),Oe=0,At=X.results.length;Oe<At;++Oe)_e[Oe][Se]=X.results[Oe];k(ue.name).addKeys(_e)})),j.mutatedParts=_i(j.mutatedParts||{},M),X})}}),v=function(k){var P=k.query,k=P.index,P=P.range;return[k,new ft((k=P.lower)!==null&&k!==void 0?k:n.MIN_KEY,(P=P.upper)!==null&&P!==void 0?P:n.MAX_KEY)]},A={get:function(_){return[g,new ft(_.key)]},getMany:function(_){return[g,new ft().addKeys(_.keys)]},count:v,query:v,openCursor:v};return c(A).forEach(function(_){C[_]=function(k){var P=ae.subscr,O=!!P,I=sl(ae,f)&&ol(_,k)?k.obsSet={}:P;if(O){var j=function(Y){return Y="idb://".concat(i,"/").concat(a,"/").concat(Y),I[Y]||(I[Y]=new ft)},M=j(""),R=j(":dels"),P=A[_](k),O=P[0],P=P[1];if((_==="query"&&O.isPrimaryKey&&!k.values?R:j(O.name||"")).add(P),!O.isPrimaryKey){if(_!=="count"){var W=_==="query"&&w&&k.values&&f.query(s(s({},k),{values:!1}));return f[_].apply(this,arguments).then(function(Y){if(_==="query"){if(w&&k.values)return W.then(function(_e){return _e=_e.result,M.addKeys(_e),Y});var ie=k.values?Y.result.map(y):Y.result;(k.values?M:R).addKeys(ie)}else if(_==="openCursor"){var X=Y,ue=k.values;return X&&Object.create(X,{key:{get:function(){return R.addKey(X.primaryKey),X.key}},primaryKey:{get:function(){var _e=X.primaryKey;return R.addKey(_e),_e}},value:{get:function(){return ue&&M.addKey(X.primaryKey),X.value}}})}return Y})}R.add(o)}}return f[_].apply(this,arguments)}}),C}})}};function ll(n,i,o){if(o.numFailures===0)return i;if(i.type==="deleteRange")return null;var a=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return o.numFailures===a?null:(i=s({},i),h(i.keys)&&(i.keys=i.keys.filter(function(f,d){return!(d in o.failures)})),"values"in i&&h(i.values)&&(i.values=i.values.filter(function(f,d){return!(d in o.failures)})),i)}function js(n,i){return o=n,((a=i).lower===void 0||(a.lowerOpen?0<ke(o,a.lower):0<=ke(o,a.lower)))&&(n=n,(i=i).upper===void 0||(i.upperOpen?ke(n,i.upper)<0:ke(n,i.upper)<=0));var o,a}function al(n,i,A,a,f,d){if(!A||A.length===0)return n;var g=i.query.index,y=g.multiEntry,w=i.query.range,S=a.schema.primaryKey.extractKey,C=g.extractKey,v=(g.lowLevelIndex||g).extractKey,A=A.reduce(function(_,k){var P=_,O=[];if(k.type==="add"||k.type==="put")for(var I=new ft,j=k.values.length-1;0<=j;--j){var M,R=k.values[j],W=S(R);I.hasKey(W)||(M=C(R),(y&&h(M)?M.some(function(X){return js(X,w)}):js(M,w))&&(I.addKey(W),O.push(R)))}switch(k.type){case"add":var ee=new ft().addKeys(i.values?_.map(function(ue){return S(ue)}):_),P=_.concat(i.values?O.filter(function(ue){return ue=S(ue),!ee.hasKey(ue)&&(ee.addKey(ue),!0)}):O.map(function(ue){return S(ue)}).filter(function(ue){return!ee.hasKey(ue)&&(ee.addKey(ue),!0)}));break;case"put":var G=new ft().addKeys(k.values.map(function(ue){return S(ue)}));P=_.filter(function(ue){return!G.hasKey(i.values?S(ue):ue)}).concat(i.values?O:O.map(function(ue){return S(ue)}));break;case"delete":var Y=new ft().addKeys(k.keys);P=_.filter(function(ue){return!Y.hasKey(i.values?S(ue):ue)});break;case"deleteRange":var ie=k.range;P=_.filter(function(ue){return!js(S(ue),ie)})}return P},n);return A===n?n:(A.sort(function(_,k){return ke(v(_),v(k))||ke(S(_),S(k))}),i.limit&&i.limit<1/0&&(A.length>i.limit?A.length=i.limit:n.length===i.limit&&A.length<i.limit&&(f.dirty=!0)),d?Object.freeze(A):A)}function ul(n,i){return ke(n.lower,i.lower)===0&&ke(n.upper,i.upper)===0&&!!n.lowerOpen==!!i.lowerOpen&&!!n.upperOpen==!!i.upperOpen}function Mu(n,i){return function(o,a,f,d){if(o===void 0)return a!==void 0?-1:0;if(a===void 0)return 1;if((a=ke(o,a))===0){if(f&&d)return 0;if(f)return 1;if(d)return-1}return a}(n.lower,i.lower,n.lowerOpen,i.lowerOpen)<=0&&0<=function(o,a,f,d){if(o===void 0)return a!==void 0?1:0;if(a===void 0)return-1;if((a=ke(o,a))===0){if(f&&d)return 0;if(f)return-1;if(d)return 1}return a}(n.upper,i.upper,n.upperOpen,i.upperOpen)}function Du(n,i,o,a){n.subscribers.add(o),a.addEventListener("abort",function(){var f,d;n.subscribers.delete(o),n.subscribers.size===0&&(f=n,d=i,setTimeout(function(){f.subscribers.size===0&&Ce(d,f)},3e3))})}var Ku={stack:"dbcore",level:0,name:"Cache",create:function(n){var i=n.schema.name;return s(s({},n),{transaction:function(o,a,f){var d,g,y=n.transaction(o,a,f);return a==="readwrite"&&(g=(d=new AbortController).signal,f=function(w){return function(){if(d.abort(),a==="readwrite"){for(var S=new Set,C=0,v=o;C<v.length;C++){var A=v[C],_=Kn["idb://".concat(i,"/").concat(A)];if(_){var k=n.table(A),P=_.optimisticOps.filter(function(ue){return ue.trans===y});if(y._explicit&&w&&y.mutatedParts)for(var O=0,I=Object.values(_.queries.query);O<I.length;O++)for(var j=0,M=(ee=I[O]).slice();j<M.length;j++)ks((G=M[j]).obsSet,y.mutatedParts)&&(Ce(ee,G),G.subscribers.forEach(function(ue){return S.add(ue)}));else if(0<P.length){_.optimisticOps=_.optimisticOps.filter(function(ue){return ue.trans!==y});for(var R=0,W=Object.values(_.queries.query);R<W.length;R++)for(var ee,G,Y,ie=0,X=(ee=W[R]).slice();ie<X.length;ie++)(G=X[ie]).res!=null&&y.mutatedParts&&(w&&!G.dirty?(Y=Object.isFrozen(G.res),Y=al(G.res,G.req,P,k,G,Y),G.dirty?(Ce(ee,G),G.subscribers.forEach(function(ue){return S.add(ue)})):Y!==G.res&&(G.res=Y,G.promise=le.resolve({result:Y}))):(G.dirty&&Ce(ee,G),G.subscribers.forEach(function(ue){return S.add(ue)})))}}}S.forEach(function(ue){return ue()})}}},y.addEventListener("abort",f(!1),{signal:g}),y.addEventListener("error",f(!1),{signal:g}),y.addEventListener("complete",f(!0),{signal:g})),y},table:function(o){var a=n.table(o),f=a.schema.primaryKey;return s(s({},a),{mutate:function(d){var g=ae.trans;if(f.outbound||g.db._options.cache==="disabled"||g.explicit||g.idbtrans.mode!=="readwrite")return a.mutate(d);var y=Kn["idb://".concat(i,"/").concat(o)];return y?(g=a.mutate(d),d.type!=="add"&&d.type!=="put"||!(50<=d.values.length||Is(f,d).some(function(w){return w==null}))?(y.optimisticOps.push(d),d.mutatedParts&&xi(d.mutatedParts),g.then(function(w){0<w.numFailures&&(Ce(y.optimisticOps,d),(w=ll(0,d,w))&&y.optimisticOps.push(w),d.mutatedParts&&xi(d.mutatedParts))}),g.catch(function(){Ce(y.optimisticOps,d),d.mutatedParts&&xi(d.mutatedParts)})):g.then(function(w){var S=ll(0,s(s({},d),{values:d.values.map(function(C,v){var A;return w.failures[v]?C:(C=(A=f.keyPath)!==null&&A!==void 0&&A.includes(".")?je(C):s({},C),Ee(C,f.keyPath,w.results[v]),C)})}),w);y.optimisticOps.push(S),queueMicrotask(function(){return d.mutatedParts&&xi(d.mutatedParts)})}),g):a.mutate(d)},query:function(d){if(!sl(ae,a)||!ol("query",d))return a.query(d);var g=((S=ae.trans)===null||S===void 0?void 0:S.db._options.cache)==="immutable",v=ae,y=v.requery,w=v.signal,S=function(k,P,O,I){var j=Kn["idb://".concat(k,"/").concat(P)];if(!j)return[];if(!(P=j.queries[O]))return[null,!1,j,null];var M=P[(I.query?I.query.index.name:null)||""];if(!M)return[null,!1,j,null];switch(O){case"query":var R=M.find(function(W){return W.req.limit===I.limit&&W.req.values===I.values&&ul(W.req.query.range,I.query.range)});return R?[R,!0,j,M]:[M.find(function(W){return("limit"in W.req?W.req.limit:1/0)>=I.limit&&(!I.values||W.req.values)&&Mu(W.req.query.range,I.query.range)}),!1,j,M];case"count":return R=M.find(function(W){return ul(W.req.query.range,I.query.range)}),[R,!!R,j,M]}}(i,o,"query",d),C=S[0],v=S[1],A=S[2],_=S[3];return C&&v?C.obsSet=d.obsSet:(v=a.query(d).then(function(k){var P=k.result;if(C&&(C.res=P),g){for(var O=0,I=P.length;O<I;++O)Object.freeze(P[O]);Object.freeze(P)}else k.result=je(P);return k}).catch(function(k){return _&&C&&Ce(_,C),Promise.reject(k)}),C={obsSet:d.obsSet,promise:v,subscribers:new Set,type:"query",req:d,dirty:!1},_?_.push(C):(_=[C],(A=A||(Kn["idb://".concat(i,"/").concat(o)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[d.query.index.name||""]=_)),Du(C,_,y,w),C.promise.then(function(k){return{result:al(k.result,d,A?.optimisticOps,a,C,g)}})}})}})}};function Oi(n,i){return new Proxy(n,{get:function(o,a,f){return a==="db"?i:Reflect.get(o,a,f)}})}var tn=(Xe.prototype.version=function(n){if(isNaN(n)||n<.1)throw new de.Type("Given version is not a positive number");if(n=Math.round(10*n)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var i=this._versions,o=i.filter(function(a){return a._cfg.version===n})[0];return o||(o=new this.Version(n),i.push(o),i.sort(Ou),o.stores({}),this._state.autoSchema=!1,o)},Xe.prototype._whenReady=function(n){var i=this;return this.idbdb&&(this._state.openComplete||ae.letThrough||this._vip)?n():new le(function(o,a){if(i._state.openComplete)return a(new de.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void a(new de.DatabaseClosed);i.open().catch(m)}i._state.dbReadyPromise.then(o,a)}).then(n)},Xe.prototype.use=function(n){var i=n.stack,o=n.create,a=n.level,f=n.name;return f&&this.unuse({stack:i,name:f}),n=this._middlewares[i]||(this._middlewares[i]=[]),n.push({stack:i,create:o,level:a??10,name:f}),n.sort(function(d,g){return d.level-g.level}),this},Xe.prototype.unuse=function(n){var i=n.stack,o=n.name,a=n.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(f){return a?f.create!==a:!!o&&f.name!==o})),this},Xe.prototype.open=function(){var n=this;return jn(Ye,function(){return Tu(n)})},Xe.prototype._close=function(){var n=this._state,i=nr.indexOf(this);if(0<=i&&nr.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new le(function(o){n.dbReadyResolve=o}),n.openCanceller=new le(function(o,a){n.cancelOpen=a}))},Xe.prototype.close=function(o){var i=(o===void 0?{disableAutoOpen:!0}:o).disableAutoOpen,o=this._state;i?(o.isBeingOpened&&o.cancelOpen(new de.DatabaseClosed),this._close(),o.autoOpen=!1,o.dbOpenError=new de.DatabaseClosed):(this._close(),o.autoOpen=this._options.autoOpen||o.isBeingOpened,o.openComplete=!1,o.dbOpenError=null)},Xe.prototype.delete=function(n){var i=this;n===void 0&&(n={disableAutoOpen:!0});var o=0<arguments.length&&typeof arguments[0]!="object",a=this._state;return new le(function(f,d){function g(){i.close(n);var y=i._deps.indexedDB.deleteDatabase(i.name);y.onsuccess=Ue(function(){var w,S,C;w=i._deps,S=i.name,C=w.indexedDB,w=w.IDBKeyRange,xs(C)||S===ui||_s(C,w).delete(S).catch(m),f()}),y.onerror=Wt(d),y.onblocked=i._fireOnBlocked}if(o)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");a.isBeingOpened?a.dbReadyPromise.then(g):g()})},Xe.prototype.backendDB=function(){return this.idbdb},Xe.prototype.isOpen=function(){return this.idbdb!==null},Xe.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},Xe.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Xe.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Xe.prototype,"tables",{get:function(){var n=this;return c(this._allTables).map(function(i){return n._allTables[i]})},enumerable:!1,configurable:!0}),Xe.prototype.transaction=function(){var n=(function(i,o,a){var f=arguments.length;if(f<2)throw new de.InvalidArgument("Too few arguments");for(var d=new Array(f-1);--f;)d[f-1]=arguments[f];return a=d.pop(),[i,xe(d),a]}).apply(this,arguments);return this._transaction.apply(this,n)},Xe.prototype._transaction=function(n,i,o){var a=this,f=ae.trans;f&&f.db===this&&n.indexOf("!")===-1||(f=null);var d,g,y=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");try{if(g=i.map(function(S){if(S=S instanceof a.Table?S.name:S,typeof S!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return S}),n=="r"||n===us)d=us;else{if(n!="rw"&&n!=cs)throw new de.InvalidArgument("Invalid transaction mode: "+n);d=cs}if(f){if(f.mode===us&&d===cs){if(!y)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&g.forEach(function(S){if(f&&f.storeNames.indexOf(S)===-1){if(!y)throw new de.SubTransaction("Table "+S+" not included in parent transaction.");f=null}}),y&&f&&!f.active&&(f=null)}}catch(S){return f?f._promise(null,function(C,v){v(S)}):Je(S)}var w=(function S(C,v,A,_,k){return le.resolve().then(function(){var P=ae.transless||ae,O=C._createTransaction(v,A,C._dbSchema,_);if(O.explicit=!0,P={trans:O,transless:P},_)O.idbtrans=_.idbtrans;else try{O.create(),O.idbtrans._explicit=!0,C._state.PR1398_maxLoop=3}catch(M){return M.name===dn.InvalidState&&C.isOpen()&&0<--C._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),C.close({disableAutoOpen:!1}),C.open().then(function(){return S(C,v,A,null,k)})):Je(M)}var I,j=Ft(k);return j&&tr(),P=le.follow(function(){var M;(I=k.call(O,O))&&(j?(M=mn.bind(null,null),I.then(M,M)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=Ps(I)))},P),(I&&typeof I.then=="function"?le.resolve(I).then(function(M){return O.active?M:Je(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):P.then(function(){return I})).then(function(M){return _&&O._resolve(),O._completion.then(function(){return M})}).catch(function(M){return O._reject(M),Je(M)})})}).bind(null,this,d,g,f,o);return f?f._promise(d,w,"lock"):ae.trans?jn(ae.transless,function(){return a._whenReady(w)}):this._whenReady(w)},Xe.prototype.table=function(n){if(!T(this._allTables,n))throw new de.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},Xe);function Xe(n,i){var o=this;this._middlewares={},this.verno=0;var a=Xe.dependencies;this._options=i=s({addons:Xe.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},a=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,d,g,y,w,S={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:m,dbReadyPromise:null,cancelOpen:m,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};S.dbReadyPromise=new le(function(v){S.dbReadyResolve=v}),S.openCanceller=new le(function(v,A){S.cancelOpen=A}),this._state=S,this.name=n,this.on=_r(this,"populate","blocked","versionchange","close",{ready:[J,m]}),this.on.ready.subscribe=Q(this.on.ready.subscribe,function(v){return function(A,_){Xe.vip(function(){var k,P=o._state;P.openComplete?(P.dbOpenError||le.resolve().then(A),_&&v(A)):P.onReadyBeingFired?(P.onReadyBeingFired.push(A),_&&v(A)):(v(A),k=o,_||v(function O(){k.on.ready.unsubscribe(A),k.on.ready.unsubscribe(O)}))})}}),this.Collection=(f=this,xr(yu.prototype,function(I,O){this.db=f;var _=Fo,k=null;if(O)try{_=O()}catch(j){k=j}var P=I._ctx,O=P.table,I=O.hook.reading.fire;this._ctx={table:O,index:P.index,isPrimKey:!P.index||O.schema.primKey.keyPath&&P.index===O.schema.primKey.name,range:_,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:k,or:P.or,valueMapper:I!==x?I:null}})),this.Table=(d=this,xr(Ho.prototype,function(v,A,_){this.db=d,this._tx=_,this.name=v,this.schema=A,this.hook=d._allTables[v]?d._allTables[v].hook:_r(null,{creating:[N,m],reading:[D,x],updating:[oe,m],deleting:[q,m]})})),this.Transaction=(g=this,xr(wu.prototype,function(v,A,_,k,P){var O=this;this.db=g,this.mode=v,this.storeNames=A,this.schema=_,this.chromeTransactionDurability=k,this.idbtrans=null,this.on=_r(this,"complete","error","abort"),this.parent=P||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new le(function(I,j){O._resolve=I,O._reject=j}),this._completion.then(function(){O.active=!1,O.on.complete.fire()},function(I){var j=O.active;return O.active=!1,O.on.error.fire(I),O.parent?O.parent._reject(I):j&&O.idbtrans&&O.idbtrans.abort(),Je(I)})})),this.Version=(y=this,xr(Cu.prototype,function(v){this.db=y,this._cfg={version:v,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,xr(Yo.prototype,function(v,A,_){if(this.db=w,this._ctx={table:v,index:A===":id"?null:A,or:_},this._cmp=this._ascending=ke,this._descending=function(k,P){return ke(P,k)},this._max=function(k,P){return 0<ke(k,P)?k:P},this._min=function(k,P){return ke(k,P)<0?k:P},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function(v){0<v.newVersion?console.warn("Another connection wants to upgrade database '".concat(o.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(o.name,"'. Closing db now to resume the delete request.")),o.close({disableAutoOpen:!1})}),this.on("blocked",function(v){!v.newVersion||v.newVersion<v.oldVersion?console.warn("Dexie.delete('".concat(o.name,"') was blocked")):console.warn("Upgrade '".concat(o.name,"' blocked by other connection holding version ").concat(v.oldVersion/10))}),this._maxKey=Er(i.IDBKeyRange),this._createTransaction=function(v,A,_,k){return new o.Transaction(v,A,_,o._options.chromeTransactionDurability,k)},this._fireOnBlocked=function(v){o.on("blocked").fire(v),nr.filter(function(A){return A.name===o.name&&A!==o&&!A._state.vcFired}).map(function(A){return A.on("versionchange").fire(v)})},this.use(Iu),this.use(Ku),this.use(ju),this.use(Pu),this.use(Au);var C=new Proxy(this,{get:function(v,A,_){if(A==="_vip")return!0;if(A==="table")return function(P){return Oi(o.table(P),C)};var k=Reflect.get(v,A,_);return k instanceof Ho?Oi(k,C):A==="tables"?k.map(function(P){return Oi(P,C)}):A==="_createTransaction"?function(){return Oi(k.apply(this,arguments),C)}:k}});this.vip=C,a.forEach(function(v){return v(o)})}var ki,Rt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ru=(Ms.prototype.subscribe=function(n,i,o){return this._subscribe(n&&typeof n!="function"?n:{next:n,error:i,complete:o})},Ms.prototype[Rt]=function(){return this},Ms);function Ms(n){this._subscribe=n}try{ki={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{ki={indexedDB:null,IDBKeyRange:null}}function cl(n){var i,o=!1,a=new Ru(function(f){var d=Ft(n),g,y=!1,w={},S={},C={get closed(){return y},unsubscribe:function(){y||(y=!0,g&&g.abort(),v&&bn.storagemutated.unsubscribe(_))}};f.start&&f.start(C);var v=!1,A=function(){return as(k)},_=function(P){_i(w,P),ks(S,w)&&A()},k=function(){var P,O,I;!y&&ki.indexedDB&&(w={},P={},g&&g.abort(),g=new AbortController,I=function(j){var M=Zn();try{d&&tr();var R=gn(n,j);return R=d?R.finally(mn):R}finally{M&&er()}}(O={subscr:P,signal:g.signal,requery:A,querier:n,trans:null}),Promise.resolve(I).then(function(j){o=!0,i=j,y||O.signal.aborted||(w={},function(M){for(var R in M)if(T(M,R))return;return 1}(S=P)||v||(bn(kr,_),v=!0),as(function(){return!y&&f.next&&f.next(j)}))},function(j){o=!1,["DatabaseClosedError","AbortError"].includes(j?.name)||y||as(function(){y||f.error&&f.error(j)})}))};return setTimeout(A,0),C});return a.hasValue=function(){return o},a.getValue=function(){return i},a}var Rn=tn;function Ds(n){var i=wn;try{wn=!0,bn.storagemutated.fire(n),Ts(n,!0)}finally{wn=i}}K(Rn,s(s({},wr),{delete:function(n){return new Rn(n,{addons:[]}).delete()},exists:function(n){return new Rn(n,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return i=Rn.dependencies,o=i.indexedDB,i=i.IDBKeyRange,(xs(o)?Promise.resolve(o.databases()).then(function(a){return a.map(function(f){return f.name}).filter(function(f){return f!==ui})}):_s(o,i).toCollection().primaryKeys()).then(n)}catch{return Je(new de.MissingAPI)}var i,o},defineClass:function(){return function(n){p(this,n)}},ignoreTransaction:function(n){return ae.trans?jn(ae.transless,n):n()},vip:Ss,async:function(n){return function(){try{var i=Ps(n.apply(this,arguments));return i&&typeof i.then=="function"?i:le.resolve(i)}catch(o){return Je(o)}}},spawn:function(n,i,o){try{var a=Ps(n.apply(o,i||[]));return a&&typeof a.then=="function"?a:le.resolve(a)}catch(f){return Je(f)}},currentTransaction:{get:function(){return ae.trans||null}},waitFor:function(n,i){return i=le.resolve(typeof n=="function"?Rn.ignoreTransaction(n):n).timeout(i||6e4),ae.trans?ae.trans.waitFor(i):i},Promise:le,debug:{get:function(){return B},set:function(n){he(n)}},derive:H,extend:p,props:K,override:Q,Events:_r,on:bn,liveQuery:cl,extendObservabilitySet:_i,getByKeyPath:Ie,setByKeyPath:Ee,delByKeyPath:function(n,i){typeof i=="string"?Ee(n,i,void 0):"length"in i&&[].map.call(i,function(o){Ee(n,o,void 0)})},shallowClone:tt,deepClone:je,getObjectDiff:As,cmp:ke,asap:ye,minKey:-1/0,addons:[],connections:nr,errnames:dn,dependencies:ki,cache:Kn,semVer:"4.0.11",version:"4.0.11".split(".").map(function(n){return parseInt(n)}).reduce(function(n,i,o){return n+i/Math.pow(10,2*o)})})),Rn.maxKey=Er(Rn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(bn(kr,function(n){wn||(n=new CustomEvent(ps,{detail:n}),wn=!0,dispatchEvent(n),wn=!1)}),addEventListener(ps,function(n){n=n.detail,wn||Ds(n)}));var sr,wn=!1,fl=function(){};return typeof BroadcastChannel<"u"&&((fl=function(){(sr=new BroadcastChannel(ps)).onmessage=function(n){return n.data&&Ds(n.data)}})(),typeof sr.unref=="function"&&sr.unref(),bn(kr,function(n){wn||sr.postMessage(n)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(n){if(!tn.disableBfCache&&n.persisted){B&&console.debug("Dexie: handling persisted pagehide"),sr?.close();for(var i=0,o=nr;i<o.length;i++)o[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(n){!tn.disableBfCache&&n.persisted&&(B&&console.debug("Dexie: handling persisted pageshow"),fl(),Ds({all:new ft(-1/0,[[]])}))})),le.rejectionMapper=function(n,i){return!n||n instanceof Zt||n instanceof TypeError||n instanceof SyntaxError||!n.name||!hn[n.name]?n:(i=new hn[n.name](i||n.message,n),"stack"in n&&ne(i,"stack",{get:function(){return this.inner.stack}}),i)},he(B),s(tn,Object.freeze({__proto__:null,Dexie:tn,liveQuery:cl,Entity:No,cmp:ke,PropModification:Sr,replacePrefix:function(n,i){return new Sr({replacePrefix:[n,i]})},add:function(n){return new Sr({add:n})},remove:function(n){return new Sr({remove:n})},default:tn,RangeSet:ft,mergeRanges:Pr,rangesOverlap:el}),{default:tn}),tn})}(Ki)),Ki.exports}var $d=Ld();const co=Kd($d),Ql=Symbol.for("Dexie"),Wi=globalThis[Ql]||(globalThis[Ql]=co);if(co.semVer!==Wi.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${co.semVer} and ${Wi.semVer}`);const{liveQuery:Dh,mergeRanges:Kh,rangesOverlap:Rh,RangeSet:Lh,cmp:$h,Entity:Bh,PropModification:Fh,replacePrefix:Nh,add:Vh,remove:qh}=Wi,Nr={};function cu(e,t){Nr[e]||(Nr[e]=[]),Nr[e].push(t)}function zn(e,t=void 0){Nr[e]!==void 0&&Nr[e].forEach(r=>{r(t)})}const Yn=new Wi("ServersDatabase");Yn.version(1).stores({servers:"name, url, translocatorsGeojson, landmarksGeojson"});const Ri="TOPS (default)",Bd="https://map.tops.vintagestory.at",Fd=async()=>(await Yn.servers.toArray()).map(e=>e.name),se=Xi({serverList:[],currentServer:"",translocatorsGeojson:null,landmarksGeojson:null,mapLink:"",isEditingServer:!1,zoom:5,coords:null,otherCoords:null,angleIn:null,angleOut:null,showMapOverlay:!1,url:""}),fo=e=>{if(!e)return"";let t=e;!e.startsWith("https://")&&!e.startsWith("http://")&&(t="https://"+e);try{return new URL(t).origin}catch(r){return console.log(r),""}},fu=async e=>{localStorage.setItem("currentServer",e);const t=await Yn.servers.where("name").equals(e).first();se.translocatorsGeojson=t?.translocatorsGeojson,se.landmarksGeojson=t?.landmarksGeojson,se.mapLink=fo(t?.url)};Wn(()=>se.currentServer,fu);cu("serverListUpdated",async function(e={}){const t=e.currentServer||localStorage.getItem("currentServer");se.serverList=await Fd(),t&&se.serverList.indexOf(t)!==-1?se.currentServer=t:(!t||se.serverList.indexOf(t)===-1)&&(se.currentServer=se.serverList[0]),fu(se.currentServer)});Yn.servers.toArray().then(async e=>{try{const[t,r]=await Promise.all([fetch("translocators.geojson"),fetch("landmarks.geojson")]),[s,l]=await Promise.all([t.json(),r.json()]);await Yn.servers.put({name:Ri,url:Bd,translocatorsGeojson:s,landmarksGeojson:l})}catch(t){console.error("Error fetching or storing geojson files:",t)}zn("serverListUpdated")});const Zl=vr({__name:"CoordinateInput",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,s=t,l=$e([]),u=$e(null),c=$e(""),h=$e(!1),p=$e(!1);Wn(()=>se.landmarksGeojson,F=>{if(!F){l.value=[];return}l.value=F.features.map(L=>{const $=[L.geometry.coordinates[0],-L.geometry.coordinates[1]];return{name:L.properties.label,coordinates:$}})},{immediate:!0});const E=Yr({get:()=>r.modelValue,set:F=>{s("update:modelValue",F)}}),b=({name:F,coordinates:L})=>F?`${F} — [${L}]`:L,T=F=>{const L=/^(-?)(\d+)\s*[, ]\s*(-?)(\d+)$/,$=F.match(L);if(!$)return null;let Q=Number($[2]);$[1]==="-"&&(Q*=-1);let Z=Number($[4]);return $[3]==="-"&&(Z*=-1),[Q,Z]},K=F=>{const L=T(F);L?(h.value=!0,c.value=F,E.value={name:F,coordinates:L}):h.value=!1},U=F=>{const L=T(F);if(!L)return;if(E.value&&E.value.coordinates){const Q=E.value.coordinates;if(Q[0]===L[0]&&Q[1]===L[1])return}const $={name:L?.join(", "),coordinates:L};E.value=$,c.value=`${L[0]}, ${L[1]}`},ne=()=>{p.value=!0,Co(()=>{if(u.value){const F=E.value?.coordinates;F&&(u.value.search=`${F[0]}, ${F[1]}`)}})},H=()=>{p.value=!1};return(F,L)=>(Pe(),Gn(Re(Do),{ref_key:"multiselectRef",ref:u,modelValue:E.value,"onUpdate:modelValue":L[0]||(L[0]=$=>E.value=$),"option-height":32,options:l.value,disabled:Re(se).isEditingServer,"custom-label":b,searchable:!0,preserveSearch:!0,taggable:h.value,clearOnSelect:!1,onTag:U,onOpen:ne,onClose:H,onSearchChange:K,"tag-placeholder":"",placeholder:"Find landmark or enter coordinates",label:"name","track-by":"name","aria-label":"pick a value"},null,8,["modelValue","options","disabled","taggable"]))}}),Jn=(e,t)=>{const r=e.__vccOpts||e;for(const[s,l]of t)r[s]=l;return r},Nd={},Vd={class:"tl-navi-icon tl-navi-icon-copy",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 63 63",width:"16",height:"16"};function qd(e,t){return Pe(),Le("svg",Vd,t[0]||(t[0]=[z("defs",null,null,-1),z("g",null,[z("g",null,[z("g",{transform:"matrix(1,0,0,1,9.935960727,2.929834573)"},[z("path",{d:"M4.801107,5.415099L 31.705743,5.415099 L 31.705743,46.178014 L 4.801107,46.178014 L 4.801107,5.415099 Z",transform:"matrix(1,0,0,1,0,0)",fill:"#fefefe",stroke:"#000000","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})]),z("g",{transform:"matrix(1,0,0,1,9.935960727,2.929834573)"},[z("path",{d:"M13.276165,13.058145L 40.1808,13.058145 L 40.1808,53.821061 L 13.276165,53.821061 L 13.276165,13.058145 Z",transform:"matrix(1,0,0,1,0,0)",fill:"#fefefe",stroke:"#000000","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1)]))}const Hd=Jn(Nd,[["render",qd]]),Ud={},Wd={class:"tl-navi-icon tl-navi-icon-translocator",width:"16",height:"16",viewBox:"0 0 10 10",version:"1.1",id:"svg1","inkscape:version":"1.4.2 (f4327f4, 2025-05-13)","sodipodi:docname":"tl.svg","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"};function Gd(e,t){return Pe(),Le("svg",Wd,t[0]||(t[0]=[z("defs",null,null,-1),z("g",null,[z("path",{style:{fill:"none","fill-opacity":"1","stroke-width":"0.334522","stroke-opacity":"1"},d:"m 9.2591212,5.9260728 c 0,-4.5448839 -3.1221819,-4.95275825 -4.4915599,-4.95275825 -1.3693779,0 -3.5603827,2.56378075 -3.6151578,4.02047445 -0.054775,1.4566936 1.0955025,3.7291357 2.9030815,3.7291357 1.8075789,0 4.4367847,-1.0488194 4.217684,-2.6803165 C 8.0540688,4.4111115 7.9992937,2.8378826 6.2464898,2.5465436 4.4936859,2.2552048 2.9297065,1.9542109 2.6010557,3.3526368 2.2724049,4.7510626 1.426279,5.0520567 2.247906,6.159144 3.0695325,7.2662311 3.7268341,7.3244988 4.7675613,7.2079634 5.8082888,7.091428 6.9037911,6.5087503 6.9037911,5.4016632 6.9037911,4.2945761 6.7394658,3.8284342 5.3700879,3.5370953 4.0007099,3.2457568 3.4529585,2.6048113 3.124308,3.595363 2.7956571,4.5859147 2.5217814,5.6930021 3.179083,5.8095374 3.8363843,5.9260728 4.1650352,5.5181986 4.931887,5.4016632 5.6987384,5.2851278 5.8082888,4.1780407 4.8223364,4.2945761"})],-1)]))}const zd=Jn(Ud,[["render",Gd]]),ho=e=>se.mapLink===""?"":e!==null?`${se.mapLink}/?x=${e[0]}&y=${e[1]}&zoom=${se.zoom}`:"",Yd={key:0,class:"list"},Jd={id:"path"},Xd=vr({__name:"PathOutput",props:{path:{}},setup(e){const t=e,r=$e(null),s=$e(null),l=$e(),u=$e(!1);function c($,Q){return $===null||Q===null?!1:$[0]===Q[0]&&$[1]===Q[1]}function h($,Q){const Z=[Q[0]-$[0],Q[1]-$[1]];return Z[1]>0?Z[0]===0?Math.PI*.5:Math.atan2(-Z[1],Z[0]):Z[0]===0?Math.PI*1.5:Math.atan2(-Z[1],Z[0])}function p($){return $===0||c(t.path[$],t.path[$-1])?null:h(t.path[$-1],t.path[$])}function E($){return $===t.path.length-1||c(t.path[$],t.path[$+1])?null:h(t.path[$],t.path[$+1])}function b($){$===null?(zn("set-display-point",null),se.otherCoords=null):($%2===0?(se.angleOut=E($),se.angleIn=null,se.otherCoords=t.path[$+1]):(se.angleOut=null,se.angleIn=p($),se.otherCoords=t.path[$-1]),zn("set-display-point",t.path[$]))}function T($,Q){const Z=`/waypoint addati spiral ${$[0]} 110 ${-$[1]} false purple TL to ${Q[0]}, ${-Q[1]}`;l.value&&(l.value.value=Z,l.value.select(),l.value.setSelectionRange(0,99999),navigator.clipboard.writeText(l.value.value))}const K=$=>{const Q=t.path[Number($.pointId)][0],Z=-t.path[Number($.pointId)][1],ye=u.value?t.path[Number($.pointId)][2]:null;return`${Q},${ye?ye+",":""}${Z}`},U=$=>{const Q=Number($.pointId),Z=t.path[Q],ye=()=>{const me=window.getSelection();if(me&&me.toString().length>0)return;const xe=Number(Q);xe===r.value?(r.value=null,s.value=null,b(null)):(r.value=xe,s.value=Z,b(xe))},Ie=()=>{const me=t.path[Q],xe=ho(me);if(xe===""){alert("Map URL is not set in settings");return}window.open(xe,"_blank")};let Ee=null;Q>0&&Q!==t.path.length-1&&(Ee=ar("a",{onClick:()=>{const me=Q%2?Q+1:Q-1;T(t.path[Q],t.path[me])},title:"Copy waypoint command"},[ar(Hd)]));const tt=Q===0||Q===t.path.length-1?null:ar(zd);return ar("span",{},[ar("span",{onClick:ye,onMousedown:me=>{me.button===1&&Ie()},class:{"coord-clickie":!0,"coord-clickie-active":c(s.value,Z)}},[tt,K($)]),Ee])};U.props=["pointId"];function ne($,Q){return Math.sqrt(Math.pow($[0]-Q[0],2)+Math.pow($[1]-Q[1],2))}const H=Yr(()=>{const $=[];for(let Q=0;Q<t.path.length/2;Q++)$.push(Math.round(ne(t.path[Q*2],t.path[Q*2+1])));return $}),F=Yr(()=>H.value.reduce(($,Q)=>$+Q,0)),L=$=>$<200?"travel-distance-short":$<1e3?"travel-distance-medium":"travel-distance-long";return($,Q)=>(Pe(),Le(nt,null,[z("input",{style:{display:"none"},ref_key:"copyInput",ref:l},null,512),$.path.length>0?(Pe(),Le("div",Yd,[z("div",null,[Ge(St(t.path.length/2-1)+" translocator jumps; approximate walk distance: "+St(F.value)+" blocks. Show TL depths: ",1),Nt(z("input",{type:"checkbox","onUpdate:modelValue":Q[0]||(Q[0]=Z=>u.value=Z)},null,512),[[au,u.value]]),z("ul",Jd,[(Pe(!0),Le(nt,null,Vi(H.value,(Z,ye)=>(Pe(),Le("li",{key:ye},[Q[1]||(Q[1]=Ge(" Walk ")),z("span",{class:Mt(L(Z))},St(Z),3),Q[2]||(Q[2]=Ge(" blocks from ")),We(U,{"point-id":ye*2},null,8,["point-id"]),Q[3]||(Q[3]=Ge(" to ")),We(U,{"point-id":ye*2+1},null,8,["point-id"])]))),128))])])])):xt("",!0)],64))}}),Qd=Jn(Xd,[["__scopeId","data-v-05d69a20"]]),Zd={},eh={width:"16mm",height:"16mm",viewBox:"0 0 64 64"};function th(e,t){return Pe(),Le("svg",eh,t[0]||(t[0]=[z("defs",{id:"defs1"},[z("marker",{style:{overflow:"visible"},id:"Triangle",refX:"0",refY:"0",orient:"auto-start-reverse","inkscape:stockid":"Triangle arrow",markerWidth:"1",markerHeight:"1",viewBox:"0 0 1 1","inkscape:isstock":"true","inkscape:collect":"always",preserveAspectRatio:"xMidYMid"},[z("path",{transform:"scale(0.5)",style:{fill:"context-stroke","fill-rule":"evenodd",stroke:"context-stroke","stroke-width":"1pt"},d:"M 5.77,0 -2.88,5 V -5 Z",id:"path135"})])],-1),z("g",null,[z("path",{style:{display:"inline",fill:"none","fill-rule":"evenodd",stroke:"#b4277f","stroke-width":"2.3","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","marker-end":"url(#Triangle)"},d:"M 36.714256,32.417234 55.671702,32.164468",id:"path1","inkscape:connector-type":"polyline","inkscape:connector-curvature":"0"})],-1)]))}const nh=Jn(Zd,[["render",th]]),rh={},ih={width:"16mm",height:"16mm",viewBox:"0 0 64 64"};function sh(e,t){return Pe(),Le("svg",ih,t[0]||(t[0]=[z("defs",{id:"defs1"},[z("marker",{style:{overflow:"visible"},id:"Triangle-4",refX:"0",refY:"0",orient:"auto-start-reverse","inkscape:stockid":"Triangle arrow",markerWidth:"1",markerHeight:"1",viewBox:"0 0 1 1","inkscape:isstock":"true","inkscape:collect":"always",preserveAspectRatio:"xMidYMid"},[z("path",{transform:"scale(0.5)",style:{fill:"context-stroke","fill-rule":"evenodd",stroke:"context-stroke","stroke-width":"1pt"},d:"M 5.77,0 -2.88,5 V -5 Z",id:"path135-8"})])],-1),z("g",null,[z("path",{style:{display:"inline",fill:"none","fill-rule":"evenodd",stroke:"#b4277f","stroke-width":"2.3","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1","marker-end":"url(#Triangle-4)"},d:"M 2.9187164,32.676452 21.876162,32.423686",id:"path1-4","inkscape:connector-type":"polyline","inkscape:connector-curvature":"0"})],-1)]))}const oh=Jn(rh,[["render",sh]]),lh=["src","frameborder"],ah=vr({__name:"MapFrame",setup(e){const t=$e(""),r=$e(0),s=$e(""),l=$e("");return(u,c)=>(Pe(),Le("iframe",{src:t.value,frameborder:s.value,style:$t(l.value),key:r.value},null,12,lh))}}),uh={class:"zoom-select-container"},ch={class:"zoom-select-group"},fh=["value"],dh={class:"map-overlay-checkbox"},hh=vr({__name:"MapView",setup(e){function t(c){return c===null?"none":""}const r=$e(0);cu("set-display-point",function(c){se.coords=c,se.showMapOverlay=!0,se.url=ho(se.coords)}),Wn(()=>se.showMapOverlay,c=>{c&&se.coords&&r.value++}),Wn(()=>se.zoom,()=>{se.url=ho(se.coords)});function s(){zn("set-display-point",null)}const l=[1/256,1/128,1/64,1/32,1/16,1/8,1/4,1/2,1,2,4,8];function u(){if(se.otherCoords===null||se.coords===null||se.zoom<5)return"";const c=l[se.zoom];if(!c)return"";const h=[se.otherCoords[0]-se.coords[0],se.otherCoords[1]-se.coords[1]],p=[h[0]*c,-h[1]*c];return`translate(${p[0]}px,${p[1]}px)`}return(c,h)=>Re(se).mapLink?(Pe(),Le("div",{key:0,id:"map",style:$t({display:t(Re(se).coords),height:"100vh",position:"relative"})},[z("div",uh,[z("span",ch,[h[3]||(h[3]=Ge(" Zoom: ")),Nt(z("select",{class:"zoom-select","onUpdate:modelValue":h[0]||(h[0]=p=>Re(se).zoom=p)},[(Pe(),Le(nt,null,Vi(11,p=>z("option",{key:p,value:p},St(p),9,fh)),64))],512),[[rd,Re(se).zoom]])]),z("span",dh,[h[4]||(h[4]=Ge("Overlay")),Nt(z("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=p=>Re(se).showMapOverlay=p)},null,512),[[au,Re(se).showMapOverlay]])]),z("button",{class:"close-button",onClick:s},"Close map view")]),(Pe(),Gn(ah,{src:Re(se).url,frameborder:"0",key:r.value,style:{width:"100%",height:"100%",display:"block",position:"absolute",top:"0",left:"0"}},null,8,["src"])),z("div",{class:Mt(["overlay",{"overlay-hidden":!Re(se).showMapOverlay}]),onClick:h[2]||(h[2]=p=>Re(se).showMapOverlay=!1)},[h[6]||(h[6]=z("div",{class:"map-target"},[z("div",{class:"map-target map-target-inside-dot"})],-1)),Re(se).angleOut!==null?(Pe(),Gn(nh,{key:0,class:"map-target-arrow",style:$t({transform:`translate(-50%, -50%) rotate(${Re(se).angleOut}rad)`})},null,8,["style"])):xt("",!0),Re(se).angleIn!==null?(Pe(),Gn(oh,{key:1,class:"map-target-arrow",style:$t({transform:`translate(-50%, -50%) rotate(${Re(se).angleIn}rad)`})},null,8,["style"])):xt("",!0),z("div",{class:"map-target map-target-other",style:$t({transform:`translate(-50%, -50%) ${u()} !important`})},h[5]||(h[5]=[z("div",{class:"map-target map-target-inside-dot"},null,-1)]),4)],2)],4)):xt("",!0)}}),ph=Jn(hh,[["__scopeId","data-v-2c131c69"]]);class ur{start;end;center;size;constructor(t,r){this.start=t,typeof r=="number"?(this.end=[t[0]+r,t[1]+r],this.size=r):(this.end=r,this.size=r[0]-t[0]),this.center=[(this.start[0]+this.end[0])/2,(this.start[1]+this.end[1])/2]}containsPoint(t){return t[0]>=this.start[0]&&t[0]<this.end[0]&&t[1]>=this.start[1]&&t[1]<this.end[1]}intersectsAABB(t){return this.start[0]<=t.end[0]&&this.end[0]>=t.start[0]&&this.start[1]<=t.end[1]&&this.end[1]>=t.start[1]}toString(){return`AABB([[${this.start[0]}, ${this.start[1]}], [${this.end[0]}, ${this.end[1]}]])`}}class Hn{static NODE_CAPACITY=10;boundary;points=[];ids=[];subtrees=null;constructor(t){this.boundary=t}subdivide(){const t=[this.boundary.center[0],this.boundary.start[1]],r=[this.boundary.start[0],this.boundary.center[1]],s=this.boundary.size/2;return{NW:new Hn(new ur(this.boundary.start,s)),NE:new Hn(new ur(t,s)),SW:new Hn(new ur(r,s)),SE:new Hn(new ur(this.boundary.center,s))}}getNodeCount(){return this.points.length+(this.subtrees?this.subtrees?.NE.getNodeCount()+this.subtrees?.NW.getNodeCount()+this.subtrees?.SE.getNodeCount()+this.subtrees?.SW.getNodeCount():0)}insert(t,r){if(!this.boundary.containsPoint(t))return!1;if(this.points.length<Hn.NODE_CAPACITY&&this.subtrees===null)return this.points.push(t),this.ids.push(r),!0;if(this.subtrees===null){this.subtrees=this.subdivide();for(let s=0;s<this.points.length;s++){const l=this.points[s],u=this.ids[s];(this.subtrees.NW.insert(l,u)||this.subtrees.NE.insert(l,u)||this.subtrees.SW.insert(l,u)||this.subtrees.SE.insert(l,u))&&(this.points.splice(s,1),this.ids.splice(s,1),s--)}}return this.subtrees.NW.insert(t,r)||this.subtrees.NE.insert(t,r)||this.subtrees.SW.insert(t,r)||this.subtrees.SE.insert(t,r),!0}queryRange(t){const r=[];if(!this.boundary.intersectsAABB(t))return r;if(this.subtrees===null){for(let s=0;s<this.points.length;s++){const l=this.points[s],u=this.ids[s];t.containsPoint(l)&&r.push([l,u])}return r}return r.push(...this.subtrees.NW.queryRange(t)),r.push(...this.subtrees.NE.queryRange(t)),r.push(...this.subtrees.SW.queryRange(t)),r.push(...this.subtrees.SE.queryRange(t)),r}toString(){const t=[],r=[];for(r.push({tree:this,indent:0});r.length>0;){const s=r.pop(),l="-".repeat(s.indent);t.push(`${l}Tree ${s.tree.boundary.toString()}`);for(const u of s.tree.points)t.push(`${l}>Point[${u[0]}, ${u[1]}]`);s.tree.subtrees&&(r.push({tree:s.tree.subtrees.SE,indent:s.indent+1}),r.push({tree:s.tree.subtrees.SW,indent:s.indent+1}),r.push({tree:s.tree.subtrees.NE,indent:s.indent+1}),r.push({tree:s.tree.subtrees.NW,indent:s.indent+1}))}return t.join(`
`)}}class gh{edges;weights;constructor(t){this.edges=[],this.weights=[],t&&(this.edges=Array.from({length:t}),this.weights=Array.from({length:t}))}addEdge(t,r,s){this.edges[t]||(this.edges[t]=[],this.weights[t]=[]),this.edges[t].push(r),this.weights[t].push(s)}dijkstraPath(t,r){const s=[],l=[],u=[];for(let p=0;p<this.edges.length;p++)s[p]=1/0,l[p]=null,u.push(p);for(s[t]=0;u.length;){let p=-1,E=-1;{let b=1/0;for(let T=0;T<u.length;T++){const K=u[T];s[K]<b&&(b=s[K],p=K,E=T)}u.splice(E,1);for(let T=0;T<this.edges[p].length;T++){const K=s[p]+this.weights[p][T],U=this.edges[p][T];K<s[U]&&(s[U]=K,l[U]=p)}}}const c=[];let h=r;if(l[h]||h===t)for(;h;)c.push(h),h=l[h];return c.reverse()}*dijkstraPathGenerator(t,r){const s=[],l=[],u=[];for(let p=0;p<this.edges.length;p++)s[p]=1/0,l[p]=null,u.push(p);for(s[t]=0;u.length;){let p=-1,E=-1;{let b=1/0;for(let T=0;T<u.length;T++){const K=u[T];s[K]<b&&(b=s[K],p=K,E=T)}u.splice(E,1);for(let T=0;T<this.edges[p].length;T++){const K=s[p]+this.weights[p][T],U=this.edges[p][T];K<s[U]&&(s[U]=K,l[U]=p)}}u.length%1e3===0&&(yield(1-u.length/this.edges.length)*100)}const c=[];let h=r;if(l[h]||h===t)for(;h;)c.push(h),h=l[h];return c.reverse()}}function po(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function*mh(e,t,r={translocatorWeight:0,enableQuadTreeQueryExpansion:!0,queryExpansionStartDist:2e3}){const s=new gh(e.length),l=r.translocatorWeight,u=r.queryExpansionStartDist;for(let c=0;c<e.length;c++){c%1e3===0&&(yield c/e.length*100),c%2===0&&(s.addEdge(c,c+1,l),s.addEdge(c+1,c,l));let h=u,p=[];const E=5;let b=0;for(;p.length<10&&b<E;)p=t.queryRange(new ur([e[c][0]-h,e[c][1]-h],h*2)),h*=5,b++;for(let T=0;T<p.length;T++){const K=p[T][1];if(K===c)continue;const U=p[T],ne=po(e[c],U[0]);s.addEdge(c,K,ne),s.addEdge(K,c,ne)}}return s}async function*yh(e,t){const r=e.features,s=[],l=new Hn(new ur([-1e6,-1e6],2e6));yield"Building node list";for(let F=0;F<r.length;F++){const L=r[F],$=L.geometry.coordinates;s.push([$[0][0],$[0][1],L.properties.depth1]),s.push([$[1][0],$[1][1],L.properties.depth2]),l.insert(L.geometry.coordinates[0],F*2),l.insert(L.geometry.coordinates[1],F*2+1),F%1e3===0&&(yield F/r.length*100)}const u=mh(s,l,t);let c;for(yield"Building graph";!(c=u.next()).done;)yield c.value;const h=c.value,p=s.length;s.push(t.from),l.insert(t.from,p);for(let F=0;F<s.length-1;F++){const L=po(s[F],t.from);h.addEdge(F,p,L),h.addEdge(p,F,L)}const E=s.length;l.insert(t.to,E),s.push(t.to);for(let F=0;F<s.length-1;F++){const L=po(s[F],t.to);h.addEdge(F,E,L),h.addEdge(E,F,L)}function b(F,L){return F===p||F===E||L===p||L===E?!1:Math.abs(F-L)===1&&Math.min(F,L)%2===0}const T=h.dijkstraPathGenerator(p,E);for(yield"Finding path";!(c=T.next()).done;)yield c.value;const K=c.value,U=0,ne=1,H=[ne,ne];for(let F=2;F<K.length-1;F++){const L=K[F],$=K[F-1];b(L,$)?(H[F-1]=ne,H[F]=ne):H[F]=U}for(let F=H.length-1;F>0;F--)H[F]===U&&K.splice(F,1);return K.map(F=>s[F])}const vh=["href"],bh=["href"],wh=vr({__name:"ServerEditor",setup(e){let t,r;const s=$e(""),l=$e(""),u=$e(null),c=$e(null),h=()=>{const ne=new FileReader,H=u.value;ne.onload=function(){const F=ne.result;try{const L=JSON.parse(F);if(L.type==="FeatureCollection"&&L.name==="translocators"){t=L;return}}catch(L){console.log(L)}alert("Please select a corrent translocators.geojson file"),H.value=""},H.files&&H.files[0]&&ne.readAsText(H.files[0])},p=()=>{const ne=new FileReader,H=c.value;ne.onload=function(){const F=ne.result;try{const L=JSON.parse(F);if(L.type==="FeatureCollection"&&L.name==="landmarks"){r=L;return}}catch(L){console.log(L)}alert("Please select a corrent landmarks.geojson file"),H.value=""},H.files&&H.files[0]&&ne.readAsText(H.files[0])},E=()=>{if(s.value===Ri){alert("Cannot overwrite default server data!");return}Yn.servers.put({name:s.value,url:l.value,translocatorsGeojson:t,landmarksGeojson:r}),zn("serverListUpdated",{currentServer:s.value}),zn("updateServerInfo",s.value),se.isEditingServer=!1},b=()=>{s.value="",l.value="",u.value.value="",c.value.value=""},T=()=>{if(s.value===Ri){alert("Cannot delete default server data!");return}Yn.servers.where("name").equals(s.value).delete(),zn("serverListUpdated"),se.isEditingServer=!1,se.currentServer=Ri},K=()=>{b(),se.isEditingServer=!1},U=()=>{se.isEditingServer=!0,s.value=se.currentServer,l.value=se.mapLink;const ne=new DataTransfer;if(ne.items.add(new File([JSON.stringify(se.translocatorsGeojson)],"translocators.geojson",{type:"application/json"})),u.value.files=ne.files,h(),se.landmarksGeojson){const H=new DataTransfer;H.items.add(new File([JSON.stringify(se.landmarksGeojson)],"landmarks.geojson",{type:"application/json"})),c.value.files=H.files,p()}};return(ne,H)=>(Pe(),Le("div",null,[We(Re(Do),{class:"server-select",modelValue:Re(se).currentServer,"onUpdate:modelValue":H[0]||(H[0]=F=>Re(se).currentServer=F),disabled:Re(se).isEditingServer,options:Re(se).serverList,searchable:!1,"allow-empty":!1,showLabels:!1},null,8,["modelValue","disabled","options"]),H[8]||(H[8]=Ge()),z("button",{onClick:U},"Configure"),H[9]||(H[9]=Ge()),z("button",{class:Mt({hidden:!Re(se).isEditingServer}),onClick:E},"Save",2),H[10]||(H[10]=Ge()),z("button",{class:Mt({hidden:!Re(se).isEditingServer}),onClick:K},"Cancel",2),z("div",{class:Mt(["server-editor",{hidden:!Re(se).isEditingServer}])},[z("div",null,[z("button",{onClick:b},"Clear"),H[3]||(H[3]=Ge()),z("button",{onClick:T},"Delete")]),H[6]||(H[6]=z("div",null,"Server name:",-1)),z("div",null,[Nt(z("input",{"onUpdate:modelValue":H[1]||(H[1]=F=>s.value=F),type:"text"},null,512),[[uo,s.value]])]),H[7]||(H[7]=z("div",null,"Webmap link (set to get geojson file links and webmap view):",-1)),z("div",null,[Nt(z("input",{"onUpdate:modelValue":H[2]||(H[2]=F=>l.value=F),type:"text"},null,512),[[uo,l.value]])]),z("div",null,[H[4]||(H[4]=Ge("translocators.geojson: ")),l.value?(Pe(),Le("a",{key:0,href:Re(fo)(l.value)+"/data/geojson/translocators.geojson"},"download",8,vh)):xt("",!0)]),z("div",null,[z("input",{ref_key:"translocatorsInput",ref:u,accept:".json, .geojson",id:"translocators_file",type:"file",onChange:h},null,544)]),z("div",null,[H[5]||(H[5]=Ge("landmarks.geojson: ")),l.value?(Pe(),Le("a",{key:0,href:Re(fo)(l.value)+"/data/geojson/landmarks.geojson"},"download",8,bh)):xt("",!0)]),z("div",null,[z("input",{ref_key:"landmarksInput",ref:c,accept:".json, .geojson",id:"landmarks_file",type:"file",onChange:p},null,544)])],2)]))}}),_h=Jn(wh,[["__scopeId","data-v-1bc93c29"]]),xh={id:"root",class:"container"},Sh={id:"params"},Oh={class:"editor-line"},kh={class:"editor-line"},Eh={class:"editor-line"},Ch={class:"editor-line"},Th=["disabled"],Ph=["title"],Ah=["disabled"],Ih={key:0,class:"progress"},jh={id:"path-output"},Mh=vr({__name:"App",setup(e){function t(){return window.innerWidth<1500||window.innerWidth<window.innerHeight}const r=$e({coordinates:[0,0]}),s=$e({coordinates:[0,0]}),l=$e(!1),u=$e(0),c=$e(""),h=$e([]),p=$e(1e3),E=$e(300),b=$e(t()),T=Yr(()=>({left:!0,"left-fullwidth":se.coords===null}));async function K(F,L){if(!F||!L)return;const $=[F.coordinates[0],-F.coordinates[1]],Q=[L.coordinates[0],-L.coordinates[1]];if(l.value||!se.translocatorsGeojson)return;l.value=!0,u.value=0;const Z=yh(se.translocatorsGeojson,{from:$,to:Q,queryExpansionStartDist:p.value,translocatorWeight:E.value});let ye;for(;!(ye=await Z.next()).done;)typeof ye.value=="string"?c.value=ye.value:u.value=ye.value,await new Promise(Ee=>setTimeout(Ee,0));const Ie=(await ye).value;h.value=Ie,l.value=!1}function U(){K(r.value,s.value)}function ne(F){se.isEditingServer||document.querySelectorAll(".multiselect__content-wrapper").entries().every(L=>L[1].style.display==="none")&&F.key==="Enter"&&K(r.value,s.value)}const H=()=>{b.value=t()};return Po(async()=>{window.addEventListener("keydown",ne),window.addEventListener("resize",H)}),Ao(async()=>{window.removeEventListener("keydown",ne),window.removeEventListener("resize",H)}),(F,L)=>(Pe(),Le(nt,null,[L[8]||(L[8]=z("header",null,null,-1)),z("main",null,[z("div",xh,[z("div",{class:Mt(T.value)},[z("div",Sh,[z("div",Oh,[L[3]||(L[3]=Ge(" Select server: ")),We(_h)]),z("div",kh,[L[4]||(L[4]=Ge(" From: ")),We(Zl,{modelValue:r.value,"onUpdate:modelValue":L[0]||(L[0]=$=>r.value=$)},null,8,["modelValue"])]),z("div",Eh,[L[5]||(L[5]=Ge(" To: ")),We(Zl,{modelValue:s.value,"onUpdate:modelValue":L[1]||(L[1]=$=>s.value=$)},null,8,["modelValue"])]),z("div",Ch,[L[6]||(L[6]=Ge(" More teleporting ")),Nt(z("input",{disabled:Re(se).isEditingServer,type:"range",min:"0",max:"1000","onUpdate:modelValue":L[2]||(L[2]=$=>E.value=$)},null,8,Th),[[uo,E.value,void 0,{number:!0}]]),L[7]||(L[7]=Ge(" more walking. ")),z("span",null,"(Translocator weight "+St(E.value)+")",1),z("span",{class:"help-tooltip",title:E.value===0?"0 means you don't want any extra walking for less teleportations":`This means you're fine walking extra ${E.value} for one less teleportation`,onclick:"alert(this.title)"},"?",8,Ph)]),z("button",{disabled:Re(se).isEditingServer,onClick:U,class:"calculate-button"},"Calculate",8,Ah),l.value?(Pe(),Le("div",Ih,[z("p",null,St(c.value)+": "+St(u.value.toFixed(1))+"%",1)])):xt("",!0)]),z("div",jh,[We(Qd,{path:h.value},null,8,["path"])])],2),z("div",{class:Mt({right:!b.value,"map-popup":b.value}),style:$t({display:Re(se).coords===null?"none":"block"})},[We(ph)],6)])])],64))}});ud(Mh).mount("#app");
